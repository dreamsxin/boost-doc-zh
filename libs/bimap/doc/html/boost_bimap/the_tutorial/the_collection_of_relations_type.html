<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>The collection of relations type &#20851;&#31995;&#32452;&#21512;&#30340;&#31867;&#22411;</title>
<link rel="stylesheet" href="../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="../../index.html" title="Chapter 1. Boost.Bimap">
<link rel="up" href="../the_tutorial.html" title="The tutorial &#25351;&#21335;">
<link rel="prev" href="controlling_collection_types.html" title="Controlling collection types &#25511;&#21046;&#32452;&#21512;&#30340;&#31867;&#22411;">
<link rel="next" href="differences_with_standard_maps.html" title="Differences with standard maps &#19982;&#26631;&#20934;map&#30340;&#24046;&#24322;">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="controlling_collection_types.html"><img src="../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../the_tutorial.html"><img src="../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="differences_with_standard_maps.html"><img src="../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="boost_bimap.the_tutorial.the_collection_of_relations_type"></a><a class="link" href="the_collection_of_relations_type.html" title="The collection of relations type &#20851;&#31995;&#32452;&#21512;&#30340;&#31867;&#22411;">
      The collection of relations type &#20851;&#31995;&#32452;&#21512;&#30340;&#31867;&#22411;</a>
</h3></div></div></div>
<div class="toc"><dl>
<dt><span class="section"><a href="the_collection_of_relations_type.html#boost_bimap.the_tutorial.the_collection_of_relations_type.a_new_point_of_view">
        A new point of view &#23545;&#20110;&#35270;&#22270;&#30340;&#19968;&#20010;&#26032;&#35266;&#28857;</a></span></dt>
<dt><span class="section"><a href="the_collection_of_relations_type.html#boost_bimap.the_tutorial.the_collection_of_relations_type.configuration_parameters">
        Configuration parameters &#37197;&#32622;&#21442;&#25968;</a></span></dt>
<dt><span class="section"><a href="the_collection_of_relations_type.html#boost_bimap.the_tutorial.the_collection_of_relations_type.examples">
        Examples &#31034;&#20363;</a></span></dt>
</dl></div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_bimap.the_tutorial.the_collection_of_relations_type.a_new_point_of_view"></a><a class="link" href="the_collection_of_relations_type.html#boost_bimap.the_tutorial.the_collection_of_relations_type.a_new_point_of_view" title="A new point of view &#23545;&#20110;&#35270;&#22270;&#30340;&#19968;&#20010;&#26032;&#35266;&#28857;">
        A new point of view &#23545;&#20110;&#35270;&#22270;&#30340;&#19968;&#20010;&#26032;&#35266;&#28857;</a>
</h4></div></div></div>
<p>
          Being able to change the collection type of the bimap relation view is
          another very important feature. Remember that this view allows the user
          to see the container as a group of the stored relations. This view has
          set semantics instead of map semantics.<br> &#33021;&#22815;&#20462;&#25913; bimap &#20851;&#31995;&#35270;&#22270;&#30340;&#32452;&#21512;&#31867;&#22411;&#26159;
          bimap &#30340;&#21478;&#19968;&#20010;&#37325;&#35201;&#29305;&#24615;&#12290;&#35813;&#35270;&#22270;&#21487;&#20197;&#20801;&#35768;&#29992;&#25143;&#23558;&#23481;&#22120;&#35270;&#20026;&#25152;&#20445;&#23384;&#20851;&#31995;&#30340;&#19968;&#20010;&#32676;&#32452;&#12290;
          &#35813;&#35270;&#22270;&#20855;&#26377; set &#35821;&#20041;&#32780;&#19981;&#26159; map &#35821;&#20041;&#12290;
        </p>
<p>
          <span class="inlinemediaobject"><img src="../../images/bimap/collection.type.of.relation.png" alt="collection.type.of.relation"></span>
        </p>
<p>
          By default, Boost.Bimap will base the collection type of the relation on
          the type of the left collection. If the left collection type is a set,
          then the collection type of the relation will be a set with the same order
          as the left view.<br> &#32570;&#30465;&#24773;&#20917;&#19979;&#65292;Boost.Bimap &#23558;&#20854;&#20851;&#31995;&#30340;&#32452;&#21512;&#31867;&#22411;&#22522;&#20110;&#20854;&#24038;&#32452;&#31867;&#22411;&#12290;&#22914;&#26524;&#24038;&#32452;&#31867;&#22411;&#20026;
          set&#65292; &#21017;&#20851;&#31995;&#30340;&#32452;&#21512;&#31867;&#22411;&#21516;&#26679;&#26159;&#19968;&#20010; set&#65292;&#24182;&#20855;&#26377;&#19982;&#24038;&#35270;&#22270;&#30456;&#21516;&#30340;&#39034;&#24207;&#12290;
        </p>
<p>
          In general, Boost.Bimap users will base the collection type of a relation
          on the type of the collection on one of the two sides. However there are
          times where it is useful to give this collection other constraints or simply
          to order it differently. The user is allowed to choose between:<br> &#36890;&#24120;&#65292;Boost.Bimap
          &#30340;&#29992;&#25143;&#20250;&#23558;&#20851;&#31995;&#30340;&#32452;&#21512;&#31867;&#22411;&#22522;&#20110;&#20004;&#26041;&#32452;&#21512;&#20043;&#19968;&#12290; &#20294;&#26159;&#26377;&#26102;&#20505;&#20063;&#38656;&#35201;&#23545;&#35813;&#32452;&#21512;&#32473;&#23450;&#20854;&#23427;&#32422;&#26463;&#25110;&#32773;&#20351;&#20854;&#39034;&#24207;&#19981;&#21516;&#12290;&#29992;&#25143;&#21487;&#20197;&#20174;&#20197;&#19979;&#25152;&#21015;&#36827;&#34892;&#36873;&#25321;
        </p>
<div class="itemizedlist"><ul type="disc">
<li>
            left_based
          </li>
<li>
            right_based
          </li>
<li>
            set_of_relation&lt;&gt;
          </li>
<li>
            multiset_of_relation&lt;&gt;
          </li>
<li>
            unordered_set_of_relation&lt;&gt;
          </li>
<li>
            unordered_multiset_of_relation&lt;&gt;
          </li>
<li>
            list_of_relation
          </li>
<li>
            vector_of_relation
          </li>
<li>
            unconstrained_set_of_relation
          </li>
</ul></div>
<div class="tip"><table border="0" summary="Tip">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="../../../../../../doc/html/images/tip.png"></td>
<th align="left">Tip</th>
</tr>
<tr><td align="left" valign="top"><p>
            The first two options and the last produce faster bimaps, so prefer these
            where possible.<br> &#22836;&#20004;&#20010;&#21644;&#26368;&#21518;&#19968;&#20010;&#36873;&#25321;&#21487;&#20197;&#20135;&#29983;&#36739;&#24555;&#30340;
            bimap&#65292;&#25152;&#20197;&#24212;&#35813;&#23613;&#21487;&#33021;&#20248;&#20808;&#36873;&#25321;&#23427;&#20204;&#12290;
          </p></td></tr>
</table></div>
<p>
          <span class="inlinemediaobject"><img src="../../images/bimap/more.bimap.structures.png" alt="more.bimap.structures"></span>
        </p>
<p>
          The collection type of relation can be used to create powerful containers.
          For example, if you need to maximize search speed, then the best bidirectional
          map possible is one that relates elements from an <code class="computeroutput"><span class="identifier">unordered_set</span></code>
          to another <code class="computeroutput"><span class="identifier">unordered_set</span></code>.
          The problem is that this container cannot be iterated. If you need to know
          the list of relations inside the container, you need another collection
          type of relation. In this case, a <code class="computeroutput"><span class="identifier">list_of_relation</span></code>
          is a good choice. The resulting container trades insertion and deletion
          time against fast search capabilities and the possibility of bidirectional
          iteration.<br> &#20851;&#31995;&#32452;&#21512;&#30340;&#31867;&#22411;&#21487;&#20197;&#29992;&#20110;&#21019;&#24314;&#24378;&#22823;&#30340;&#23481;&#22120;&#12290;&#20363;&#22914;&#65292;&#22914;&#26524;&#20320;&#38656;&#35201;&#26368;&#24555;&#30340;&#26597;&#25214;&#36895;&#24230;&#65292;&#37027;&#20040;&#26368;&#22909;&#30340;&#21452;&#21521;&#26144;&#23556;&#21487;&#33021;&#26159;&#36825;&#26679;&#30340;&#65292;
          &#30456;&#20851;&#32852;&#30340;&#20803;&#32032;&#20174;&#19968;&#20010; <code class="computeroutput"><span class="identifier">unordered_set</span></code>
          &#26144;&#23556;&#21040;&#21478;&#19968;&#20010; <code class="computeroutput"><span class="identifier">unordered_set</span></code>&#12290;&#38382;&#39064;&#26159;&#65292;&#36825;&#20010;&#23481;&#22120;&#19981;&#33021;&#34987;&#36941;&#21382;&#12290;
          &#22914;&#26524;&#20320;&#38656;&#35201;&#30693;&#36947;&#23481;&#22120;&#20869;&#37096;&#30340;&#20851;&#31995;&#21015;&#34920;&#65292;&#20320;&#23601;&#38656;&#35201;&#21478;&#19968;&#31181;&#30340;&#20851;&#31995;&#32452;&#21512;&#31867;&#22411;&#12290;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;<code class="computeroutput"><span class="identifier">list_of_relation</span></code> &#26159;&#19968;&#20010;&#22909;&#30340;&#36873;&#25321;&#12290;
          &#36825;&#26679;&#25152;&#24471;&#21040;&#30340;&#23481;&#22120;&#20197;&#29306;&#29298;&#25554;&#20837;&#21644;&#21024;&#38500;&#30340;&#26102;&#38388;&#25442;&#21462;&#20102;&#26356;&#24555;&#30340;&#26597;&#25214;&#36895;&#24230;&#65292;&#24182;&#19988;&#21487;&#20197;&#34987;&#21452;&#21521;&#36941;&#21382;&#12290;
        </p>
<p>
          <a href="../../../../example/mighty_bimap.cpp" target="_top">Go to source code &#23519;&#30475;&#28304;&#20195;&#30721;</a>
        </p>
<p>
          </p>
<p>
            
</p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">iostream</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">string</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">bimap</span><span class="special">/</span><span class="identifier">bimap</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">bimap</span><span class="special">/</span><span class="identifier">list_of</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">bimap</span><span class="special">/</span><span class="identifier">unordered_set_of</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>

<span class="keyword">struct</span> <span class="identifier">english</span> <span class="special">{};</span>
<span class="keyword">struct</span> <span class="identifier">spanish</span> <span class="special">{};</span>

<span class="keyword">int</span> <span class="identifier">main</span><span class="special">()</span>
<span class="special">{</span>
    <span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">bimaps</span><span class="special">;</span>

    <span class="keyword">typedef</span> <span class="identifier">bimap</span>
    <span class="special">&lt;</span>
        <span class="identifier">unordered_set_of</span><span class="special">&lt;</span> <span class="identifier">tagged</span><span class="special">&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">,</span> <span class="identifier">spanish</span> <span class="special">&gt;</span> <span class="special">&gt;,</span>
        <span class="identifier">unordered_set_of</span><span class="special">&lt;</span> <span class="identifier">tagged</span><span class="special">&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">,</span> <span class="identifier">english</span> <span class="special">&gt;</span> <span class="special">&gt;,</span>
        <span class="identifier">list_of_relation</span>

    <span class="special">&gt;</span> <span class="identifier">translator</span><span class="special">;</span>

    <span class="identifier">translator</span> <span class="identifier">trans</span><span class="special">;</span>

    <span class="comment">// We have to use `push_back` because the collection of relations is
</span>    <span class="comment">// a `list_of_relation`
</span>
    <span class="identifier">trans</span><span class="special">.</span><span class="identifier">push_back</span><span class="special">(</span> <span class="identifier">translator</span><span class="special">::</span><span class="identifier">value_type</span><span class="special">(</span><span class="string">"hola"</span>  <span class="special">,</span><span class="string">"hello"</span>   <span class="special">)</span> <span class="special">);</span>
    <span class="identifier">trans</span><span class="special">.</span><span class="identifier">push_back</span><span class="special">(</span> <span class="identifier">translator</span><span class="special">::</span><span class="identifier">value_type</span><span class="special">(</span><span class="string">"adios"</span> <span class="special">,</span><span class="string">"goodbye"</span> <span class="special">)</span> <span class="special">);</span>
    <span class="identifier">trans</span><span class="special">.</span><span class="identifier">push_back</span><span class="special">(</span> <span class="identifier">translator</span><span class="special">::</span><span class="identifier">value_type</span><span class="special">(</span><span class="string">"rosa"</span>  <span class="special">,</span><span class="string">"rose"</span>    <span class="special">)</span> <span class="special">);</span>
    <span class="identifier">trans</span><span class="special">.</span><span class="identifier">push_back</span><span class="special">(</span> <span class="identifier">translator</span><span class="special">::</span><span class="identifier">value_type</span><span class="special">(</span><span class="string">"mesa"</span>  <span class="special">,</span><span class="string">"table"</span>   <span class="special">)</span> <span class="special">);</span>

    <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"enter a word"</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span> <span class="identifier">word</span><span class="special">;</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">getline</span><span class="special">(</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">cin</span><span class="special">,</span><span class="identifier">word</span><span class="special">);</span>

    <span class="comment">// Search the queried word on the from index (Spanish)
</span>
    <span class="identifier">translator</span><span class="special">::</span><span class="identifier">map_by</span><span class="special">&lt;</span><span class="identifier">spanish</span><span class="special">&gt;::</span><span class="identifier">const_iterator</span> <span class="identifier">is</span>
        <span class="special">=</span> <span class="identifier">trans</span><span class="special">.</span><span class="identifier">by</span><span class="special">&lt;</span><span class="identifier">spanish</span><span class="special">&gt;().</span><span class="identifier">find</span><span class="special">(</span><span class="identifier">word</span><span class="special">);</span>

    <span class="keyword">if</span><span class="special">(</span> <span class="identifier">is</span> <span class="special">!=</span> <span class="identifier">trans</span><span class="special">.</span><span class="identifier">by</span><span class="special">&lt;</span><span class="identifier">spanish</span><span class="special">&gt;().</span><span class="identifier">end</span><span class="special">()</span> <span class="special">)</span>
    <span class="special">{</span>
        <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="identifier">word</span> <span class="special">&lt;&lt;</span> <span class="string">" is said "</span>
                  <span class="special">&lt;&lt;</span> <span class="identifier">is</span><span class="special">-&gt;</span><span class="identifier">get</span><span class="special">&lt;</span><span class="identifier">english</span><span class="special">&gt;()</span>
                  <span class="special">&lt;&lt;</span> <span class="string">" in English"</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
    <span class="special">}</span>
    <span class="keyword">else</span>
    <span class="special">{</span>
        <span class="comment">// Word not found in Spanish, try our luck in English
</span>
        <span class="identifier">translator</span><span class="special">::</span><span class="identifier">map_by</span><span class="special">&lt;</span><span class="identifier">english</span><span class="special">&gt;::</span><span class="identifier">const_iterator</span> <span class="identifier">ie</span>
            <span class="special">=</span> <span class="identifier">trans</span><span class="special">.</span><span class="identifier">by</span><span class="special">&lt;</span><span class="identifier">english</span><span class="special">&gt;().</span><span class="identifier">find</span><span class="special">(</span><span class="identifier">word</span><span class="special">);</span>

        <span class="keyword">if</span><span class="special">(</span> <span class="identifier">ie</span> <span class="special">!=</span> <span class="identifier">trans</span><span class="special">.</span><span class="identifier">by</span><span class="special">&lt;</span><span class="identifier">english</span><span class="special">&gt;().</span><span class="identifier">end</span><span class="special">()</span> <span class="special">)</span>
        <span class="special">{</span>
            <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="identifier">word</span> <span class="special">&lt;&lt;</span> <span class="string">" is said "</span>
                      <span class="special">&lt;&lt;</span> <span class="identifier">ie</span><span class="special">-&gt;</span><span class="identifier">get</span><span class="special">&lt;</span><span class="identifier">spanish</span><span class="special">&gt;()</span>
                      <span class="special">&lt;&lt;</span> <span class="string">" in Spanish"</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
        <span class="special">}</span>
        <span class="keyword">else</span>
        <span class="special">{</span>
            <span class="comment">// Word not found, show the possible translations
</span>
            <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"No such word in the dictionary"</span>      <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
            <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"These are the possible translations"</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>

            <span class="keyword">for</span><span class="special">(</span> <span class="identifier">translator</span><span class="special">::</span><span class="identifier">const_iterator</span>
                    <span class="identifier">i</span> <span class="special">=</span> <span class="identifier">trans</span><span class="special">.</span><span class="identifier">begin</span><span class="special">(),</span>
                    <span class="identifier">i_end</span> <span class="special">=</span> <span class="identifier">trans</span><span class="special">.</span><span class="identifier">end</span><span class="special">();</span>

                    <span class="identifier">i</span> <span class="special">!=</span> <span class="identifier">i_end</span> <span class="special">;</span> <span class="special">++</span><span class="identifier">i</span> <span class="special">)</span>
            <span class="special">{</span>
                <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="identifier">i</span><span class="special">-&gt;</span><span class="identifier">get</span><span class="special">&lt;</span><span class="identifier">spanish</span><span class="special">&gt;()</span>
                          <span class="special">&lt;&lt;</span> <span class="string">" &lt;---&gt; "</span>
                          <span class="special">&lt;&lt;</span> <span class="identifier">i</span><span class="special">-&gt;</span><span class="identifier">get</span><span class="special">&lt;</span><span class="identifier">english</span><span class="special">&gt;()</span>
                          <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
            <span class="special">}</span>
        <span class="special">}</span>
    <span class="special">}</span>
    <span class="keyword">return</span> <span class="number">0</span><span class="special">;</span>
<span class="special">}</span>
</pre>
<p>
          </p>
<p>
        </p>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_bimap.the_tutorial.the_collection_of_relations_type.configuration_parameters"></a><a class="link" href="the_collection_of_relations_type.html#boost_bimap.the_tutorial.the_collection_of_relations_type.configuration_parameters" title="Configuration parameters &#37197;&#32622;&#21442;&#25968;">
        Configuration parameters &#37197;&#32622;&#21442;&#25968;</a>
</h4></div></div></div>
<p>
          Each collection type of relation has different parameters to control its
          behaviour. For example, in the <code class="computeroutput"><span class="identifier">set_of_relation</span></code>
          specification, you can pass a Functor type that compares two types. All
          of the parameters are exactly as in the standard library containers, except
          for the type, which is set to the bimap relation and the allocator type.
          To help users in the creation of each functor, the collection type of relation
          templates takes an mpl lambda expression where the relation type will be
          evaluated later. A placeholder named <code class="computeroutput"><span class="identifier">_relation</span></code>
          is available to bimap users.<br> &#27599;&#19968;&#31181;&#20851;&#31995;&#32452;&#21512;&#31867;&#22411;&#37117;&#26377;&#19981;&#21516;&#30340;&#21442;&#25968;&#26469;&#25511;&#21046;&#20854;&#34892;&#20026;&#12290;&#20363;&#22914;&#65292;&#22312;
          <code class="computeroutput"><span class="identifier">set_of_relation</span></code> &#30340;&#35268;&#26684;&#35828;&#26126;&#20013;&#65292;
          &#20320;&#21487;&#20197;&#20256;&#20837;&#19968;&#20010;&#20989;&#25968;&#23545;&#35937;&#31867;&#22411;&#26469;&#27604;&#36739;&#20004;&#31181;&#31867;&#22411;&#12290;&#25152;&#26377;&#36825;&#20123;&#21442;&#25968;&#37117;&#19982;&#26631;&#20934;&#24211;&#20013;&#30340;&#19968;&#33268;&#65292;
          &#38500;&#20102;&#29992;&#20110;&#37027;&#20123;&#34987;&#35774;&#32622;&#20026; bimap &#20851;&#31995;&#30340;&#31867;&#22411;&#21644;&#20998;&#37197;&#22120;&#31867;&#22411;&#12290;&#20026;&#20102;&#24110;&#21161;&#29992;&#25143;&#21019;&#24314;&#27599;&#20010;&#20989;&#25968;&#23545;&#35937;&#65292;
          &#20851;&#31995;&#32452;&#21512;&#31867;&#22411;&#30340;&#27169;&#26495;&#25509;&#21463;&#19968;&#20010; mpl lambda &#34920;&#36798;&#24335;&#65292;&#20851;&#31995;&#30340;&#31867;&#22411;&#20250;&#34987;&#24310;&#36831;&#27714;&#20540;&#12290;
          bimap &#30340;&#29992;&#25143;&#21487;&#20197;&#20351;&#29992;&#19968;&#20010;&#21517;&#20026; <code class="computeroutput"><span class="identifier">_relation</span></code>
          &#30340;&#21344;&#20301;&#31526;&#12290;
        </p>
<p>
          The following table lists the meaning of the parameters for each collection
          type of relations.<br> &#19979;&#34920;&#21015;&#20986;&#20102;&#27599;&#31181;&#20851;&#31995;&#32452;&#21512;&#31867;&#22411;&#30340;&#21508;&#20010;&#21442;&#25968;&#30340;&#24847;&#20041;&#12290;
        </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                <p>
                  name &#21517;&#23383;
                </p>
                </th>
<th>
                <p>
                  Additional Parameters &#39069;&#22806;&#30340;&#21442;&#25968;
                </p>
                </th>
</tr></thead>
<tbody>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">left_based</span></code>
                </p>
                </td>
<td>
                <p>
                  Not a template.<br> &#38750;&#27169;&#26495;&#12290;
                </p>
                </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">right_based</span></code>
                </p>
                </td>
<td>
                <p>
                  Not a template.<br> &#38750;&#27169;&#26495;&#12290;
                </p>
                </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">set_of_relation</span><span class="special">&lt;</span><span class="identifier">KeyComp</span><span class="special">&gt;</span></code>
                </p>
                <p>
                  <code class="computeroutput"><span class="identifier">multiset_of_relation</span><span class="special">&lt;</span><span class="identifier">KeyComp</span><span class="special">&gt;</span></code>
                </p>
                </td>
<td>
                <p>
                  <span class="bold"><strong>KeyComp </strong></span> is a Functor that compares
                  two types using less than. By default, the less-than operator is
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">less</span><span class="special">&lt;</span><span class="identifier">_relation</span><span class="special">&gt;</span></code>.
                  <br> <span class="bold"><strong>KeyComp</strong></span> &#26159;&#19968;&#20010;&#20989;&#25968;&#23545;&#35937;&#65292;&#23427;&#29992;&#23567;&#20110;&#20851;&#31995;&#27604;&#36739;&#20004;&#20010;&#31867;&#22411;&#12290;&#32570;&#30465;&#24773;&#20917;&#19979;&#65292;&#23567;&#20110;&#27604;&#36739;&#25805;&#20316;&#31526;&#20026;
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">less</span><span class="special">&lt;</span><span class="identifier">_relation</span><span class="special">&gt;</span></code>.
                </p>
                </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">unordered_set_of_relation</span><span class="special">&lt;</span><span class="identifier">HashFunctor</span><span class="special">,</span><span class="identifier">EqualKey</span><span class="special">&gt;</span></code>
                </p>
                <p>
                  <code class="computeroutput"><span class="identifier">unordered_multiset_of_relation</span><span class="special">&lt;</span><span class="identifier">HashFunctor</span><span class="special">,</span><span class="identifier">EqualKey</span><span class="special">&gt;</span></code>
                </p>
                </td>
<td>
                <p>
                  <span class="bold"><strong>HashFunctor </strong></span> converts the <code class="computeroutput"><span class="identifier">relation</span></code> into an <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span></code> value. By default it is
                  <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">hash</span><span class="special">&lt;</span><span class="identifier">_relation</span><span class="special">&gt;</span></code>.<br>
                  <span class="bold"><strong>HashFunctor</strong></span> &#23558; <code class="computeroutput"><span class="identifier">relation</span></code> &#36716;&#25442;&#20026;&#19968;&#20010; <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span></code> &#20540;&#12290;&#32570;&#30465;&#24773;&#20917;&#19979;&#65292;&#23427;&#26159;
                  <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">hash</span><span class="special">&lt;</span><span class="identifier">_relation</span><span class="special">&gt;</span></code>.
                </p>
                <p>
                  <span class="bold"><strong>EqualKey </strong></span> is a Functor that tests
                  two relations for equality. By default, the equality operator is
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">equal_to</span><span class="special">&lt;</span><span class="identifier">_relation</span><span class="special">&gt;</span></code>.
                  <br> <span class="bold"><strong>EqualKey</strong></span> &#26159;&#19968;&#20010;&#20989;&#25968;&#23545;&#35937;&#65292;&#23427;&#27979;&#35797;&#20004;&#20010;&#31867;&#22411;&#30340;&#31561;&#20215;&#24615;&#12290;&#32570;&#30465;&#24773;&#20917;&#19979;&#65292;&#31561;&#20215;&#25805;&#20316;&#31526;&#20026;
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">equal_to</span><span class="special">&lt;</span><span class="identifier">_relation</span><span class="special">&gt;</span></code>.
                </p>
                </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">list_of_relation</span></code>
                </p>
                </td>
<td>
                <p>
                  Not a template.<br> &#38750;&#27169;&#26495;&#12290;
                </p>
                </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">vector_of_relation</span></code>
                </p>
                </td>
<td>
                <p>
                  Not a template.<br> &#38750;&#27169;&#26495;&#12290;
                </p>
                </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">unconstrained_set_of_relation</span></code>
                </p>
                </td>
<td>
                <p>
                  Not a template.<br> &#38750;&#27169;&#26495;&#12290;
                </p>
                </td>
</tr>
</tbody>
</table></div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_bimap.the_tutorial.the_collection_of_relations_type.examples"></a><a class="link" href="the_collection_of_relations_type.html#boost_bimap.the_tutorial.the_collection_of_relations_type.examples" title="Examples &#31034;&#20363;">
        Examples &#31034;&#20363;</a>
</h4></div></div></div>
<p>
          Consider this example:<br> &#32771;&#34385;&#20197;&#19979;&#20363;&#23376;&#65306;
        </p>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span> <span class="keyword">class</span> <span class="identifier">Rel</span> <span class="special">&gt;</span>
<span class="keyword">struct</span> <span class="identifier">RelOrder</span>
<span class="special">{</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">()(</span><span class="identifier">Rel</span> <span class="identifier">ra</span><span class="special">,</span> <span class="identifier">Rel</span> <span class="identifier">rb</span><span class="special">)</span> <span class="keyword">const</span>
    <span class="special">{</span>
        <span class="keyword">return</span> <span class="special">(</span><span class="identifier">ra</span><span class="special">.</span><span class="identifier">left</span><span class="special">+</span><span class="identifier">ra</span><span class="special">.</span><span class="identifier">right</span><span class="special">)</span> <span class="special">&lt;</span> <span class="special">(</span><span class="identifier">rb</span><span class="special">.</span><span class="identifier">left</span><span class="special">+</span><span class="identifier">rb</span><span class="special">.</span><span class="identifier">right</span><span class="special">);</span>
    <span class="special">}</span>
<span class="special">};</span>

<span class="keyword">typedef</span> <span class="identifier">bimap</span>
<span class="special">&lt;</span>
        <span class="identifier">multiset_of</span><span class="special">&lt;</span> <span class="keyword">int</span> <span class="special">&gt;,</span>
        <span class="identifier">multiset_of</span><span class="special">&lt;</span> <span class="keyword">int</span> <span class="special">&gt;,</span>
        <span class="identifier">set_of_relation</span><span class="special">&lt;</span> <span class="identifier">RelOrder</span><span class="special">&lt;</span><span class="identifier">_relation</span><span class="special">&gt;</span> <span class="special">&gt;</span>

<span class="special">&gt;</span> <span class="identifier">bimap_type</span><span class="special">;</span>
</pre>
<p>
          Here the bimap relation view is ordered using the information of both sides.
          This container will only allow unique relations because <code class="computeroutput"><span class="identifier">set_of_relation</span></code>
          has been used but the elements in each side of the bimap can be repeated.<br>
          &#20197;&#19978; bimap &#30340;&#20851;&#31995;&#35270;&#22270;&#20351;&#29992;&#20004;&#36793;&#30340;&#20449;&#24687;&#26469;&#25490;&#24207;&#12290;&#35813;&#23481;&#22120;&#21482;&#20801;&#35768;&#19981;&#37325;&#22797;&#30340;&#20851;&#31995;&#65292;
          &#22240;&#20026;&#29992;&#30340;&#26159; <code class="computeroutput"><span class="identifier">set_of_relation</span></code>&#65292;&#19981;&#36807;
          bimap &#27599;&#20391;&#30340;&#20803;&#32032;&#21017;&#21487;&#20197;&#37325;&#22797;&#12290;
        </p>
<pre class="programlisting"><span class="keyword">struct</span> <span class="identifier">name</span>         <span class="special">{};</span>
<span class="keyword">struct</span> <span class="identifier">phone_number</span> <span class="special">{};</span>

<span class="keyword">typedef</span> <span class="identifier">bimap</span>
<span class="special">&lt;</span>
    <span class="identifier">tagged</span><span class="special">&lt;</span> <span class="identifier">unordered_multiset_of</span><span class="special">&lt;</span> <span class="identifier">string</span> <span class="special">&gt;,</span> <span class="identifier">name</span>         <span class="special">&gt;,</span>
    <span class="identifier">tagged</span><span class="special">&lt;</span> <span class="identifier">unordered_set_of</span>     <span class="special">&lt;</span> <span class="keyword">int</span>    <span class="special">&gt;,</span> <span class="identifier">phone_number</span> <span class="special">&gt;,</span>
    <span class="identifier">set_of_relation</span><span class="special">&lt;&gt;</span>

<span class="special">&gt;</span> <span class="identifier">bimap_type</span><span class="special">;</span>
</pre>
<p>
          In this other case the bimap will relate names to phone numbers. Names
          can be repeated and phone numbers are unique. You can perform quick searches
          by name or phone number and the container can be viewed ordered using the
          relation view.<br> &#22312;&#31532;&#20108;&#20010;&#20363;&#23376;&#20013;&#65292;bimap &#23558;&#22995;&#21517;&#21644;&#30005;&#35805;&#21495;&#30721;&#20851;&#32852;&#36215;&#26469;&#12290;&#22995;&#21517;&#21487;&#20197;&#37325;&#22797;&#32780;&#30005;&#35805;&#21495;&#30721;&#24517;&#39035;&#21807;&#19968;&#12290;
          &#20320;&#21487;&#20197;&#36890;&#36807;&#22995;&#21517;&#25110;&#30005;&#35805;&#36827;&#34892;&#24555;&#36895;&#30340;&#26597;&#25214;&#65292;&#19988;&#23481;&#22120;&#21487;&#20197;&#25353;&#20851;&#31995;&#35270;&#22270;&#30340;&#39034;&#24207;&#26469;&#23519;&#30475;&#12290;
        </p>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright © 2006 -2007 Matias Capeletto<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="controlling_collection_types.html"><img src="../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../the_tutorial.html"><img src="../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="differences_with_standard_maps.html"><img src="../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>

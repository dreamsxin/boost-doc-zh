<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>MultiIndex and Bimap</title>
<link rel="stylesheet" href="../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="../../index.html" title="Chapter 1. Boost.Bimap">
<link rel="up" href="../history.html" title="History &#21382;&#21490;">
<link rel="prev" href="../history.html" title="History &#21382;&#21490;">
<link rel="next" href="../acknowledgements.html" title="Acknowledgements &#40483;&#35874;">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../history.html"><img src="../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../history.html"><img src="../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="../acknowledgements.html"><img src="../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="boost_bimap.history.multiindex_and_bimap"></a><a class="link" href="multiindex_and_bimap.html" title="MultiIndex and Bimap">MultiIndex
      and Bimap</a>
</h3></div></div></div>
<p>
        This is the conversation thread that began during Boost.PropertyTree formal
        review process. The review was very interesting and very deep topics were
        addressed. It is quite interesting and it is now part of this library history.
        Enjoy!<br> &#36825;&#26159;&#22312; Boost.PropertyTree &#30340;&#27491;&#24335;&#23457;&#26597;&#36807;&#31243;&#20013;&#24320;&#22987;&#30340;&#19968;&#31995;&#21015;&#23545;&#35805;&#12290;&#36825;&#20010;&#23457;&#26597;&#38750;&#24120;&#26377;&#36259;&#65292;&#32780;&#19988;&#35848;&#21450;&#20102;&#38750;&#24120;&#28145;&#21051;&#30340;&#35805;&#39064;&#12290;
        &#23427;&#24456;&#26377;&#36259;&#65292;&#32780;&#19988;&#29616;&#22312;&#24050;&#25104;&#20026;&#26412;&#24211;&#21382;&#21490;&#30340;&#19968;&#37096;&#20998;&#12290;&#24076;&#26395;&#20320;&#21916;&#27426;&#65281;
      </p>
<p>
        <span class="bold"><strong>Marcin</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> The biggest virtue of property_tree is easy to use interface.
            If we try to make generic tree of it, it will be compromised.<br> property_tree
            &#26368;&#22823;&#30340;&#20248;&#28857;&#26159;&#23427;&#26131;&#20110;&#20351;&#29992;&#30340;&#25509;&#21475;&#12290;&#22914;&#26524;&#25105;&#20204;&#23558;&#23427;&#21464;&#20026;&#27867;&#21270;&#30340;&#26641;&#65292;&#23427;&#23558;&#20250;&#21463;&#21040;&#25439;&#23475;&#12290;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Gennadiy</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> IMO the same result (as library presents) could be achieved
            just by using multi_index.<br> &#22312;&#25105;&#30475;&#26469;&#65292;&#21482;&#20351;&#29992; multi_index
            &#20063;&#33021;&#24471;&#21040;&#21516;&#26679;&#30340;&#25928;&#26524;(&#27491;&#22914;&#29616;&#22312;&#30340;&#24211;)&#12290; </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Marcin</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> Could you elaborate more on that? I considered use of multi_index
            to implement indexing for properties, but it only affected the implementation
            part of library, not interface, and because I already had a working,
            exception safe solution, I didn't see the reason to dump it and add another
            dependency on another library.<br> &#20320;&#33021;&#21542;&#26356;&#35814;&#32454;&#22320;&#35828;&#26126;&#19968;&#19979;&#65311;&#25105;&#32771;&#34385;&#36807;&#20351;&#29992;
            multi_index &#26469;&#23454;&#29616;&#23646;&#24615;&#30340;&#32034;&#24341;&#65292;&#20294;&#23427;&#21482;&#23545;&#24211;&#30340;&#23454;&#29616;&#37096;&#20998;&#26377;&#24433;&#21709;&#65292;
            &#23545;&#25509;&#21475;&#26159;&#27809;&#26377;&#24433;&#21709;&#30340;&#65292;&#25152;&#20197;&#25105;&#24050;&#32463;&#24320;&#22987;&#30528;&#25163;&#20102;&#19968;&#20010;&#24322;&#24120;&#23433;&#20840;&#30340;&#26041;&#27861;&#65292;&#25105;&#30475;&#19981;&#21040;&#26377;&#20160;&#20040;&#29702;&#30001;&#25918;&#24323;&#23427;&#24182;&#22686;&#21152;&#23545;&#21478;&#19968;&#20010;&#24211;&#30340;&#20381;&#36182;&#12290;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Gennadiy</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> I mean why do I need this half baked property_tree as another
            data structure? Property tree supports nothing in itself. It's just a
            data structure. You have parsers that produce property tree out of different
            sources. But you mat as well produce maps or something else. Here for
            example All that I need to do to "implement" similar functionality
            as your property tree:<br> &#25105;&#30340;&#24847;&#24605;&#26159;&#65292;&#20026;&#20160;&#20040;&#25105;&#38656;&#35201;&#36825;&#20010;&#21322;&#25104;&#21697;&#30340;
            property_tree &#20316;&#20026;&#21478;&#19968;&#20010;&#25968;&#25454;&#32467;&#26500;&#65311;&#23646;&#24615;&#26641;&#26412;&#36523;&#24182;&#19981;&#25903;&#25345;&#20160;&#20040;&#12290;
            &#23427;&#21482;&#26159;&#19968;&#20010;&#25968;&#25454;&#32467;&#26500;&#12290;&#20320;&#26377;&#35299;&#26512;&#22120;&#20174;&#19981;&#21516;&#26469;&#28304;&#29983;&#25104;&#23646;&#24615;&#26641;&#12290;&#20294;&#20320;&#20498;&#19981;&#22914;&#29983;&#25104;&#26144;&#23556;&#25110;&#20854;&#23427;&#21035;&#30340;&#19996;&#35199;&#12290;
            &#36825;&#26377;&#19968;&#20010;&#20363;&#23376;&#65292;&#25105;&#25152;&#38656;&#35201;&#20570;&#30340;&#23601;&#26159;"&#23454;&#29616;"&#21644;&#20320;&#30340;&#23646;&#24615;&#26641;&#25152;&#31867;&#20284;&#30340;&#21151;&#33021;&#65306;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        
</p>
<pre class="programlisting"><span class="comment">// Data structure itself &#25968;&#25454;&#32467;&#26500;&#26412;&#36523;
</span><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">ValueType</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">KeyType</span><span class="special">&gt;</span>
<span class="keyword">struct</span> <span class="identifier">Node</span><span class="special">;</span>
<span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">ValueType</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">KeyType</span><span class="special">&gt;</span>
<span class="keyword">struct</span> <span class="identifier">ptree_gen</span> <span class="special">{</span>
    <span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">pair</span><span class="special">&lt;</span><span class="identifier">KeyType</span><span class="special">,</span><span class="identifier">Node</span><span class="special">&lt;</span><span class="identifier">ValueType</span><span class="special">,</span><span class="identifier">KeyType</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">mi_value</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="identifier">multi_index_container</span><span class="special">&lt;</span><span class="identifier">mi_value</span><span class="special">,</span> <span class="identifier">indexed_by</span><span class="special">&lt;...&gt;</span> <span class="special">&gt;</span> <span class="identifier">type</span><span class="special">;</span>
<span class="special">};</span>
<span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">ValueType</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">KeyType</span><span class="special">&gt;</span>
<span class="keyword">struct</span> <span class="identifier">Node</span> <span class="special">{</span>
    <span class="identifier">ValueType</span> <span class="identifier">v</span><span class="special">;</span>
    <span class="identifier">ptree_gen</span><span class="special">&lt;</span><span class="identifier">ValueType</span><span class="special">,</span><span class="identifier">KeyType</span><span class="special">&gt;::</span><span class="identifier">type</span> <span class="identifier">children</span><span class="special">;</span>
<span class="special">};</span>
<span class="comment">// serialization support &#24207;&#21015;&#21270;&#25903;&#25345;
</span><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Archive</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">ValueType</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">KeyType</span><span class="special">&gt;</span>
<span class="keyword">void</span> <span class="identifier">serialize</span><span class="special">(</span><span class="identifier">Archive</span> <span class="special">&amp;</span> <span class="identifier">ar</span><span class="special">,</span> <span class="identifier">Node</span><span class="special">&lt;</span><span class="identifier">ValueType</span><span class="special">,</span><span class="identifier">KeyType</span><span class="special">&gt;&amp;</span> <span class="identifier">n</span><span class="special">,</span>
               <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="identifier">version</span><span class="special">)</span>
<span class="special">{</span>
    <span class="identifier">ar</span> <span class="special">&amp;</span> <span class="identifier">n</span><span class="special">.</span><span class="identifier">v</span><span class="special">;</span>
    <span class="identifier">ar</span> <span class="special">&amp;</span> <span class="identifier">n</span><span class="special">.</span><span class="identifier">children</span><span class="special">;</span>
<span class="special">}</span>
<span class="comment">// some access methods &#19968;&#20123;&#35775;&#38382;&#26041;&#27861;
</span><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">ValueType</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">KeyType</span><span class="special">&gt;</span>
<span class="identifier">ValueType</span> <span class="keyword">const</span><span class="special">&amp;</span>
<span class="identifier">get</span><span class="special">(</span> <span class="identifier">string</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">keys</span><span class="special">,</span> <span class="identifier">ptree_gen</span><span class="special">&lt;</span><span class="identifier">ValueType</span><span class="special">,</span><span class="identifier">KeyType</span><span class="special">&gt;::</span><span class="identifier">type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">src</span> <span class="special">)</span>
<span class="special">{</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">pait</span><span class="special">&lt;</span><span class="identifier">string</span><span class="special">,</span><span class="identifier">string</span><span class="special">&gt;</span> <span class="identifier">sk</span> <span class="special">=</span> <span class="identifier">split</span><span class="special">(</span> <span class="identifier">keys</span><span class="special">,</span> <span class="string">"."</span> <span class="special">);</span>
    <span class="identifier">Node</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">N</span> <span class="special">=</span> <span class="identifier">src</span><span class="special">.</span><span class="identifier">find</span><span class="special">(</span> <span class="identifier">sk</span><span class="special">.</span><span class="identifier">first</span> <span class="special">);</span>
    <span class="keyword">return</span> <span class="identifier">sk</span><span class="special">.</span><span class="identifier">second</span><span class="special">.</span><span class="identifier">empty</span><span class="special">()</span> <span class="special">?</span> <span class="identifier">N</span><span class="special">.</span><span class="identifier">v</span> <span class="special">:</span> <span class="identifier">get</span><span class="special">(</span> <span class="identifier">sk</span><span class="special">.</span><span class="identifier">second</span><span class="special">,</span> <span class="identifier">N</span><span class="special">.</span><span class="identifier">children</span> <span class="special">);</span>
<span class="special">}</span>
</pre>
<p>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> Use it like this:<br> &#23427;&#30340;&#29992;&#27861;&#22914;&#19979;&#65306; </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        
</p>
<pre class="programlisting"><span class="identifier">ptree_gen</span><span class="special">&lt;</span><span class="identifier">string</span><span class="special">,</span><span class="identifier">string</span><span class="special">&gt;::</span><span class="identifier">type</span> <span class="identifier">PT</span><span class="special">;</span>
<span class="identifier">boost</span><span class="special">::</span><span class="identifier">archive</span><span class="special">::</span><span class="identifier">text_iarchive</span> <span class="identifier">ia</span><span class="special">(</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">ifstream</span> <span class="identifier">ifs</span><span class="special">(</span><span class="string">"filename"</span><span class="special">)</span> <span class="special">);</span>
<span class="identifier">ia</span> <span class="special">&gt;&gt;</span> <span class="identifier">PT</span><span class="special">;</span>
<span class="identifier">string</span> <span class="identifier">value</span> <span class="special">=</span> <span class="identifier">get</span><span class="special">(</span> <span class="string">"a.b.c.d"</span><span class="special">,</span> <span class="identifier">PT</span> <span class="special">);</span>
</pre>
<p>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> Now tell me how property_tree interface is easier? And what
            is the value in 50k of Code you need to implement this data structure.<br>
            &#29616;&#22312;&#35831;&#21578;&#35785;&#25105;&#65292;property_tree &#30340;&#25509;&#21475;&#22914;&#20309;&#26356;&#26131;&#29992;&#65311;&#20320;&#35201;&#29992;50k&#20195;&#30721;&#26469;&#23454;&#29616;&#36825;&#20010;&#25968;&#25454;&#32467;&#26500;&#26377;&#20160;&#20040;&#20215;&#20540;&#12290;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Thorsten</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> Seriously Gennadiy, do you really see newbies writing the
            code you just did?<br> &#35748;&#30495;&#30340; Gennadiy&#65292;&#20320;&#30495;&#30340;&#30475;&#19981;&#20986;&#20320;&#21018;&#25165;&#25152;&#20570;&#30340;&#26159;&#26032;&#25163;&#20889;&#30340;&#20195;&#30721;&#65311;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Marcin</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> What you just implemented is stripped down, bare bones version
            of property_tree that, among other things, does not allow you to produce
            human editable XML files. Now add more interface (aka get functions),
            add more archives to serialization lib, add customization, add transparent
            translation from strings to arbitrary types and vice versa. Spend some
            weeks trying to get all the corner cases right, and then some more weeks
            trying to smooth rough edges in the interface. Then write tests. Write
            docs. At the end, I believe you will not get much less code than there
            is in the library already. Maybe you get some savings by using multi_index
            instead of manual indexing.<br> &#20320;&#21018;&#25165;&#25152;&#20889;&#26159;&#21098;&#19979;&#26469;&#30340; property_tree
            &#30340;&#39592;&#24178;&#29256;&#26412;&#65292;&#19981;&#20801;&#35768;&#20320;&#29983;&#25104;&#29992;&#25143;&#21487;&#32534;&#36753;&#30340; XML &#25991;&#20214;&#12290;
            &#29616;&#22312;&#24050;&#22686;&#21152;&#20102;&#26356;&#22810;&#30340;&#25509;&#21475;(&#22914; get &#20989;&#25968;)&#65292;&#20026;&#24207;&#21015;&#21270;&#24211;&#22686;&#21152;&#20102;&#26356;&#22810;&#23384;&#26723;&#26684;&#24335;&#65292;&#22686;&#21152;&#23458;&#25143;&#21270;&#65292;&#22686;&#21152;&#20102;&#20174;&#23383;&#31526;&#20018;&#30340;&#36879;&#26126;&#36716;&#25442;&#21450;&#30456;&#21453;&#25805;&#20316;&#12290;
            &#20320;&#20808;&#33457;&#20102;&#20960;&#21608;&#26469;&#35753;&#25152;&#26377;&#26497;&#31471;&#30340;&#26696;&#20363;&#27491;&#30830;&#36816;&#34892;&#65292;&#36824;&#26377;&#20960;&#21608;&#29992;&#20110;&#35797;&#22270;&#25226;&#25509;&#21475;&#36793;&#30028;&#21464;&#24179;&#28369;&#12290;&#28982;&#21518;&#32534;&#20889;&#27979;&#35797;&#65292;&#32534;&#20889;&#25991;&#26723;&#12290;
            &#26368;&#21518;&#65292;&#25105;&#30456;&#20449;&#20320;&#19981;&#20250;&#24471;&#21040;&#27604;&#26412;&#24211;&#26356;&#23569;&#30340;&#20195;&#30721;&#12290;&#20063;&#35768;&#20320;&#20250;&#29992;
            multi_index &#26367;&#20195;&#25163;&#24037;&#32034;&#24341;&#26469;&#33410;&#30465;&#19968;&#20123;&#20195;&#30721;&#12290; </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> The reason why ptree does not use multi index is because implementation
            existed long before I considered submitting to boost, probably before
            even I knew of multi index existence. It was working well. Later, when
            I was improving it during pre-review process, I seriously considered
            using multi-index. But I decided it is not worth throwing everything
            out.<br> ptree &#19981;&#20351;&#29992; multi index &#30340;&#21407;&#22240;&#26159;&#65292;&#22240;&#20026;&#22312;&#25105;&#32771;&#34385;&#23558;&#23427;&#25552;&#20132;&#21040;
            boost &#20043;&#21069;&#24456;&#20037;&#35813;&#23454;&#29616;&#23601;&#24050;&#32463;&#23384;&#22312;&#20102;&#65292;&#29978;&#33267;&#21487;&#33021;&#26159;&#22312;&#25105;&#30693;&#36947;&#26377;
            multi index &#20043;&#21069;&#12290; &#23427;&#24037;&#20316;&#24471;&#24456;&#22909;&#12290;&#20197;&#21518;&#24403;&#25105;&#22312;&#39044;&#23457;&#26597;&#36807;&#31243;&#20013;&#23545;&#23427;&#36827;&#34892;&#25913;&#36827;&#26102;&#65292;&#25105;&#20250;&#35748;&#30495;&#32771;&#34385;&#20351;&#29992;
            multi-index&#12290;&#20294;&#25105;&#35748;&#20026;&#19981;&#20540;&#24471;&#25243;&#24323;&#25152;&#26377;&#19968;&#20999;&#12290; </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> Although ptree has large interface with many functions modifying
            state of the tree, it uses "single point of change" approach.
            Every insert eventually goes through one function, which takes care of
            exception safety and keeping index in sync with data. The same applies
            to erase. This function has 9 lines of code in case of insert, and (by
            coincidence) also 9 in case of erase. By using multi index these functions
            would obviously be simplified, maybe to 4 lines each. Net gain: 10 lines
            of code (out of several hundred in ptree_implementation.hpp).<br> &#34429;&#28982;
            ptree &#24102;&#26377;&#24456;&#22823;&#30340;&#25509;&#21475;&#65292;&#23427;&#26377;&#24456;&#22810;&#20989;&#25968;&#26469;&#20462;&#25913;&#26641;&#30340;&#29366;&#24577;&#65292;&#23427;&#20351;&#29992;&#20102;
            "&#21333;&#28857;&#20462;&#25913;" &#26041;&#27861;&#12290; &#27599;&#20010;&#25554;&#20837;&#26368;&#32456;&#37117;&#36890;&#36807;&#19968;&#20010;&#20989;&#25968;&#23436;&#25104;&#65292;&#35813;&#20989;&#25968;&#32771;&#34385;&#20102;&#24322;&#24120;&#23433;&#20840;&#24615;&#65292;&#24182;&#20445;&#25345;&#25968;&#25454;&#21644;&#32034;&#24341;&#30340;&#21516;&#27493;&#12290;
            &#23545;&#20110;&#21024;&#38500;&#20063;&#19968;&#26679;&#12290;&#36825;&#20010;&#20989;&#25968;&#26377;9&#34892;&#20195;&#30721;&#29992;&#20110;&#25554;&#20837;&#65292;&#21516;&#26679;&#20063;&#26377;9&#34892;&#29992;&#20110;&#21024;&#38500;&#12290;&#36890;&#36807;&#20351;&#29992;
            multi index&#65292;&#36825;&#20123;&#20989;&#25968;&#21487;&#20197;&#26126;&#26174;&#31616;&#21270;&#65292;&#20063;&#35768;&#27599;&#20010;&#21482;&#35201;4&#34892;&#12290;
            &#20928;&#25910;&#30410;&#65306;10&#34892;&#20195;&#30721;(&#30456;&#23545;&#20110; ptree_implementation.hpp &#30340;&#20960;&#30334;&#34892;&#20195;&#30721;)&#12290;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> I'm aware that there are performance gains to be reaped as
            well, but at that time I was rather focusing on getting the interface
            right.<br> &#25105;&#30693;&#36947;&#36824;&#21487;&#20197;&#33719;&#24471;&#24615;&#33021;&#30340;&#25552;&#21319;&#65292;&#20294;&#26159;&#24403;&#26102;&#25105;&#21482;&#20851;&#27880;&#20110;&#25509;&#21475;&#30340;&#27491;&#30830;&#24615;&#12290;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Dave</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> That's perfectly reasonable, but (through no fault of yours)
            it misses the point I was trying to make. I guess I should have said,
            "...that demonstrates it to be the best implementation."<br>
            &#36825;&#26159;&#23436;&#20840;&#21512;&#29702;&#30340;&#65292;&#20294;&#26159;(&#36825;&#19981;&#26159;&#20320;&#30340;&#38169;)&#23427;&#35823;&#20250;&#20102;&#25105;&#30340;&#35266;&#28857;&#12290;&#25105;&#24819;&#25105;&#24212;&#35813;&#35828;,
            "...&#36825;&#34920;&#31034;&#23427;&#26159;&#26368;&#22909;&#30340;&#23454;&#29616;&#12290;" </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> All I'm saying is that the extent to which a Boost library
            implementation should leverage other Boost libraries is not a question
            that can always be decided based on following simple guidelines, and
            that if this library is accepted, it's worth revisiting your decision.<br>
            &#25105;&#35201;&#35828;&#30340;&#26159;&#65292;&#19968;&#20010; Boost &#24211;&#30340;&#23454;&#29616;&#30340;&#31243;&#24230;&#24212;&#35813;&#20419;&#36827;&#20854;&#23427;&#30340;
            Boost &#24211;&#65292;&#36825;&#19981;&#26159;&#19968;&#20010;&#38382;&#39064;&#65292; &#23427;&#24212;&#35813;&#22522;&#20110;&#20197;&#19979;&#30340;&#31616;&#21333;&#25351;&#24341;&#26469;&#20915;&#23450;&#65292;&#22914;&#26524;&#36825;&#20010;&#24211;&#26159;&#34987;&#25509;&#21463;&#30340;&#65292;&#23601;&#20540;&#24471;&#37325;&#26032;&#23457;&#35270;&#20320;&#30340;&#20915;&#23450;&#12290;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Thorsten</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> I think it is important to focus on the interface in the review,
            but I also see several benefits of an implementation that builds on Boost.MultiIndex:'<br>
            &#25105;&#24819;&#22312;&#23457;&#26597;&#20013;&#65292;&#37325;&#35201;&#30340;&#26159;&#20851;&#27880;&#25509;&#21475;&#65292;&#20294;&#26159;&#25105;&#20063;&#30475;&#21040;&#20102;&#29992;
            Boost.MultiIndex &#26469;&#26500;&#24314;&#30340;&#20960;&#20010;&#20248;&#28857;&#65306; </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em>- fewer bugs like the one Joaquin found<br> - &#26356;&#23569;&#30340;&#32570;&#38519;&#65292;&#35937;
            Joaquin &#21457;&#29616;&#30340;&#37027;&#20010;</em></span>
          </p>
<p>
        </p>
</blockquote></div>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em>- better space efficiency<br> - &#26356;&#22909;&#30340;&#31354;&#38388;&#25928;&#29575;</em></span>
          </p>
<p>
        </p>
</blockquote></div>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em>- exception-safety guarantees are immediately full-filled (I
            haven't looked, but I suspect that there are several bugs in this area)<br>
            - &#24322;&#24120;&#23433;&#20840;&#24615;&#20445;&#35777;&#21487;&#20197;&#31435;&#21363;&#28385;&#36275;(&#25105;&#36824;&#27809;&#26377;&#30475;&#36807;&#65292;&#20294;&#25105;&#24576;&#30097;&#22312;&#36825;&#26041;&#38754;&#23384;&#22312;&#19968;&#20123;&#32570;&#38519;)</em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Daniel</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> Multi_index supports everything a bimap would, but its interface
            is more cumbersome. I for one won't use a W3DOM-like library if we get
            one, but I would happily use property_tree. I've also only used multi_index
            once, and that was to use it as a bidirectional map. Property_tree covers
            other areas as well as being a potential subset of an XML library, but
            I still hold there is value in such a subset.<br> Multi_index &#25903;&#25345;
            bimap &#25152;&#35201;&#30340;&#20219;&#20309;&#19996;&#35199;&#65292;&#20294;&#23427;&#30340;&#25509;&#21475;&#22826;&#36807;&#31528;&#37325;&#12290;&#25105;&#19981;&#20250;&#20351;&#29992;&#19968;&#20010;&#35937;
            W3DOM &#37027;&#26679;&#30340;&#24211;&#65292; &#20294;&#26159;&#25105;&#20250;&#24456;&#39640;&#20852;&#20351;&#29992; property_tree&#12290;&#25105;&#20063;&#21482;&#29992;&#36807;
            multi_index &#19968;&#27425;&#65292;&#26159;&#25226;&#23427;&#29992;&#20316;&#19968;&#20010;&#21452;&#21521;&#26144;&#23556;&#12290; Property_tree
            &#28085;&#30422;&#20102;&#20854;&#23427;&#26041;&#38754;&#65292;&#24182;&#20316;&#20026;&#19968;&#20010; XML &#24211;&#30340;&#28508;&#22312;&#23376;&#38598;&#65292;&#20294;&#25105;&#20173;&#28982;&#35748;&#20026;&#36825;&#26679;&#30340;&#23376;&#38598;&#26159;&#26377;&#20215;&#20540;&#30340;&#12290;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Boris</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> I haven't used program_options yet. But if I understand correctly
            both libraries seem to support storing and accessing data with strings
            that might describe some kind of hierarchy. This seems to be the core
            idea of both libraries - is this correct?<br> &#25105;&#36824;&#27809;&#26377;&#29992;&#36807; program_options&#12290;&#20294;&#22914;&#26524;&#25105;&#30340;&#29702;&#35299;&#26159;&#27491;&#30830;&#30340;&#65292;&#36825;&#20004;&#20010;&#24211;&#20284;&#20046;&#37117;&#25903;&#25345;&#20197;&#21487;&#33021;&#25551;&#36848;&#20102;&#26576;&#31181;&#23618;&#27425;&#30340;&#23383;&#31526;&#20018;&#26469;&#20445;&#23384;&#21644;&#35775;&#38382;&#25968;&#25454;&#12290;
            &#36825;&#20284;&#20046;&#26159;&#36825;&#20004;&#20010;&#24211;&#30340;&#26680;&#24515;&#29702;&#24565; - &#36825;&#26159;&#27491;&#30830;&#30340;&#21527;&#65311; </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> Then it wouldn't matter much what container is used. However
            a generic tree which can store data hierarchically probably makes most
            sense. If I understand correctly both libraries could make use of such
            a class?<br> &#37027;&#20040;&#23427;&#24182;&#19981;&#27604;&#24050;&#32463;&#20351;&#29992;&#30340;&#23481;&#22120;&#22810;&#20123;&#20160;&#20040;&#65311;&#19968;&#33324;&#30340;&#26641;&#37117;&#21487;&#20197;&#25353;&#23618;&#27425;&#23384;&#20648;&#25968;&#25454;&#65292;&#21487;&#33021;&#26356;&#26377;&#24847;&#20041;&#12290;&#22914;&#26524;&#25105;&#29702;&#35299;&#24471;&#27491;&#30830;&#30340;&#35805;&#65292;&#26159;&#21542;&#20004;&#20010;&#24211;&#37117;&#21487;&#20197;&#21033;&#29992;&#36825;&#26679;&#30340;&#31867;&#65311;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Marcin</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> I think generic tree container is material for another library.
            Whether property_tree should be based on it or not is a matter of internal
            implementation, and generally of little interest to users. The biggest
            value of property_tree is in its easy to use interface, that should not
            be compromised, if at all possible. I have been already reassured in
            this view by quite many people who took their time to review the library.<br>
            &#25105;&#35273;&#24471;&#36890;&#29992;&#30340;&#26641;&#23481;&#22120;&#26159;&#21478;&#19968;&#20010;&#24211;&#30340;&#21407;&#26448;&#26009;&#12290;property_tree
            &#26159;&#21542;&#24212;&#35813;&#22522;&#20110;&#23427;&#65292;&#26159;&#19968;&#20010;&#20869;&#37096;&#23454;&#29616;&#30340;&#38382;&#39064;&#65292;&#36890;&#24120;&#29992;&#25143;&#19981;&#24863;&#20852;&#36259;&#12290;
            property_tree &#30340;&#26368;&#22823;&#20215;&#20540;&#26159;&#23427;&#23481;&#26131;&#20351;&#29992;&#30340;&#25509;&#21475;&#65292;&#22914;&#26524;&#21487;&#33021;&#30340;&#35805;&#65292;&#36825;&#19981;&#24212;&#34987;&#25439;&#23475;&#12290;&#25105;&#24050;&#32463;&#20174;&#33457;&#26102;&#38388;&#26469;&#23457;&#26597;&#26412;&#24211;&#30340;&#22810;&#25968;&#20154;&#20013;&#24471;&#21040;&#20445;&#35777;&#12290;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Boris</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> I was trying to see the big picture: I rather prefer a C++
            standard based on a few well-known concepts like containers, iterators,
            algorithms etc. instead of having a C++ standard with hundreds of components
            which are tailored for specific needs, collaborate with only a handful
            of other components and think they provide an easy-to-use interface while
            all the easy-to-use interfaces make the whole standard less easy-to-use.<br>
            &#25105;&#23581;&#35797;&#20174;&#22823;&#30340;&#26041;&#38754;&#26469;&#30475;&#65306;&#25105;&#23425;&#24895;&#35201;&#19968;&#20010;&#22522;&#20110;&#23569;&#37327;&#33879;&#21517;&#27010;&#24565;&#22914;&#23481;&#22120;&#12289;&#36845;&#20195;&#22120;&#12289;&#31639;&#27861;&#31561;&#30340;C++&#26631;&#20934;&#65292;
            &#32780;&#19981;&#35201;&#19968;&#20010;&#26377;&#25968;&#30334;&#20010;&#29305;&#23450;&#38656;&#35201;&#30340;&#32452;&#20214;&#12289;&#21482;&#26377;&#23569;&#25968;&#32452;&#20214;&#21487;&#20197;&#21512;&#20316;&#30340;C++&#26631;&#20934;&#65292;&#27599;&#20010;&#32452;&#20214;&#24212;&#25552;&#20379;&#26131;&#29992;&#30340;&#25509;&#21475;&#32780;&#25152;&#26377;&#26131;&#29992;&#30340;&#25509;&#21475;&#21487;&#20197;&#20351;&#25972;&#20010;&#26631;&#20934;&#26131;&#20110;&#20351;&#29992;&#12290;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> That said I have used your property tree library myself to
            read and write a configuration file. It was indeed very easy to use.
            However it would have been even easier if it was something I had known
            before like eg. an iterator. For now I will definitely use your property
            tree library but would appreciate if existing concepts were reused many
            C++ developers are familiar with. My opinion is that your library should
            be a part of Boost but should be more generalized in the future.<br>
            &#25105;&#29992;&#36807;&#20320;&#30340; property tree &#24211;&#26469;&#35835;&#20889;&#19968;&#20010;&#37197;&#32622;&#25991;&#20214;&#12290;&#23427;&#30830;&#23454;&#24456;&#23481;&#26131;&#20351;&#29992;&#12290;&#20294;&#26159;&#65292;&#22914;&#26524;&#23427;&#20855;&#26377;&#25105;&#24050;&#30693;&#30340;&#26576;&#20123;&#19996;&#35199;&#65292;&#22914;&#36845;&#20195;&#22120;&#65292;&#30340;&#35805;&#65292;&#20250;&#26356;&#26131;&#29992;&#12290;
            &#29616;&#22312;&#65292;&#25105;&#19968;&#23450;&#20250;&#20351;&#29992;&#20320;&#30340; property tree &#24211;&#65292;&#20294;&#26159;&#22914;&#26524;&#33021;&#22815;&#22797;&#29992;&#24050;&#26377;&#30340;&#12289;&#20026;&#24191;&#22823;C++&#24320;&#21457;&#32773;&#25152;&#29087;&#24713;&#30340;&#27010;&#24565;&#65292;&#23601;&#26356;&#22909;&#20102;&#12290;
            &#25105;&#30340;&#24847;&#35265;&#26159;&#65292;&#20320;&#30340;&#24211;&#24212;&#35813;&#25104;&#20026; Boost &#30340;&#19968;&#37096;&#20998;&#65292;&#20294;&#26159;&#22312;&#20197;&#21518;&#24212;&#35813;&#26356;&#20026;&#36890;&#29992;&#12290;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Thorsten</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> Well, I think we need both. Boost.MultiIndex is a great library
            and can do all kinds of wonderful things. But I would still like to see
            a bidirectional map (boost::bimap) written as a wrapper around it to
            get an easy and specialized interface.<br> &#22909;&#30340;&#65292;&#25105;&#24819;&#25105;&#20204;&#20004;&#20010;&#37117;&#38656;&#35201;&#12290;Boost.MultiIndex
            &#26159;&#19968;&#20010;&#24378;&#22823;&#30340;&#24211;&#65292;&#21487;&#20197;&#20570;&#21508;&#31181;&#22855;&#22937;&#30340;&#20107;&#24773;&#12290; &#20294;&#26159;&#25105;&#20063;&#24819;&#30475;&#21040;&#19968;&#20010;&#21452;&#21521;&#26144;&#23556;(boost::bimap)&#65292;&#20316;&#20026;&#23427;&#30340;&#19968;&#20010;&#21253;&#35013;&#22120;&#65292;&#20855;&#26377;&#26131;&#29992;&#21644;&#29305;&#21270;&#30340;&#25509;&#21475;&#12290;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Pavel</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> Bimap is available in libs/multi-index/examples/bimap.cpp.<br>
            Bimap &#24050;&#22312; libs/multi-index/examples/bimap.cpp &#19979;&#12290; </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Thorsten</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> Right, but the real value comes when somebody designs a nice
            STL-like interface and write docs etc, at least that was my point.<br>
            &#22909;&#30340;&#65292;&#20294;&#21482;&#26377;&#24403;&#26377;&#20154;&#35774;&#35745;&#20102;&#19968;&#20010;&#31867;&#20284;&#20110;STL&#30340;&#25509;&#21475;&#24182;&#19988;&#20889;&#20986;&#25991;&#26723;&#26102;&#65292;&#25165;&#26377;&#30495;&#27491;&#30340;&#20215;&#20540;&#65292;&#33267;&#23569;&#25105;&#26159;&#36825;&#20040;&#35748;&#20026;&#12290;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Dave</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> IMO Thorsten is exactly right. This is precisely the sort
            of thing that could be added to the library as part of its ongoing maintenance
            and development (without review, of course).<br> &#22312;&#25105;&#30475;&#26469;&#65292;Thorsten
            &#26159;&#23545;&#30340;&#12290;&#27491;&#26159;&#36825;&#20123;&#19996;&#35199;&#21487;&#20197;&#21152;&#20837;&#21040;&#24211;&#20013;&#65292;&#20316;&#20026;&#32500;&#25252;&#21644;&#24320;&#21457;&#30340;&#19968;&#37096;&#20998;(&#24403;&#28982;&#26080;&#38656;&#23457;&#26597;)&#12290;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Joaquin</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> Thorsten, we have talked about this privately in the past,
            but I feel like bringing it to the list in the hope of getting the attention
            of potential contributors:<br> Thorsten, &#36807;&#21435;&#25105;&#20204;&#24050;&#32463;&#31169;&#19979;&#35752;&#35770;&#36825;&#19968;&#28857;&#65292;&#25105;&#24819;&#25226;&#23427;&#25918;&#21040;&#21015;&#34920;&#20013;&#65292;&#24076;&#26395;&#24471;&#21040;&#28508;&#22312;&#30340;&#36129;&#29486;&#32773;&#30340;&#20851;&#27880;&#65306;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> There are some data structures buildable with B.MI which are
            regarded as particularly useful or common, like for instance the bidirectional
            map or bimap. A lean and mean implementation is provided in the aforementioned
            example, but certainly a much carefully crafted interface can be provided
            keeping B.MI as the implementation core: operator[], selection of 1-1/1-N/N-1/N-N
            variants, hashing/ordering, etc.<br> &#26377;&#20123;&#21487;&#20197;&#29992; B.MI &#26500;&#24314;&#30340;&#25968;&#25454;&#32467;&#26500;&#34987;&#35748;&#20026;&#26159;&#29305;&#21035;&#26377;&#29992;&#25110;&#36890;&#29992;&#30340;&#65292;&#20363;&#22914;&#21452;&#21521;&#26144;&#23556;&#25110;
            bimap&#12290; &#22312;&#19978;&#36848;&#20363;&#23376;&#20013;&#25552;&#20379;&#20102;&#19968;&#20010;&#31934;&#31616;&#30340;&#23454;&#29616;&#65292;&#20294;&#26159;&#26080;&#30097;&#65292;&#21487;&#20197;&#25552;&#20379;&#19968;&#20010;&#31934;&#24515;&#21046;&#20316;&#30340;&#25509;&#21475;&#24182;&#20197;
            B.MI &#20316;&#20026;&#23454;&#29616;&#26680;&#24515;&#65306; operator[], 1-1/1-N/N-1/N-N &#22810;&#31181;&#36873;&#25321;&#65292;&#25955;&#21015;/&#25490;&#24207;&#65292;&#31561;&#31561;&#12290;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> I'm afraid I don't have the time to pursue this, as the current
            roadmap for core features of B.MI is taking all the spare time I can
            dedicate to the library. For this reason, I would love to see some volunteer
            jumping in who can develop this and other singular containers using B.MI
            (a cache container comes to mind) and then propose the results here either
            as a stand alone library of as part of B.MI --I'd prefer the former so
            as to keep the size of B.MI bounded.<br> &#25105;&#24656;&#24597;&#27809;&#26377;&#26102;&#38388;&#21435;&#36861;&#27714;&#36825;&#19968;&#28857;&#65292;&#22240;&#20026;&#24403;&#21069;&#30340;
            B.MI &#26680;&#24515;&#29305;&#24615;&#30340;&#36335;&#32447;&#22270;&#24050;&#32463;&#21344;&#25454;&#20102;&#25105;&#21487;&#20197;&#22857;&#29486;&#32473;&#26412;&#24211;&#30340;&#25152;&#26377;&#31354;&#38386;&#26102;&#38388;&#12290;
            &#22240;&#27492;&#65292;&#25105;&#24076;&#26395;&#30475;&#21040;&#26377;&#19968;&#20123;&#24535;&#24895;&#32773;&#21487;&#20197;&#21442;&#19982;&#24320;&#21457;&#26412;&#24211;&#21644;&#20854;&#23427;&#20351;&#29992;
            B.MI &#30340;&#29305;&#23450;&#23481;&#22120;(&#27491;&#22312;&#32771;&#34385;&#19968;&#20010;&#32531;&#20914;&#23481;&#22120;)&#65292;&#28982;&#21518;&#32473;&#20986;&#32467;&#26524;&#65292;
            &#26080;&#35770;&#26159;&#20316;&#20026;&#19968;&#20010;&#29420;&#31435;&#30340;&#24211;&#36824;&#26159; B.MI &#30340;&#19968;&#37096;&#20998; -- &#25105;&#23425;&#24895;&#36873;&#25321;&#21069;&#32773;&#65292;&#20197;&#20445;&#25345;
            B.MI &#30340;&#36793;&#30028;&#22823;&#23567;&#12290; </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> If there's such a volunteer I can provide her with some help/mentoring.
            I also wonder whether this is a task suitable to be proposed for Google
            Summer of Code.<br> &#22914;&#26524;&#26377;&#36825;&#26679;&#30340;&#24535;&#24895;&#32773;&#65292;&#25105;&#21487;&#20197;&#25552;&#20379;&#19968;&#20123;&#24110;&#21161;/&#25351;&#23548;&#12290;&#25105;&#24819;&#30693;&#36947;&#36825;&#20010;&#20219;&#21153;&#26159;&#21542;&#36866;&#21512;&#20316;&#20026;
            Google Summer of Code &#30340;&#25552;&#35758;&#12290; </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Thorsten</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> I think it would be good for SOC. All the really hard things
            are taken care of by B.MI, and so it seems reasonable for a student to
            be able to fill in the details.<br> &#25105;&#24819;&#23427;&#20316;&#20026; SOC &#19981;&#38169;&#12290;&#25152;&#26377;&#36739;&#22256;&#38590;&#30340;&#20107;&#24773;&#30001;
            B.MI &#36127;&#36131;&#65292;&#25152;&#20197;&#23427;&#30475;&#26469;&#27604;&#36739;&#36866;&#21512;&#35753;&#23398;&#29983;&#26469;&#22635;&#34917;&#32454;&#33410;&#12290;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Dave</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> Great!<br> &#19981;&#38169;&#65281; </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Jeff</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> Please write a proposal!<br> &#35831;&#20889;&#19968;&#20010;&#24314;&#35758;&#20070;&#65281; </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<p>
        <span class="bold"><strong>Joaquin</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> I've just done so:<br> &#25105;&#24050;&#32463;&#20889;&#20102;&#19968;&#20010;&#65306; </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<div class="sidebar">
<p class="title"><b></b></p>
<p>
        *Specialized containers with Boost.MultiIndex &#30001;Boost.MultiIndex&#26500;&#24314;&#30340;&#19987;&#29992;&#23481;&#22120;*
      </p>
<p>
        *Introduction &#31616;&#20171;*
      </p>
<p>
        Boost.MultiIndex allows the construction of complex data structures involving
        two or more indexing mechanisms on the same set of elements. Out of the unlimited
        range of possible data structures specifiable within Boost.MultiIndex, some
        particular configurations arise recurrently:<br> Boost.MultiIndex &#21487;&#20197;&#26500;&#36896;&#20986;&#22797;&#26434;&#30340;&#25968;&#25454;&#32467;&#26500;&#65292;&#22312;&#21516;&#19968;&#32452;&#20803;&#32032;&#20013;&#21253;&#21547;&#20004;&#20010;&#25110;&#20197;&#19978;&#30340;&#32034;&#24341;&#26426;&#21046;&#12290;
        &#34429;&#28982;&#22312; Boost.MultiIndex &#20013;&#21487;&#20197;&#25351;&#23450;&#19981;&#21463;&#38480;&#21046;&#30340;&#21508;&#31181;&#21487;&#33021;&#30340;&#25968;&#25454;&#32467;&#26500;&#65292;&#20294;&#26159;&#26377;&#20123;&#29305;&#23450;&#30340;&#37197;&#32622;&#32463;&#24120;&#21453;&#22797;&#20986;&#29616;&#65306;
      </p>
<p>
        <span class="bold"><strong>a.</strong></span> A bidirectional map or bimap is a container
        of elements of type pair&lt;T,Q&gt; where fast look up is provided both for
        the T and the Q field, in contrast with a regular STL map which only allows
        for fast look up on T.<br> <span class="bold"><strong>a.</strong></span> &#21452;&#21521;&#26144;&#23556;&#25110;
        bimap &#26159;&#19968;&#31181;&#20803;&#32032;&#31867;&#22411;&#20026; pair&lt;T,Q&gt; &#30340;&#23481;&#22120;&#65292;&#23427;&#25552;&#20379;&#20102;&#25353;
        T &#21644; Q &#23383;&#27573;&#30340;&#24555;&#36895;&#26597;&#25214;&#65292; &#32780;&#26222;&#36890;&#30340; STL map &#21482;&#20801;&#35768;&#25353; T &#36827;&#34892;&#24555;&#36895;&#26597;&#25214;&#12290;
      </p>
<p>
        <span class="bold"><strong>b.</strong></span> An MRU (most recently used) list keeps
        the n last referenced elements: when a new item is inserted and the list
        has reached its maximum length, the oldest element is erased, whereas if
        an insertion is tried of a preexistence element, this gets promoted to the
        first position. MRU lists can be used to implement dynamic caches and the
        kind of behavior exhibited by programs featuring a "Recent files"
        menu command, for instance.<br> <span class="bold"><strong>b.</strong></span> MRU
        (&#26368;&#36817;&#26368;&#24120;&#20351;&#29992;)&#21015;&#34920;&#21487;&#20197;&#20445;&#25345;&#26368;&#21518;&#24341;&#29992;&#30340; n &#20010;&#20803;&#32032;&#65306;&#24403;&#25554;&#20837;&#19968;&#20010;&#26032;&#20803;&#32032;&#32780;&#21015;&#34920;&#24050;&#36798;&#21040;&#26368;&#22823;&#38271;&#24230;&#26102;&#65292;
        &#26368;&#26087;&#30340;&#20803;&#32032;&#34987;&#21024;&#38500;&#65292;&#20294;&#26159;&#22914;&#26524;&#25554;&#20837;&#30340;&#26159;&#24050;&#23384;&#22312;&#30340;&#20803;&#32032;&#65292;&#21017;&#23558;&#23427;&#25552;&#21319;&#21040;&#31532;&#19968;&#20010;&#20301;&#32622;&#12290;
        MRU &#21015;&#34920;&#21487;&#29992;&#20110;&#23454;&#29616;&#21160;&#24577;&#32531;&#20914;&#20197;&#21450;&#35937;&#31243;&#24207;&#20013;&#30340;"&#26368;&#36817;&#20351;&#29992;&#30340;&#25991;&#20214;"&#27492;&#31867;&#21151;&#33021;&#12290;
      </p>
<p>
        Although Boost.MultiIndex provides the mechanisms to build these common structures,
        the resulting interface can be cumbersome and too general in comparison with
        specialized containers focusing on such particular structures.<br> &#34429;&#28982;
        Boost.MultiIndex &#25552;&#20379;&#20102;&#26500;&#24314;&#36825;&#20123;&#24120;&#29992;&#32467;&#26500;&#30340;&#26426;&#21046;&#65292;&#20294;&#26159;&#25152;&#24471;&#21040;&#30340;&#25509;&#21475;&#38750;&#24120;&#31528;&#37325;&#65292;&#19982;&#36825;&#20123;&#29305;&#23450;&#23481;&#22120;&#25152;&#20851;&#27880;&#30340;&#36825;&#20123;&#29305;&#23450;&#32467;&#26500;&#30456;&#27604;&#20063;&#36807;&#20110;&#36890;&#29992;&#12290;
      </p>
<p>
        *Goal &#30446;&#26631;*
      </p>
<p>
        To write a library of specialized containers like the ones described above,
        using Boost.MultiIndex as the implementation core. Besides bimap and MRU
        list, the student can also propose other specialized containers of interest
        in the community. It is expected that the library meets the standards of
        quality required by Boost for an eventual inclusion in this project, which
        implies a strong emphasis on interface design, documentation and unit testing;
        the mentor will be guiding the student through the complete cycle from specification
        and requirements gathering to documentation and actual coding. The final
        result of the project must then contain:<br> &#32534;&#20889;&#19968;&#20010;&#22914;&#19978;&#25152;&#36848;&#30340;&#19987;&#29992;&#23481;&#22120;&#24211;&#65292;&#29992;
        Boost.MultiIndex &#20316;&#20026;&#23454;&#29616;&#26680;&#24515;&#12290;&#38500;&#20102; bimap &#21644; MRU &#21015;&#34920;&#20197;&#22806;&#65292;&#23398;&#29983;&#36824;&#21487;&#20197;&#25552;&#35758;&#20854;&#23427;&#24863;&#20852;&#36259;&#30340;&#19987;&#29992;&#23481;&#22120;&#12290;
        &#25105;&#20204;&#24076;&#26395;&#36825;&#20010;&#24211;&#31526;&#21512; Boost &#25152;&#35201;&#27714;&#30340;&#36136;&#37327;&#26631;&#20934;&#65292;&#26368;&#21518;&#26377;&#21487;&#33021;&#23558;&#35813;&#24211;&#32435;&#20837;
        Boost&#65292;&#36825;&#24847;&#21619;&#30528;&#23545;&#25509;&#21475;&#35774;&#35745;&#12289;&#25991;&#26723;&#21644;&#21333;&#20803;&#27979;&#35797;&#30340;&#29305;&#21035;&#24378;&#35843;&#65307;
        &#23548;&#24072;&#23558;&#22312;&#25972;&#20010;&#24320;&#21457;&#21608;&#26399;&#20013;&#25351;&#23548;&#23398;&#29983;&#65292;&#20174;&#35268;&#26684;&#21644;&#38656;&#27714;&#25910;&#38598;&#21040;&#25991;&#26723;&#21644;&#20855;&#20307;&#32534;&#30721;&#12290;&#26412;&#39033;&#30446;&#30340;&#26368;&#32456;&#32467;&#26524;&#24517;&#39035;&#21253;&#21547;&#65306;
      </p>
<p>
        <span class="bold"><strong>a.</strong></span> Source code following <a href="http://boost.org/more/lib_guide.htm#Guidelines" target="_top">Boost
        programming guidelines</a>.<br> <span class="bold"><strong>a.</strong></span>
        &#31526;&#21512; <a href="http://boost.org/more/lib_guide.htm#Guidelines" target="_top">Boost&#32534;&#31243;&#25351;&#24341;</a>
        &#30340;&#28304;&#20195;&#30721;&#12290;
      </p>
<p>
        <span class="bold"><strong>b.</strong></span> User documentation. Requirements on the
        format are loose, though the <a href="http://www.boost.org/tools/quickbook/doc/html/index.html" target="_top">QuickBook</a>
        format is gaining acceptance within Boost.<br> <span class="bold"><strong>b.</strong></span>
        &#29992;&#25143;&#25991;&#26723;&#12290;&#23545;&#26684;&#24335;&#30340;&#35201;&#27714;&#36739;&#26494;&#65292;&#19981;&#36807; <a href="http://www.boost.org/tools/quickbook/doc/html/index.html" target="_top">QuickBook</a>
        &#26684;&#24335;&#22312; Boost &#20869;&#37096;&#26159;&#24191;&#20026;&#25509;&#21463;&#30340;&#12290;
      </p>
<p>
        <span class="bold"><strong>c.</strong></span> Complete set of unit tests powered by
        <a href="http://boost.sourceforge.net/boost-build2/" target="_top">Boost Build System
        V2</a>.<br> <span class="bold"><strong>c.</strong></span> &#21487;&#29992;&#20110; <a href="http://boost.sourceforge.net/boost-build2/" target="_top">Boost
        Build System V2</a> &#30340;&#23436;&#25972;&#30340;&#21333;&#20803;&#27979;&#35797;&#38598;&#12290;
      </p>
<p>
        *Requirements &#35201;&#27714;*
      </p>
<p>
        <span class="bold"><strong>a.</strong></span> Intermediate-to-high level in C++, with
        emphasis in generic programming (templates).<br> <span class="bold"><strong>a.</strong></span>
        C++&#27700;&#24179;&#20026;&#20013;&#33267;&#39640;&#32423;&#65292;&#22312;&#27867;&#22411;&#32534;&#31243;(&#27169;&#26495;)&#26041;&#38754;&#36739;&#24378;&#12290;
      </p>
<p>
        <span class="bold"><strong>b.</strong></span> Knowledge of the STL framework and design
        principles. Of course, knowledge of Boost in general and Boost.MultiIndex
        in particular is a big plus.<br> <span class="bold"><strong>b.</strong></span> &#29087;&#24713;STL&#26694;&#26550;&#21644;&#35774;&#35745;&#21407;&#29702;&#12290;&#24403;&#28982;&#29087;&#24713;
        Boost &#23588;&#20854;&#26159; Boost.MultiIndex &#23601;&#26356;&#22909;&#20102;&#12290;
      </p>
<p>
        <span class="bold"><strong>c.</strong></span> Acquaintance with at least two different
        C++ programming environments.<br> <span class="bold"><strong>c.</strong></span> &#33267;&#23569;&#29087;&#24713;&#20004;&#20010;&#19981;&#21516;&#30340;C++&#32534;&#31243;&#29615;&#22659;&#12290;
      </p>
<p>
        <span class="bold"><strong>d.</strong></span> Some fluency in the English language;
        subsequent reviews of the documentation can help smooth rough edges here,
        though.<br> <span class="bold"><strong>d.</strong></span> &#27969;&#21033;&#30340;&#33521;&#35821;&#65307;&#19981;&#36807;&#21518;&#32493;&#30340;&#25991;&#26723;&#23457;&#26597;&#21487;&#20197;&#26377;&#25152;&#24110;&#21161;&#12290;
      </p>
<p>
        <span class="bold"><strong>e.</strong></span> A mathematical inclination and previous
        exposure to a formal Algorithms course would help very much.<br> <span class="bold"><strong>e.</strong></span> &#29233;&#22909;&#25968;&#23398;&#65292;&#20197;&#21069;&#25509;&#35302;&#36807;&#27491;&#24335;&#30340;&#31639;&#27861;&#35838;&#31243;&#20250;&#26377;&#24456;&#22823;&#24110;&#21161;&#12290;
      </p>
<p>
        <span class="bold"><strong>f.</strong></span> A craving for extreme quality work.<br>
        <span class="bold"><strong>f.</strong></span> &#36861;&#27714;&#39640;&#36136;&#37327;&#30340;&#24037;&#20316;&#12290;
      </p>
<p>
        *Benefits for the student &#23545;&#23398;&#29983;&#30340;&#22909;&#22788;*
      </p>
<p>
        The student taking on this project will have the opportunity to learn the
        complete process of software production inside a highly regarded C++ open
        source institution, and even see her work included in Boost eventually. The
        completion of the project involves non-trivial problems in C++ interface
        design and so-called modern C++ programming, high quality user documentation
        and unit testing. The student will also learn, perhaps to her surprise, that
        most of the time will be spent gathering and trying ideas and, in general,
        thinking, rather than writing actual code.<br> &#21442;&#19982;&#36825;&#19968;&#39033;&#30446;&#30340;&#23398;&#29983;&#65292;&#23558;&#26377;&#26426;&#20250;&#23398;&#20064;&#22312;&#19968;&#20010;&#39640;&#24230;&#37325;&#35270;C++&#24320;&#28304;&#30340;&#26426;&#26500;&#20013;&#36827;&#34892;&#36719;&#20214;&#29983;&#20135;&#30340;&#23436;&#25972;&#36807;&#31243;&#65292;&#29978;&#33267;&#26368;&#32456;&#20250;&#22312;
        Boost &#20013;&#35265;&#21040;&#33258;&#24049;&#30340;&#20316;&#21697;&#12290; &#23436;&#25104;&#36825;&#20010;&#39033;&#30446;&#21253;&#25324;&#22312;C++&#25509;&#21475;&#35774;&#35745;&#20013;&#30340;&#19968;&#20123;&#19981;&#31616;&#21333;&#30340;&#38382;&#39064;&#65292;&#20197;&#21450;&#25152;&#35859;&#30340;&#29616;&#20195;C++&#32534;&#31243;&#65292;&#36824;&#26377;&#39640;&#36136;&#37327;&#30340;&#29992;&#25143;&#25991;&#26723;&#21644;&#21333;&#20803;&#27979;&#35797;&#12290;
        &#23398;&#29983;&#21487;&#33021;&#20250;&#24778;&#35766;&#65292;&#20182;&#36824;&#23558;&#23398;&#21040;&#22823;&#37096;&#20998;&#26102;&#38388;&#23558;&#29992;&#20110;&#25910;&#38598;&#21644;&#23581;&#35797;&#21508;&#31181;&#24605;&#36335;&#65292;&#36890;&#24120;&#26469;&#35828;&#26159;&#24605;&#32771;&#32780;&#19981;&#26159;&#23454;&#38469;&#32534;&#20889;&#20195;&#30721;&#12290;
      </p>
</div>
<p>
        <span class="bold"><strong>Matias</strong></span>
      </p>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="emphasis"><em> I am planning to submit an application to SoC. I will love
            to make real the specialized containers you mention and try to include
            some useful others.<br> &#25105;&#27491;&#35745;&#21010;&#23558;&#23427;&#25552;&#20132;&#21040; SoC. &#25105;&#24076;&#26395;&#20320;&#25152;&#25552;&#21040;&#30340;&#19987;&#29992;&#23481;&#22120;&#25104;&#20026;&#30495;&#23454;&#65292;&#24182;&#23581;&#35797;&#21152;&#20837;&#19968;&#20123;&#26377;&#29992;&#30340;&#20854;&#23427;&#19996;&#35199;&#12290;
            </em></span>
          </p>
<p>
        </p>
</blockquote></div>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <code class="literal"> And then... after long hours of coding (and fun) this library
            saw the light.<br> &#28982;&#21518;... &#22312;&#38271;&#26102;&#38388;&#30340;&#32534;&#30721;(&#21644;&#20048;&#36259;)&#21518;&#65292;&#36825;&#20010;&#24211;&#30475;&#21040;&#20102;&#20809;&#26126;&#12290;
            </code>
          </p>
<p>
        </p>
</blockquote></div>
<div class="blockquote"><blockquote class="blockquote">
<p>
          </p>
<p>
            <span class="inlinemediaobject"><img src="../../images/bimap/boost.bimap.logo.png" alt="boost.bimap.logo"></span>
          </p>
<p>
        </p>
</blockquote></div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright © 2006 -2007 Matias Capeletto<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../history.html"><img src="../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../history.html"><img src="../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="../acknowledgements.html"><img src="../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Binomial Distribution</title>
<link rel="stylesheet" href="../../../../../../../../../doc/html/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets Vsnapshot_2006-12-17_0120">
<link rel="start" href="../../../../index.html" title="Math Toolkit">
<link rel="up" href="../dists.html" title="Distributions">
<link rel="prev" href="beta_dist.html" title="Beta Distribution">
<link rel="next" href="cauchy_dist.html" title="Cauchy-Lorentz Distribution">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="beta_dist.html"><img src="../../../../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../dists.html"><img src="../../../../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../../../index.html"><img src="../../../../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="cauchy_dist.html"><img src="../../../../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div>
  <h5 class="title">
<a name="math_toolkit.dist.dist_ref.dists.binomial_dist"></a><a href="binomial_dist.html" title="Binomial Distribution">
          二项分布(Binomial Distribution)</a>
</h5>
</div></div></div>
<p>
            
</p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">math</span><span class="special">/</span><span class="identifier">distributions</span><span class="special">/</span><span class="identifier">binomial</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></pre>
<p>
  </p>
<pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">boost</span><span class="special">{</span> <span class="keyword">namespace</span> <span class="identifier">math</span><span class="special">{</span> 

<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">RealType</span> <span class="special">=</span> <span class="keyword">double</span><span class="special">,</span> 
          <span class="keyword">class</span> <a href="../../../policy.html" title="Policies">Policy</a>   <span class="special">=</span> <a href="../../../policy/pol_ref/pol_ref_ref.html" title="Policy Class Reference">policies::policy&lt;&gt;</a> <span class="special">&gt;</span>
<span class="keyword">class</span> <span class="identifier">binomial_distribution</span><span class="special">;</span>

<span class="keyword">typedef</span> <span class="identifier">binomial_distribution</span><span class="special">&lt;&gt;</span> <span class="identifier">binomial</span><span class="special">;</span>

<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">RealType</span><span class="special">,</span> <span class="keyword">class</span> <a href="../../../policy.html" title="Policies">Policy</a><span class="special">&gt;</span>
<span class="keyword">class</span> <span class="identifier">binomial_distribution</span>
<span class="special">{</span>
<span class="keyword">public</span><span class="special">:</span>
   <span class="keyword">typedef</span> <span class="identifier">RealType</span>  <span class="identifier">value_type</span><span class="special">;</span>
   <span class="keyword">typedef</span> <span class="identifier">Policy</span>    <span class="identifier">policy_type</span><span class="special">;</span>
   
   <span class="keyword">static</span> <span class="keyword">const</span> <span class="emphasis"><em>unspecified-type</em></span> <span class="identifier">cloppper_pearson_exact_interval</span><span class="special">;</span>
   <span class="keyword">static</span> <span class="keyword">const</span> <span class="emphasis"><em>unspecified-type</em></span> <span class="identifier">jeffreys_prior_interval</span><span class="special">;</span>
   
   <span class="comment">// 构造:
</span>   <span class="identifier">binomial_distribution</span><span class="special">(</span><span class="identifier">RealType</span> <span class="identifier">n</span><span class="special">,</span> <span class="identifier">RealType</span> <span class="identifier">p</span><span class="special">);</span>
   
   <span class="comment">// 参数访问::
</span>   <span class="identifier">RealType</span> <span class="identifier">success_fraction</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
   <span class="identifier">RealType</span> <span class="identifier">trials</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
   
   <span class="comment">// 成功分数(success fraction)的界限:
</span>   <span class="keyword">static</span> <span class="identifier">RealType</span> <span class="identifier">find_lower_bound_on_p</span><span class="special">(</span>
      <span class="identifier">RealType</span> <span class="identifier">trials</span><span class="special">,</span> 
      <span class="identifier">RealType</span> <span class="identifier">successes</span><span class="special">,</span>
      <span class="identifier">RealType</span> <span class="identifier">probability</span><span class="special">,</span>
      <span class="emphasis"><em>unspecified-type</em></span> <span class="identifier">method</span> <span class="special">=</span> <span class="identifier">clopper_pearson_exact_interval</span><span class="special">);</span>
   <span class="keyword">static</span> <span class="identifier">RealType</span> <span class="identifier">find_upper_bound_on_p</span><span class="special">(</span>
      <span class="identifier">RealType</span> <span class="identifier">trials</span><span class="special">,</span> 
      <span class="identifier">RealType</span> <span class="identifier">successes</span><span class="special">,</span>
      <span class="identifier">RealType</span> <span class="identifier">probability</span><span class="special">,</span>
      <span class="emphasis"><em>unspecified-type</em></span> <span class="identifier">method</span> <span class="special">=</span> <span class="identifier">clopper_pearson_exact_interval</span><span class="special">);</span>
      
   <span class="comment">// 估算 最小/最大的试验次数:
</span>   <span class="keyword">static</span> <span class="identifier">RealType</span> <span class="identifier">find_minimum_number_of_trials</span><span class="special">(</span>
      <span class="identifier">RealType</span> <span class="identifier">k</span><span class="special">,</span>     <span class="comment">// 事件数
</span>      <span class="identifier">RealType</span> <span class="identifier">p</span><span class="special">,</span>     <span class="comment">// 成功分数(success fraction)
</span>      <span class="identifier">RealType</span> <span class="identifier">alpha</span><span class="special">);</span> <span class="comment">// 风险级别(risk level)
</span>      
   <span class="keyword">static</span> <span class="identifier">RealType</span> <span class="identifier">find_maximum_number_of_trials</span><span class="special">(</span>
      <span class="identifier">RealType</span> <span class="identifier">k</span><span class="special">,</span>     <span class="comment">// 事件数</span>
      <span class="identifier">RealType</span> <span class="identifier">p</span><span class="special">,</span>     <span class="comment">// 成功分数(success fraction)</span>
      <span class="identifier">RealType</span> <span class="identifier">alpha</span><span class="special">);</span> <span class="comment">// 风险级别(risk level)</span>
<span class="special">};</span>

<span class="special">}}</span> <span class="comment">// namespaces
</span></pre>
<p>            类型 <code class="computeroutput"><span class="identifier">binomial_distribution</span></code>
            表示一个二项分布<a href="http://mathworld.wolfram.com/BinomialDistribution.html" target="_top">(binomial
            distribution)</a>：当试验结果有两个互斥的结果时使用这个分布。这些试验结果标记为“成功”和“失败”。 <a href="../../../../" target="_top">二项分布(binomial distribution)</a>
  用于获取在N次试验中有K次成功的概率，其中，单次试验的成功概率记为p。二项分布假定对所有的试验，p值都是固定不变的。</p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../../../../../../../../doc/html/images/note.png"></td>
<th align="left">注意</th>
</tr>
<tr><td align="left" valign="top"><p>
              二项分布中的随机变量是试验成功的次数，(试验次数是分布的固定属性)然而对于负的二项分布，针对于一个固定的成功次数，随机变量是试验次数
              。</p></td></tr>
</table></div>
<p>
  对于二项分布的 PDF函数(概率密度函数)由下面的等式给定：</p>
<p>
            <span class="inlinemediaobject"><img src="../../../../../equations/binomial_ref2.png"></span>
  </p>
<p>
  下面的两个图像显示了依赖于分布参数，函数PDF是如何改变的，首先我们将成功分数值(success fraction)p设为0.5，改变样本的大小：</p>
<p>
            <span class="inlinemediaobject"><img src="../../../../../graphs/binomial_pdf_1.png" align="middle"></span>
  </p>
<p>
            另一方面，我们可以将样本大小固定在 N=20 并改变成功分数<span class="emphasis"><em>p</em></span>：</p>
<p>
            <span class="inlinemediaobject"><img src="../../../../../graphs/binomial_pdf_2.png" align="middle"></span>
  </p>
<p>
  </p>
<div class="caution"><table border="0" summary="Caution">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Caution]" src="../../../../../../../../../doc/html/images/caution.png"></td>
<th align="left">警告</th>
</tr>
<tr><td align="left" valign="top">
<p>
          二项分布是一个离散分布：内部函数(例如cdf和pdf)被当作它们“好像是”连续函数一样，但实际上，仅当将整数值提供给随机变量的时候这些函数才返回有意义的值。</p>
<p>
                分位点函数将会缺省返回一个向外舍入( <span class="emphasis"><em>rounded outwards</em></span>)的整数值。也就是说，下分位点(lower
          quantiles)(概率小于0.5)向下舍入;上分位点(upper quantiles)(概率大于0.5)向上舍入。这种行为确保如果返回一个X%分位点值，那么至少目标的覆盖范围将会在中心区域显示，不是要求的覆盖范围将会在尾部(tails)显示。</p>
<p>
                这种行为可以改变，使得分位点函数可以进行不同的舍入，或者使用<a href="../../../policy/pol_overview.html" title="Policy Overview">策略</a>来返回一个实值(real-valued)。在你使用二项分布的分位点函数之前，强烈推荐你阅读<a href="../../../policy/pol_tutorial/understand_dis_quant.html" title="Understanding Quantiles of Discrete Distributions">理解分布的分位点</a> 。<a href="../../../policy/pol_ref/discrete_quant_ref.html" title="Discrete Quantile Policies">参考文档</a> 描述了如何为这些分布改变舍入策略。</p>
</td></tr>
</table></div>
<p>
  </p>
<a name="math_toolkit.dist.dist_ref.dists.binomial_dist.member_functions"></a>
<h5>
<a name="id607381"></a>
            <a href="binomial_dist.html#math_toolkit.dist.dist_ref.dists.binomial_dist.member_functions">成员函数</a>
  </h5>
<a name="math_toolkit.dist.dist_ref.dists.binomial_dist.construct"></a>
<h5>
<a name="id607406"></a>
            <a href="binomial_dist.html#math_toolkit.dist.dist_ref.dists.binomial_dist.construct">构造</a>
  </h5>
<pre class="programlisting"><span class="identifier">binomial_distribution</span><span class="special">(</span><span class="identifier">RealType</span> <span class="identifier">n</span><span class="special">,</span> <span class="identifier">RealType</span> <span class="identifier">p</span><span class="special">);</span>
</pre>
<p>
            构造函数: <span class="emphasis"><em>n</em></span> 是试验的总数，<span class="emphasis"><em>p</em></span>
            是单次试验成功的概率。</p>
<p>
            要求：<code class="computeroutput"><span class="number">0</span> <span class="special">&lt;=</span>
            <span class="identifier">p</span> <span class="special">&lt;=</span>
            <span class="number">1</span></code>， 且 <code class="computeroutput"><span class="identifier">n</span>
            <span class="special">&gt;=</span> <span class="number">0</span></code>，
            否则调用<a href="../../../main_overview/error_handling.html#domain_error">定义域错误</a>。</p>
<a name="math_toolkit.dist.dist_ref.dists.binomial_dist.accessors"></a>
<h5>
<a name="id607567"></a>
            <a href="binomial_dist.html#math_toolkit.dist.dist_ref.dists.binomial_dist.accessors">访问函数(Accessors)</a>
  </h5>
<pre class="programlisting"><span class="identifier">RealType</span> <span class="identifier">success_fraction</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
</pre>
<p>            返回构造分布的参数<span class="emphasis"><em>p</em></span>。</p>
<pre class="programlisting"><span class="identifier">RealType</span> <span class="identifier">trials</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
</pre>
<p>
            返回构造分布的参数<span class="emphasis"><em>n</em></span> 。 </p>
<a name="math_toolkit.dist.dist_ref.dists.binomial_dist.lower_bound_on_the_success_fraction"></a>
<h5>
<a name="id607683"></a>
            <a href="binomial_dist.html#math_toolkit.dist.dist_ref.dists.binomial_dist.lower_bound_on_the_success_fraction">成功分数下边界值(Lower
            Bound on the Success Fraction)</a></h5>
<pre class="programlisting"><span class="keyword">static</span> <span class="identifier">RealType</span> <span class="identifier">find_lower_bound_on_p</span><span class="special">(</span>
   <span class="identifier">RealType</span> <span class="identifier">trials</span><span class="special">,</span> 
   <span class="identifier">RealType</span> <span class="identifier">successes</span><span class="special">,</span>
   <span class="identifier">RealType</span> <span class="identifier">alpha</span><span class="special">,</span>
   <span class="emphasis"><em>unspecified-type</em></span> <span class="identifier">method</span> <span class="special">=</span> <span class="identifier">clopper_pearson_exact_interval</span><span class="special">);</span>
</pre>
<p>
            返回成功分数(success fraction)的一个下边界值：</p>
<div class="variablelist">
<p class="title"><b></b></p>
<dl>
<dt><span class="term">trials</span></dt>
<dd>
  <p>
                试验总次数.
        </p>
</dd>
<dt><span class="term">successes</span></dt>
<dd>
  <p>
                试验中的成功次数.
        </p>
</dd>
<dt><span class="term">alpha</span></dt>
<dd>
  <p>
                成功分数的真值(true value)小于<span class="bold"><strong></strong></span>返回值的最大可接受概率.
        </p>
</dd>
<dt><span class="term">method</span></dt>
<dd>
  <p>
              指定用于计算区间的可选参数(如下)。</p>
</dd>
</dl>
</div>
<p>
  例如，如果你想观察 <span class="emphasis"><em>n</em></span> 次试验中的 <span class="emphasis"><em> k</em></span> 次成功，最简单地估算成功分数的方法是<span class="emphasis"><em>k/n</em></span>，如果你想要有95%的把握：实值(true value)<span class="bold"><strong>大于</strong></span>某个值，<span class="emphasis"><em>p<sub>min</sub></em></span>，那么：</p>
<pre class="programlisting"><span class="identifier">p</span><sub>min</sub> <span class="special">=</span> <span class="identifier">binomial_distribution</span><span class="special">&lt;</span><span class="identifier">RealType</span><span class="special">&gt;::</span><span class="identifier">find_lower_bound_on_p</span><span class="special">(</span>
                    <span class="identifier">n</span><span class="special">,</span> <span class="identifier">k</span><span class="special">,</span> <span class="number">0.05</span><span class="special">);</span>
</pre>
<p>
            <a href="../../stat_tut/weg/binom_eg/binom_conf.html" title="Calculating Confidence Limits on the Frequency of Occurrence for a Binomial Distribution">参考可执行的例子.</a>
  </p>
<p>
            对于<span class="emphasis"><em>method</em></span>可选参数(optional parameter)，当前有两个可以使用的值：<span class="emphasis"><em>clopper_pearson_exact_interval</em></span>
            或者<span class="emphasis"><em>jeffreys_prior_interval</em></span>。这些常量是类模板<code class="computeroutput"><span class="identifier">binomial_distribution</span></code>的成员变量，使用方法如下：</p>
<pre class="programlisting"><span class="identifier">p</span> <span class="special">=</span> <span class="identifier">binomial_distribution</span><span class="special">&lt;</span><span class="identifier">RealType</span><span class="special">&gt;::</span><span class="identifier">find_lower_bound_on_p</span><span class="special">(</span>
    <span class="identifier">n</span><span class="special">,</span> <span class="identifier">k</span><span class="special">,</span> <span class="number">0.05</span><span class="special">,</span> <span class="identifier">binomial_distribution</span><span class="special">&lt;</span><span class="identifier">RealType</span><span class="special">&gt;::</span><span class="identifier">jeffreys_prior_interval</span><span class="special">);</span>
</pre>
<p>
            如果这个<span class="emphasis"><em>method</em></span>参数没有指定，那么缺省的<span class="emphasis"><em>method</em></span>参数是 Clopper
  Pearson "精确(exact)" 区间。这种方法产生的区间确保至少<code class="computeroutput"><span class="number">100</span><span class="special">(</span><span class="number">1</span><span class="special">-</span><span class="identifier">alpha</span><span class="special">)%</span></code> 覆盖(coverage)，但这也是过分保守的，有时这种方法会产生比要求的范围更大的区间。</p>
<p>
            这种可选的计算方法产生一个non-informative Jeffreys
            Prior 区间。它仅在平均情况下才产生<code class="computeroutput"><span class="number">100</span><span class="special">(</span><span class="number">1</span><span class="special">-</span><span class="identifier">alpha</span><span class="special">)%</span></code>
  覆盖(coverage)，虽然通常非常接近于标示的覆盖层次(coverage level)。它是Brown, Cai 和 DasGupta在复审(review)的过程中推荐的主要的计算方法之一。</p>
<p>
            请注意：“教科书(textbock)”中使用的正态近似(normal approximation)计算方法 (Wald 区间)有意地没有提供：这种方法据说始终产生较差的结果，即使是样本很大的时候。参看Brown, Cai 和 DasGupta的论文获取一个全面的解释。
  也有许多其它的计算方法，在特定情况下可能也更合适一些。不幸的是在统计学家之间并有一个统一的标准：参看Brown, Cai 和 DasGuptait 的讨论的最后部分。</p>
<p>
  这里提供了两种方法主要是因为它们可以针对单侧(one sided)和双侧(two sided)区间使用而被选择。参考：</p>
<p>
            Lawrence D. Brown, T. Tony Cai 和 Anirban DasGupta (2001), Interval
            Estimation for a Binomial Proportion, Statistical Science, Vol. 16, No.
            2, 101-133.
  </p>
<p>
            T. Tony Cai (2005), One-sided confidence intervals in discrete distributions,
            Journal of Statistical Planning and Inference 131, 63-88.
  </p>
<p>
            Agresti, A. and Coull, B. A. (1998). Approximate is better than "exact"
            for interval estimation of binomial proportions. Amer. Statist. 52 119-126.
  </p>
<p>
            Clopper, C. J. and Pearson, E. S. (1934). The use of confidence or fiducial
            limits illustrated in the case of the binomial. Biometrika 26 404-413.
  </p>
<a name="math_toolkit.dist.dist_ref.dists.binomial_dist.upper_bound_on_the_success_fraction"></a>
<h5>
<a name="id608314"></a>
            <a href="binomial_dist.html#math_toolkit.dist.dist_ref.dists.binomial_dist.upper_bound_on_the_success_fraction">成功分数(Success Fraction)的上边界(Upper
            Bound on the Success Fraction)</a></h5>
<pre class="programlisting"><span class="keyword">static</span> <span class="identifier">RealType</span> <span class="identifier">find_upper_bound_on_p</span><span class="special">(</span>
   <span class="identifier">RealType</span> <span class="identifier">trials</span><span class="special">,</span> 
   <span class="identifier">RealType</span> <span class="identifier">successes</span><span class="special">,</span>
   <span class="identifier">RealType</span> <span class="identifier">alpha</span><span class="special">,</span>
   <span class="emphasis"><em>unspecified-type</em></span> <span class="identifier">method</span> <span class="special">=</span> <span class="identifier">clopper_pearson_exact_interval</span><span class="special">);</span>
</pre>
<p>
            返回成功分数( success fraction)的上边界：</p>
<div class="variablelist">
<p class="title"><b></b></p>
<dl>
<dt><span class="term">trials</span></dt>
<dd>
  <p>
                总共的试验次数.
        </p>
</dd>
<dt><span class="term">successes</span></dt>
<dd>
  <p>
                试验成功的发生次数.
        </p>
</dd>
<dt><span class="term">alpha</span></dt>
<dd>
  <p>
              成功分数(Success Fraction)的真值(true value)<span class="bold"><strong>大于</strong></span> 返回值的最大可接受概率。</p>
</dd>
<dt><span class="term">method</span></dt>
<dd>
  <p>
                用于指定计算区间的方法的可选参数。参考<code class="computeroutput"><span class="identifier">find_upper_bound_on_p</span></code> 的文档了解这些方法的含义。</p>
</dd>
</dl>
</div>
<p>
            例如，如果你想观察 <span class="emphasis"><em>n</em></span> 次试验中的 <span class="emphasis"><em> k</em></span> 次成功，最简单地估算成功分数的方法是<span class="emphasis"><em>k/n</em></span>，如果你想要有95%的把握：实值(true value)<span class="bold"><strong>小于</strong></span>某个值，<span class="emphasis"><em>p<sub>max</sub></em></span>，那么：</p>
<pre class="programlisting"><span class="identifier">p</span><sub>max</sub> <span class="special">=</span> <span class="identifier">binomial_distribution</span><span class="special">&lt;</span><span class="identifier">RealType</span><span class="special">&gt;::</span><span class="identifier">find_upper_bound_on_p</span><span class="special">(</span>
                    <span class="identifier">n</span><span class="special">,</span> <span class="identifier">k</span><span class="special">,</span> <span class="number">0.05</span><span class="special">);</span>
</pre>
<p>
            <a href="../../stat_tut/weg/binom_eg/binom_conf.html" title="Calculating Confidence Limits on the Frequency of Occurrence for a Binomial Distribution">参照可执行的例子.</a>
  </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../../../../../../../../doc/html/images/note.png"></td>
<th align="left">注意</th>
</tr>
<tr><td align="left" valign="top">
<p>
              为了获取成功部分(success fraction)的双边(two sided)边界，你将使用相同参数来调用函数<code class="computeroutput"><span class="identifier">find_lower_bound_on_p</span></code>
          <span class="bold"><strong>和</strong></span> <code class="computeroutput"><span class="identifier">函数find_upper_bound_on_p</span></code>。</p>
<p>
              如果真实的成功分数(success fraction)超出边界的预期风险水平(desired risk level)是&#945;，那么你将&#945;/2 传递给这些函数。</p>
<p>
          通过将&#945; = 0.025传递给每一个函数，你将获得一个双边界(two sided)的95%的置信区间(confidence interval) . </p>
<p>
              <a href="../../stat_tut/weg/binom_eg/binom_conf.html" title="Calculating Confidence Limits on the Frequency of Occurrence for a Binomial Distribution">参考可执行的例子.</a>
          </p>
</td></tr>
</table></div>
<a name="math_toolkit.dist.dist_ref.dists.binomial_dist.estimating_the_number_of_trials_required_for_a_certain_number_of_successes"></a>
<h5>
<a name="id608754"></a>
            <a href="binomial_dist.html#math_toolkit.dist.dist_ref.dists.binomial_dist.estimating_the_number_of_trials_required_for_a_certain_number_of_successes">估算试验中发生特定次数成功所需要的总试验次数(Estimating
            the Number of Trials Required for a Certain Number of Successes)</a>
  </h5>
<pre class="programlisting"><span class="keyword">static</span> <span class="identifier">RealType</span> <span class="identifier">find_minimum_number_of_trials</span><span class="special">(</span>
   <span class="identifier">RealType</span> <span class="identifier">k</span><span class="special">,</span>     <span class="comment">// 事件数
</span>   <span class="identifier">RealType</span> <span class="identifier">p</span><span class="special">,</span>     <span class="comment">// 成功分数(success fraction)
</span>   <span class="identifier">RealType</span> <span class="identifier">alpha</span><span class="special">);</span> <span class="comment">// 概率起始值(probability threshold)
</span></pre>
<p>
            这个函数用于估算在试验中确保成功发生超过k次所需要进行的试验的最小次数，成功的次数为k次或少于k次的风险水平为<span class="emphasis"><em>alpha</em></span>。</p>
<div class="variablelist">
<p class="title"><b></b></p>
<dl>
<dt><span class="term">k</span></dt>
<dd>
  <p>
                成功试验的发生次数.
        </p>
</dd>
<dt><span class="term">p</span></dt>
<dd>
  <p>
                每次试验成功发生的概率.
        </p>
</dd>
<dt><span class="term">alpha</span></dt>
<dd>
  <p>
              发生k次或少于k次成功的最大的可接受的概率。</p>
</dd>
</dl>
</div>
<p>
            例如：</p>
<pre class="programlisting"><span class="identifier">binomial_distribution</span><span class="special">&lt;</span><span class="identifier">RealType</span><span class="special">&gt;::</span><span class="identifier">find_number_of_trials</span><span class="special">(</span><span class="number">10</span><span class="special">,</span> <span class="number">0.5</span><span class="special">,</span> <span class="number">0.05</span><span class="special">);</span>
</pre>
<p>
  返回具有95%把握的以1/2频率发生的10次成功试验的最小的试验次数。</p>
<a name="math_toolkit.dist.dist_ref.dists.binomial_dist.estimating_the_maximum_number_of_trials_to_ensure_no_more_than_a_certain_number_of_successes"></a>
<h5>
<a name="id609027"></a>
          <a href="binomial_dist.html#math_toolkit.dist.dist_ref.dists.binomial_dist.estimating_the_maximum_number_of_trials_to_ensure_no_more_than_a_certain_number_of_successes">估计最大的试验次数来确保超过特定的成功次数</a></h5>
<pre class="programlisting"><span class="keyword">static</span> <span class="identifier">RealType</span> <span class="identifier">find_maximum_number_of_trials</span><span class="special">(</span>
   <span class="identifier">RealType</span> <span class="identifier">k</span><span class="special">,</span>     <span class="comment">// 事件数
</span>   <span class="identifier">RealType</span> <span class="identifier">p</span><span class="special">,</span>     <span class="comment">// 成功部分
</span>   <span class="identifier">RealType</span> <span class="identifier">alpha</span><span class="special">);</span> <span class="comment">// 概率起始值(threshold)
</span></pre>
<p>
            这个函数用来估算试验中有k次或少于k次发生的最大的试验次数，成功试验次数大于k次的风险为<span class="emphasis"><em>alpha</em></span>。</p>
<div class="variablelist">
<p class="title"><b></b></p>
<dl>
<dt><span class="term">k</span></dt>
<dd>
  <p>
                观察到的成功事件的次数.
        </p>
</dd>
<dt><span class="term">p</span></dt>
<dd>
  <p>
                每次试验的成功概率.
        </p>
</dd>
<dt><span class="term">alpha</span></dt>
<dd>
  <p>
              被观察到的事件大于k次的最大可接受概率。</p>
</dd>
</dl>
</div>
<p>
            例如：</p>
<pre class="programlisting"><span class="identifier">binomial_distribution</span><span class="special">&lt;</span><span class="identifier">RealType</span><span class="special">&gt;::</span><span class="identifier">find_maximum_number_of_trials</span><span class="special">(</span><span class="number">0</span><span class="special">,</span> <span class="number">1e-6</span><span class="special">,</span> <span class="number">0.05</span><span class="special">);</span>
</pre>
<p>
            返回最大的试验次数，并且仍然有95%的可能性不能观察(observing)任何发生频率为百万分之一的事件。这通常用在故障分析( failure analysis)中。</p>
<p>
            <a href="../../stat_tut/weg/binom_eg/binom_size_eg.html" title="Estimating Sample Sizes for a Binomial Distribution.">参考可执行例子.</a>
  </p>
<a name="math_toolkit.dist.dist_ref.dists.binomial_dist.non_member_accessors"></a>
<h5>
<a name="id609319"></a>
            <a href="binomial_dist.html#math_toolkit.dist.dist_ref.dists.binomial_dist.non_member_accessors">非成员访问函数(Accessors)</a>
  </h5>
<p>
            支持所有的分布都通用的            <a href="../nmp.html" title="Non-Member Properties">常见的非成员访问函数</a> ： <a href="../nmp.html#math.dist.cdf">累积分布函数(Cumulative Distribution Function)</a>，<a href="../nmp.html#math.dist.pdf">概率密度函数(Probability Density Function)</a>，<a href="../nmp.html#math.dist.quantile">分位点(Quantile)</a>， <a href="../nmp.html#math.dist.hazard">故障率函数(Hazard Function)</a>， <a href="../nmp.html#math.dist.chf">累积危险函数(Cumulative Hazard Function)</a>， <a href="../nmp.html#math.dist.mean">均值(mean)</a>， <a href="../nmp.html#math.dist.median">中位数(median)</a>， <a href="../nmp.html#math.dist.mode">众数(mode)</a>， <a href="../nmp.html#math.dist.variance">方差(variance)</a>， <a href="../nmp.html#math.dist.sd">标准差(standard deviation)</a>， <a href="../nmp.html#math.dist.skewness">偏斜(skewness)</a>， <a href="../nmp.html#math.dist.kurtosis">峰态(kurtosis)</a>， <a href="../nmp.html#math.dist.kurtosis_excess">峰态超越(kurtosis_excess)</a>， <a href="../nmp.html#math.dist.range">值域(range)</a> 以及 <a href="../nmp.html#math.dist.support">支持(support)</a>。</p>
<p>
            随机变量<span class="emphasis"><em>k</em></span> 的定义域是：<code class="computeroutput"><span class="number">0</span> <span class="special">&lt;=</span> <span class="identifier">k</span> <span class="special">&lt;=</span> <span class="identifier">N</span></code>, 否则返回<a href="../../../main_overview/error_handling.html#domain_error">定义域错误</a>
  。</p>
<p>
  值得花一时间来定义在二项分布中的这些访问函数的实际含义：</p>
<div class="table">
<a name="id609532"></a>
<p class="title"><b>表1.非成员访问函数的含义</b></p>
<div class="table-contents"><table class="table" summary="Meaning of the non-member accessors">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                <p>
                  函数</p>
            </th>
<th>
                <p>
                  含义</p>
            </th>
</tr></thead>
<tbody>
<tr>
<td>
                <p>
                  <a href="../nmp.html#math.dist.pdf">概率密度函数(Probability Density Function)</a></p>
            </td>
<td>
                <p>
                  在单次试验成功分数(success fraction)为p的n次试验中<span class="bold"><strong>恰好 k 次成功</strong></span>
                  的概率。例如：</p>
                <p>
                  <code class="computeroutput"><span class="identifier">pdf</span><span class="special">(</span><span class="identifier">binomial</span><span class="special">(</span><span class="identifier">n</span><span class="special">,</span>
                  <span class="identifier">p</span><span class="special">),</span>
                  <span class="identifier">k</span><span class="special">)</span></code>
            </p>            </td>
</tr>
<tr>
<td>
                <p>
                  <a href="../nmp.html#math.dist.cdf">累积分布函数(Cumulative Distribution Function)</a></p>
            </td>
<td>
                <p>
                  在单次试验成功分数(success fraction)为p的n次试验中<span class="bold"><strong>恰好 k 次或少于k次成功</strong></span> 的概率。例如：</p>
                <p>
                  <code class="computeroutput"><span class="identifier">cdf</span><span class="special">(</span><span class="identifier">binomial</span><span class="special">(</span><span class="identifier">n</span><span class="special">,</span>
                  <span class="identifier">p</span><span class="special">),</span>
                  <span class="identifier">k</span><span class="special">)</span></code>
            </p>            </td>
</tr>
<tr>
<td>
                <p>
                  <a href="../nmp.html#math.dist.ccdf">累积分布函数补集(Complement of the Cumulative Distribution
                  Function)</a>
                </p>
            </td>
<td>
                <p>
                  在单次试验成功分数(success fraction)为p的n次试验中<span class="bold"><strong>超过 k 次k次成功</strong></span> 的概率。例如：</p>
                <p>
                  <code class="computeroutput"><span class="identifier">cdf</span><span class="special">(</span><span class="identifier">complement</span><span class="special">(</span><span class="identifier">binomial</span><span class="special">(</span><span class="identifier">n</span><span class="special">,</span>
                  <span class="identifier">p</span><span class="special">),</span>
                  <span class="identifier">k</span><span class="special">))</span></code>
            </p>            </td>
</tr>
<tr>
<td>
                <p>
                  <a href="../nmp.html#math.dist.quantile">分位点(Quantile)</a>
                </p>
            </td>
<td>
                <p>
                在单次试验成功分数(success fraction)为p的n次试验中可能出现的<span class="bold"><strong>最大</strong></span> 成功次数，概率为P。注意：返回值是一个实值(real-number)，且不是一个整数。依赖于使用情况，你可能想要向上(ceiling)舍入或是向下(floor)舍入的结果值。例如：</p>
                <p>
                  <code class="computeroutput"><span class="identifier">quantile</span><span class="special">(</span><span class="identifier">binomial</span><span class="special">(</span><span class="identifier">n</span><span class="special">,</span>
                  <span class="identifier">p</span><span class="special">),</span>
                  <span class="identifier">P</span><span class="special">)</span></code>
            </p>            </td>
</tr>
<tr>
<td>
                <p>
                  <a href="../nmp.html#math.dist.quantile_c">概率补集的分位点(Quantile from the complement
                  of the probability)</a>
                </p>
            </td>
<td>
                <p>
                  在单次试验成功分数(success fraction)为p的n次试验中可能出现的<span class="bold"><strong>最小</strong></span> 成功次数，概率为P。注意：返回值是一个实值(real-number)，且不是一个整数。依赖于使用情况，你可能想要向上(ceiling)舍入或是向下(floor)舍入的结果值。例如：</p>
                <p>
                  <code class="computeroutput"><span class="identifier">quantile</span><span class="special">(</span><span class="identifier">complement</span><span class="special">(</span><span class="identifier">binomial</span><span class="special">(</span><span class="identifier">n</span><span class="special">,</span>
                  <span class="identifier">p</span><span class="special">),</span>
                  <span class="identifier">P</span><span class="special">))</span></code>`
            </p>            </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><a name="math_toolkit.dist.dist_ref.dists.binomial_dist.examples"></a>
<h5>
<a name="id610092"></a>
            <a href="binomial_dist.html#math_toolkit.dist.dist_ref.dists.binomial_dist.examples">例子</a>
  </h5>
<p>
            有许多说明如何使用二项分布的<a href="../../stat_tut/weg/binom_eg.html" title="Binomial Distribution Examples">可执行例子</a> 。 </p>
<a name="math_toolkit.dist.dist_ref.dists.binomial_dist.accuracy"></a>
<h5>
<a name="id610132"></a>
            <a href="binomial_dist.html#math_toolkit.dist.dist_ref.dists.binomial_dist.accuracy">精确度</a>
  </h5>
<p>
            二项分布使用不完全β函数<a href="../../../special/sf_beta/ibeta_function.html" title="Incomplete Beta Functions">ibeta</a>
  和<a href="../../../special/sf_beta/ibeta_function.html" title="Incomplete Beta Functions">ibetac</a>来实现，请参看这些函数了解关于精度的信息。</p>
<a name="math_toolkit.dist.dist_ref.dists.binomial_dist.implementation"></a>
<h5>
<a name="id610182"></a>
            <a href="binomial_dist.html#math_toolkit.dist.dist_ref.dists.binomial_dist.implementation">实现</a>
  </h5>
<p>
            在下面的表中，<span class="emphasis"><em>p</em></span> 是单次试验的成功概率(成功分数)，<span class="emphasis"><em>n</em></span>
            是试验次数，<span class="emphasis"><em>k</em></span> 是试验成功的次数，<span class="emphasis"><em>p</em></span> 是概率 且 <span class="emphasis"><em>q = 1-p</em></span>.
  </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                  <p>
                    函数</p>
          </th>
<th>
                  <p>
                  实现注解</p>
          </th>
</tr></thead>
<tbody>
<tr>
<td>
                  <p>
                    pdf
                  </p>
          </td>
<td>
                  <p>
                    使用函数<a href="../../../special/sf_beta/beta_derivative.html" title="Derivative of the Incomplete Beta Function">ibeta_derivative</a>来实现：
                    如果<sub>n</sub>C<sub>k </sub> 是a和b的二项式系数，那么我们可以得到：</p>
                  <p>
                    <span class="inlinemediaobject"><img src="../../../../../equations/binomial_ref1.png"></span>
                  </p>
                  <p>
                    可以作为<code class="computeroutput"><span class="identifier">ibeta_derivative</span><span class="special">(</span><span class="identifier">k</span><span class="special">+</span><span class="number">1</span><span class="special">,</span> <span class="identifier">n</span><span class="special">-</span><span class="identifier">k</span><span class="special">+</span><span class="number">1</span><span class="special">,</span> <span class="identifier">p</span><span class="special">)</span> <span class="special">/</span>
                    <span class="special">(</span><span class="identifier">n</span><span class="special">+</span><span class="number">1</span><span class="special">)</span></code>
                  来计算</p>
                  <p>
                    在这里使用函数<a href="../../../special/sf_beta/beta_derivative.html" title="Derivative of the Incomplete Beta Function">ibeta_derivative</a>
                    ，因为它已经针对最低可能误差( lowest
                    possible error)进行了优化－ 实际上，这仅仅是对不完全β函数的部分内部实现进行了一个简单的包装。</p>
                  <p>
                    同样也有多种特殊情况：参考代码了解相关细节信息.
                  </p>
          </td>
</tr>
<tr>
<td>
                  <p>
                    cdf
                  </p>
          </td>
<td>
                  <p>
                    使用下面的关系：</p>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="identifier">p</span> <span class="special">=</span> <span class="identifier">I</span><span class="special">[</span><span class="identifier">sub</span> <span class="number">1</span><span class="special">-</span><span class="identifier">p</span><span class="special">](</span><span class="identifier">n</span> <span class="special">-</span> <span class="identifier">k</span><span class="special">,</span> <span class="identifier">k</span> <span class="special">+</span> <span class="number">1</span><span class="special">)</span>
  <span class="special">=</span> <span class="number">1</span> <span class="special">-</span> <span class="identifier">I</span><span class="special">[</span><span class="identifier">sub</span> <span class="identifier">p</span><span class="special">](</span><span class="identifier">k</span> <span class="special">+</span> <span class="number">1</span><span class="special">,</span> <span class="identifier">n</span> <span class="special">-</span> <span class="identifier">k</span><span class="special">)</span>
  <span class="special">=</span> <a href="../../../special/sf_beta/ibeta_function.html" title="Incomplete Beta Functions">ibetac</a><span class="special">(</span><span class="identifier">k</span> <span class="special">+</span> <span class="number">1</span><span class="special">,</span> <span class="identifier">n</span> <span class="special">-</span> <span class="identifier">k</span><span class="special">,</span> <span class="identifier">p</span><span class="special">)</span></pre>
<p>
            </p>
                  <p>
                    同样也有多种特殊情况：参考代码了解相关细节信息.</p>
          </td>
</tr>
<tr>
<td>
                  <p>
                    cdf 补集(complement)
                  </p>
          </td>
<td>
                  <p>
                    使用关系： q = <a href="../../../special/sf_beta/ibeta_function.html" title="Incomplete Beta Functions">ibeta</a>(k
                    + 1, n - k, p)
                  </p>
                  <p>
                    同样也有多种特殊情况：参照代码了解相关细节信息.</p>
          </td>
</tr>
<tr>
<td>
                  <p>
                    分位点(quantile)
                  </p>
          </td>
<td>
                  <p>
                    因为函数cdf 对于随机变量<span class="emphasis"><em>k</em></span>
                    是非线性(non-linear)的，在这里就无法使用任何一个不完全β函数的反函数。分位点的查找使用导数自由方法 (<a href="../../../toolkit/internals1/roots2.html" title="Root Finding Without Derivatives">TOMS
                    Algorithm 748</a>).
          </p>          </td>
</tr>
<tr>
<td>
                  <p>
                    补集的分位点(quantile from the complement)
                  </p>
          </td>
<td>
                  <p>
                    同上.
                  </p>
          </td>
</tr>
<tr>
<td>
                  <p>
                    均值(mean)
                  </p>
          </td>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">p</span> <span class="special">*</span>
                    <span class="identifier">n</span></code>
                  </p>
          </td>
</tr>
<tr>
<td>
                  <p>
                    方差(variance)
                  </p>
          </td>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">p</span> <span class="special">*</span>
                    <span class="identifier">n</span> <span class="special">*</span>
                    <span class="special">(</span><span class="number">1</span><span class="special">-</span><span class="identifier">p</span><span class="special">)</span></code>
                  </p>
          </td>
</tr>
<tr>
<td>
                  <p>
                    众数(mode)
                  </p>
          </td>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">floor</span><span class="special">(</span><span class="identifier">p</span> <span class="special">*</span>
                    <span class="special">(</span><span class="identifier">n</span>
                    <span class="special">+</span> <span class="number">1</span><span class="special">))</span></code>
                  </p>
          </td>
</tr>
<tr>
<td>
                  <p>
                    偏斜(skewness)
                  </p>
          </td>
<td>
                  <p>
                    <code class="computeroutput"><span class="special">(</span><span class="number">1</span>
                    <span class="special">-</span> <span class="number">2</span>
                    <span class="special">*</span> <span class="identifier">p</span><span class="special">)</span> <span class="special">/</span>
                    <span class="identifier">sqrt</span><span class="special">(</span><span class="identifier">n</span> <span class="special">*</span>
                    <span class="identifier">p</span> <span class="special">*</span>
                    <span class="special">(</span><span class="number">1</span>
                    <span class="special">-</span> <span class="identifier">p</span><span class="special">))</span></code>
                  </p>
          </td>
</tr>
<tr>
<td>
                  <p>
                    峰态(kurtosis)
                  </p>
          </td>
<td>
                  <p>
                    <code class="computeroutput"><span class="number">3</span> <span class="special">-</span>
                    <span class="special">(</span><span class="number">6</span>
                    <span class="special">/</span> <span class="identifier">n</span><span class="special">)</span> <span class="special">+</span>
                    <span class="special">(</span><span class="number">1</span>
                    <span class="special">/</span> <span class="special">(</span><span class="identifier">n</span> <span class="special">*</span>
                    <span class="identifier">p</span> <span class="special">*</span>
                    <span class="special">(</span><span class="number">1</span>
                    <span class="special">-</span> <span class="identifier">p</span><span class="special">)))</span></code>
                  </p>
          </td>
</tr>
<tr>
<td>
                  <p>
                    峰态超越(kurtosis excess)
                  </p>
          </td>
<td>
                  <p>
                    <code class="computeroutput"><span class="special">(</span><span class="number">1</span>
                    <span class="special">-</span> <span class="number">6</span>
                    <span class="special">*</span> <span class="identifier">p</span>
                    <span class="special">*</span> <span class="identifier">q</span><span class="special">)</span> <span class="special">/</span>
                    <span class="special">(</span><span class="identifier">n</span>
                    <span class="special">*</span> <span class="identifier">p</span>
                    <span class="special">*</span> <span class="identifier">q</span><span class="special">)</span></code>
                  </p>
          </td>
</tr>
<tr>
<td>
                  <p>
                  参数估计</p>          </td>
<td>
                  <p>
                    成员函数<code class="computeroutput"><span class="identifier">find_upper_bound_on_p</span></code>
                    <code class="computeroutput"><span class="identifier">，find_lower_bound_on_p</span></code>
                    和<code class="computeroutput"><span class="identifier">find_number_of_trials</span></code>
                    分别使用不完全β函数反函数<a href="../../../special/sf_beta/ibeta_inv_function.html" title="The Incomplete Beta Function Inverses">ibetac_inv</a>,
                    <a href="../../../special/sf_beta/ibeta_inv_function.html" title="The Incomplete Beta Function Inverses">ibeta_inv</a>,
                    和<a href="../../../special/sf_beta/ibeta_inv_function.html" title="The Incomplete Beta Function Inverses">ibetac_invb</a>
                    来实现</p>
          </td>
</tr>
</tbody>
</table></div>
<a name="math_toolkit.dist.dist_ref.dists.binomial_dist.references"></a>
<h5>
<a name="id611521"></a>
            <a href="binomial_dist.html#math_toolkit.dist.dist_ref.dists.binomial_dist.references">参考资料</a>
  </h5>
<div class="itemizedlist"><ul type="disc">
<li>
<a href="http://mathworld.wolfram.com/BinomialDistribution.html" target="_top">Weisstein,
              Eric W. "Binomial Distribution." From MathWorld--A Wolfram
              Web Resource</a>.
      </li>
<li>
<a href="http://en.wikipedia.org/wiki/Beta_distribution" target="_top">维基百科(Wikipedia)二项分布(
              binomial distribution)</a>.
      </li>
<li>
<a href="http://www.itl.nist.gov/div898/handbook/eda/section3/eda366i.htm" target="_top">NIST
              探索性数据分析(Explorary Data Analysis)</a>.
      </li>
</ul></div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright ?2006 , 2007, 2008 John Maddock, Paul A. Bristow, Hubert
      Holin, Xiaogang Zhang and Bruno Lalande<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="beta_dist.html"><img src="../../../../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../dists.html"><img src="../../../../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../../../index.html"><img src="../../../../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="cauchy_dist.html"><img src="../../../../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>

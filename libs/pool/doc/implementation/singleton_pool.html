<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
  <meta http-equiv="Content-Language" content="en-us">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link href="../pool.css" rel="stylesheet" type="text/css">

  <title>Singleton Pool Implementation</title></head>


<body>
  <img src="../../../../boost.png" alt="C++ Boost" height="86" width="276">

  <h1 align="center">Singleton Pool Implementation 单件内存池实现</h1>

  <h2>Dependencies 相关性</h2>

  <p>Includes the Boost headers <span class="code">"pool.hpp"</span> (see
  <a href="pool.html">pool.html</a>), <span class="code">"detail/singleton.hpp"</span> (see <a href="singleton.html">singleton.html</a>), <span class="code">"detail/mutex.hpp"</span> (see <a href="mutex.html">mutex.html</a>),
  and <span class="code">"detail/guard.hpp"</span> (see <a href="guard.html">guard.html</a>).<br>包含了 Boost 头文件 <span class="code">"pool.hpp"</span> (请见
  <a href="pool.html">pool.html</a>), <span class="code">"detail/singleton.hpp"</span> (请见 <a href="singleton.html">singleton.html</a>), <span class="code">"detail/mutex.hpp"</span> (请见 <a href="mutex.html">mutex.html</a>), 和 <span class="code">"detail/guard.hpp"</span> (请见 <a href="guard.html">guard.html</a>).</p>

  <h2>Synopsis 摘要</h2>
  <pre class="code">template &lt;typename Tag,<br>    unsigned RequestedSize,<br>    typename UserAllocator = default_user_allocator_new_delete,<br>    typename Mutex = details::pool::default_mutex,<br>    unsigned NextSize = 32&gt;<br>class singleton_pool<br>{<br>  ... // public interface<br><br>  public: // extensions to public interface<br>    typedef Mutex mutex;<br>    static const unsigned next_size = NextSize;<br>};<br></pre>

  <h2>Extensions to Public Interface 公有接口的扩展</h2>

  <h3>Additional template parameters 额外的模板参数</h3>

  <h4 class="code">Mutex</h4>

  <p>This class is the type of <a href="mutex.html">mutex</a> to use to
  protect simultaneous access to the underlying Pool. It is exposed so that
  users may declare some singleton pools normally (i.e., with
  synchronization), but some singleton pools without synchronization (by
  specifying <span class="code">details::pool::null_mutex</span>) for
  efficiency reasons.<br>该类为 <a href="mutex.html">mutex</a> 的类型，用于保护对底层内存池的并发访问。它是公开的，所以用户可以如常声明一些单件内存池(即带同步的)，不过由于效率的原因，有些单件内存池是不带同步的(通过指定 <span class="code">details::pool::null_mutex</span>)。</p>

  <h4 class="code">NextSize</h4>

  <p>The value of this parameter is passed to the underlying Pool when it is
  created. See the extensions to the public interface of <a href="pool.html">pool</a> for more information.<br>该参数的值在底层内存池被创建时将传递给它。更多信息请见 <a href="pool.html">pool</a> 的“公有接口的扩展”。</p>

  <h3>Additional members 其它成员</h3>

  <p>The typedef <span class="code">mutex</span> and the static const value
  <span class="code">next_size</span> publish the values of the template
  parameters <span class="code">Mutex</span> and <span class="code">NextSize</span>, respectively.<br>typedef <span class="code">mutex</span> 和静态常量值
  <span class="code">next_size</span> 分别公开了模板参数 <span class="code">Mutex</span> 和 <span class="code">NextSize</span> 的值。</p>

  <h2>Future Directions 未来的方向</h2>

  <p>When the Boost multithreading library is completed, the <span class="code">Mutex</span> parameter will be replaced by something from that
  library providing the same flexibility and will move from an implementation
  detail into the interface specification.<br>当 Boost 的多线程库完成时，参数 <span class="code">Mutex</span> 将被来自于该库的某种类型所替代，以提供相同的灵活性，并将其从实现细节部分移至接口描述部分。</p>

  <h2><a href="../interfaces/singleton_pool.html">Interface
  Description 接口描述</a></h2>
  <hr>

  <p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-html401" alt="Valid HTML 4.01 Transitional" border="0" height="31" width="88"></a></p>

  <p>Revised 
  <!--webbot bot="Timestamp" s-type="EDITED" s-format="%d %B, %Y" startspan -->05
  December, 2006<!--webbot bot="Timestamp" endspan i-checksum="38516" --></p>

  <p><i>Copyright © 2000, 2001 Stephen Cleary (scleary AT jerviswebb DOT
  com)</i></p>

  <p><i>Distributed under the Boost Software License, Version 1.0. (See
  accompanying file <a href="../../../../LICENSE_1_0.txt">LICENSE_1_0.txt</a>
  or copy at <a href="http://www.boost.org/LICENSE_1_0.txt">http://www.boost.org/LICENSE_1_0.txt</a>)</i></p>
</body></html>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
  <meta http-equiv="Content-Language" content="en-us">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link href="../pool.css" rel="stylesheet" type="text/css">

  <title>Object Pool Implementation</title></head>


<body>
  <img src="../../../../boost.png" alt="C++ Boost" height="86" width="276">

  <h1 align="center">Object Pool Implementation 对象内存池实现</h1>

  <h2>Dependencies 相关性</h2>

  <p>Includes the Boost header <span class="code">"pool.hpp"</span> (see
  <a href="pool.html">pool.html</a>).<br>包含了 Boost 头文件 <span class="code">"pool.hpp"</span> (请见
  <a href="pool.html">pool.html</a>).</p>

  <h2>Extensions to Public Interface 公有接口的扩展</h2>

  <p>Whenever an object of type <span class="code">ObjectPool</span> needs
  memory from the system, it will request it from its <span class="code">UserAllocator</span> template parameter. The amount requested is
  determined using a doubling algorithm; that is, each time more system
  memory is allocated, the amount of system memory requested is doubled.
  Users may control the doubling algorithm by using the following
  extensions.<br>当一个类型为 <span class="code">ObjectPool</span> 的对象需要从系统获得内存时，它将从它的 <span class="code">UserAllocator</span> 模板参数进行申请。申请的内存数量通过一个倍增算法来确定；即每次进行系统内存分配时，系统内存的请求数量被加倍。用户可以通过使用以下扩展来控制该倍增算法。</p>

  <h3>Additional constructor parameter 额外的构造函数参数</h3>

  <p>Users may pass an additional constructor parameter to <span class="code">ObjectPool</span>. This parameter is of type <span class="code">size_type</span>, and is the number of chunks to request from the
  system the first time that object needs to allocate system memory. The
  default is 32. This parameter may not be 0.<br>用户可以传递一个额外的构造函数参数给 <span class="code">pool</span>. 该参数的类型为 <span class="code">size_type</span>, 它是该对象首次需要分配系统内存时请求的区块数量。缺省值为32。该参数不能为0。</p>

  <h3><span class="code">next_size</span> accessor functions <span class="code">&nbsp;next_size</span> 访问器函数</h3>

  <p>The pair of functions <span class="code">size_type get_next_size()
  const;</span> and <span class="code">void set_next_size(size_type);</span>
  allow users to explicitly read and write the <span class="code">next_size</span> value. This value is the number of chunks to
  request from the system the next time that object needs to allocate system
  memory. This value should never be set to 0.<br>这是一对函数 <span class="code">size_type get_next_size()
  const;</span> 和 <span class="code">void set_next_size(size_type);</span>
  它们允许用户显式地读取和设置 <span class="code">next_size</span> 的值。该值为该对象需要再次分配系统内存时请求的区块数量。该值不能被设置为0。</p>

  <h2>Protected Interface 保护性接口</h2>

  <h3>Synopsis 摘要</h3>
  <pre class="code">template &lt;typename ElementType, typename UserAllocator = default_user_allocator_new_delete&gt;<br>class object_pool: protected pool&lt;UserAllocator&gt;<br>{<br>  ... // public interface<br>};<br></pre>

  <h3>Protected Derivation 保护性继承</h3>ObjectPool derives from a simple segregated
  storage via protected derivation; this exposes all the <a href="pool.html">Pool implementation details</a> to all classes derived from
  ObjectPool as well.<br>ObjectPool&nbsp;保护式地继承自一个简单分隔存储；这样可以向所有继承自&nbsp;ObjectPool 的类公开 <a href="simple_segregated_storage.html">简单分隔存储的所有实现细节</a>。

  <h2><a href="../interfaces/object_pool.html">Interface Description 接口描述</a></h2>
  <hr>

  <p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-html401" alt="Valid HTML 4.01 Transitional" border="0" height="31" width="88"></a></p>

  <p>Revised 
  <!--webbot bot="Timestamp" s-type="EDITED" s-format="%d %B, %Y" startspan -->05
  December, 2006<!--webbot bot="Timestamp" endspan i-checksum="38516" --></p>

  <p><i>Copyright © 2000, 2001 Stephen Cleary (scleary AT jerviswebb DOT
  com)</i></p>

  <p><i>Distributed under the Boost Software License, Version 1.0. (See
  accompanying file <a href="../../../../LICENSE_1_0.txt">LICENSE_1_0.txt</a>
  or copy at <a href="http://www.boost.org/LICENSE_1_0.txt">http://www.boost.org/LICENSE_1_0.txt</a>)</i></p>
</body></html>
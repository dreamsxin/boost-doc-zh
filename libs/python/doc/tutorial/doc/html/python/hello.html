<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Building Hello World &#26500;&#24314; Hello World</title>
<link rel="stylesheet" href="../../../../../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="../index.html" title="Chapter&#160;1.&#160;python 2.0">
<link rel="up" href="../index.html" title="Chapter&#160;1.&#160;python 2.0">
<link rel="prev" href="../index.html" title="Chapter&#160;1.&#160;python 2.0">
<link rel="next" href="exposing.html" title="Exposing Classes &#23548;&#20986;&#31867;">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../index.html"><img src="../../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="exposing.html"><img src="../../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="python.hello"></a> Building Hello World &#26500;&#24314; Hello World</h2></div></div></div>
<a name="hello.from_start_to_finish_____________"></a><h3>
<a name="id5047892"></a>
      From Start To Finish &#20174;&#22836;&#21040;&#23614;
    </h3>
<p>
      Now the first thing you'd want to do is to build the Hello World module and
      try it for yourself in Python. In this section, we will outline the steps necessary
      to achieve that. We will use the build tool that comes bundled with every boost
      distribution: <span class="bold"><strong>bjam</strong></span>.<br> &#29616;&#22312;&#20320;&#26368;&#24819;&#20570;&#30340;&#20107;&#65292;&#21487;&#33021;&#23601;&#26159;&#26500;&#24314;Hello
      World&#27169;&#22359;&#65292;&#24182;&#20146;&#33258;&#22312;Python&#20013;&#35797;&#29992;&#19968;&#19979;&#12290; &#22312;&#26412;&#33410;&#20013;&#65292;&#25105;&#20204;&#23558;&#27010;&#36848;&#23454;&#29616;&#35813;&#30446;&#26631;&#30340;&#24517;&#35201;&#27493;&#39588;&#12290;
      &#25105;&#20204;&#23558;&#20351;&#29992;boost&#21457;&#34892;&#29256;&#25414;&#32465;&#30340;&#26500;&#24314;&#24037;&#20855;&#65306;<span class="bold"><strong>bjam</strong></span>&#12290;
    </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../../../../../../doc/src/images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
<p>
        <span class="bold"><strong>Building without bjam &#19981;&#29992;bjam&#26500;&#24314;</strong></span>
      </p>
<p>
        Besides bjam, there are of course other ways to get your module built. What's
        written here should not be taken as "the one and only way". There
        are of course other build tools apart from <code class="literal">bjam</code>.<br>
        &#38500;&#20102;bjam&#65292;&#24403;&#28982;&#36824;&#26377;&#20854;&#20182;&#30340;&#26041;&#27861;&#26469;&#26500;&#24314;&#27169;&#22359;&#12290; &#27492;&#22788;&#25152;&#36848;&#19981;&#24212;&#34987;&#35270;&#20026;"&#21807;&#19968;&#26041;&#27861;"&#12290;
        &#38500;&#20102;<code class="literal">bjam</code>&#65292; &#24403;&#28982;&#36824;&#26377;&#20854;&#20182;&#26500;&#24314;&#24037;&#20855;&#12290;
      </p>
<p>
        Take note however that the preferred build tool for Boost.Python is bjam.
        There are so many ways to set up the build incorrectly. Experience shows
        that 90% of the "I can't build Boost.Python" problems come from
        people who had to use a different tool.<br> &#19981;&#36807;&#35831;&#27880;&#24847;&#65292;Boost.Python&#30340;&#39318;&#36873;&#26500;&#24314;&#24037;&#20855;&#26159;bjam&#12290;
        &#26500;&#24314;&#26041;&#27861;&#19981;&#27491;&#30830;&#30340;&#21487;&#33021;&#24615;&#22826;&#22823;&#20102;&#12290; &#32463;&#39564;&#34920;&#26126;&#65292;90%&#30340;"&#25105;&#26080;&#27861;&#32534;&#35793;Boost.Python"&#30340;&#38382;&#39064;&#65292;&#26159;&#22240;&#20026;&#20182;&#19981;&#24471;&#19981;&#20351;&#29992;&#20854;&#20182;&#24037;&#20855;&#12290;
      </p>
</td></tr>
</table></div>
<p>
      We will skip over the details. Our objective will be to simply create the hello
      world module and run it in Python. For a complete reference to building Boost.Python,
      check out: <a href="../../../../building.html" target="_top">building.html</a>. After
      this brief <span class="emphasis"><em>bjam</em></span> tutorial, we should have built the DLLs
      and run a python program using the extension.<br> &#25105;&#20204;&#23558;&#30053;&#36807;&#32454;&#33410;&#12290;&#25105;&#20204;&#30340;&#30446;&#26631;&#26159;&#31616;&#21333;&#22320;&#21019;&#24314;hello
      world&#27169;&#22359;&#65292;&#24182;&#22312;Python&#20013;&#36816;&#34892;&#23427;&#12290; &#26377;&#20851;&#26500;&#24314;Boost.Python&#30340;&#23436;&#25972;&#21442;&#32771;&#36164;&#26009;&#65292;&#35831;&#26597;&#30475;
      <a href="../../../../building.html" target="_top">building.html</a>&#12290; &#23436;&#25104;&#36825;&#20010;&#31616;&#30701;&#30340;
      <span class="emphasis"><em>bjam</em></span> &#25945;&#31243;&#20043;&#21518;&#65292;&#25105;&#20204;&#24212;&#35813;&#26500;&#24314;&#20986;DLL&#24182;&#33021;&#36816;&#34892;python&#31243;&#24207;&#20351;&#29992;&#35813;&#25193;&#23637;&#65306;
    </p>
<p>
      The tutorial example can be found in the directory: <code class="literal">libs/python/example/tutorial</code>.
      There, you can find:<br> &#25945;&#31243;&#20013;&#30340;&#20363;&#23376;&#20301;&#20110;&#30446;&#24405;&#65306;<code class="literal">libs/python/example/tutorial</code>&#12290;
      &#20854;&#20013;&#26377;&#65306;
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
          hello.cpp
        </li>
<li class="listitem">
          hello.py
        </li>
<li class="listitem">
          Jamroot
        </li>
</ul></div>
<p>
      The <code class="literal">hello.cpp</code> file is our C++ hello world example. The
      <code class="literal">Jamroot</code> is a minimalist <span class="emphasis"><em>bjam</em></span> script
      that builds the DLLs for us. Finally, <code class="literal">hello.py</code> is our Python
      program that uses the extension in <code class="literal">hello.cpp</code>.<br> <code class="literal">hello.cpp</code>
      &#25991;&#20214;&#65292;&#26159;&#25105;&#20204;&#30340;C++ hello world&#20363;&#31243;&#12290; <code class="literal">Jamroot</code> &#26159;&#19968;&#20010;&#26368;&#23567;&#30340;
      <span class="emphasis"><em>bjam</em></span> &#33050;&#26412;&#65292;&#23427;&#20026;&#25105;&#20204;&#26500;&#24314;DLL&#12290; &#26368;&#21518;&#65292;<code class="literal">hello.py</code>
      &#26159;&#25105;&#20204;&#30340;Python&#31243;&#24207;&#65292;&#23427;&#23558;&#20351;&#29992; <code class="literal">hello.cpp</code> &#20013;&#30340;&#25193;&#23637;&#12290;
    </p>
<p>
      Before anything else, you should have the bjam executable in your boost directory
      or somewhere in your path such that <code class="literal">bjam</code> can be executed
      in the command line. Pre-built Boost.Jam executables are available for most
      platforms. The complete list of Bjam executables can be found <a href="http://sourceforge.net/project/showfiles.php?group_id=7586" target="_top">here</a>.<br>
      &#39318;&#20808;&#65292;&#20320;&#24212;&#35813;&#25226;bjam&#21487;&#25191;&#34892;&#25991;&#20214;&#65292;&#25918;&#22312;&#20320;&#30340;boost&#30446;&#24405;&#65292;&#25110;&#22312;&#31995;&#32479;&#36335;&#24452;&#30340;&#20854;&#20182;&#22320;&#26041;&#65292;&#20351;
      <code class="literal">bjam</code> &#21487;&#20197;&#22312;&#21629;&#20196;&#34892;&#20013;&#25191;&#34892;&#12290; &#22312;&#22823;&#22810;&#25968;&#24179;&#21488;&#19978;&#65292;&#37117;&#26377;&#39044;&#24314;&#30340;Boost.Jam&#21487;&#25191;&#34892;&#25991;&#20214;&#12290;
      &#25152;&#26377;bjam&#21487;&#25191;&#34892;&#25991;&#20214;&#21487;&#20197;&#22312; <a href="http://sourceforge.net/project/showfiles.php?group_id=7586" target="_top">&#36825;&#37324;</a>
      &#25214;&#21040;&#12290;
    </p>
<a name="hello.let_s_jam____________jam___"></a><h3>
<a name="id5045602"></a>
      Let's Jam! &#35753;&#25105;&#20204;Jam&#65281;
    </h3>
<p>
      <span class="inlinemediaobject"><img src="../images/jam.png" alt="jam"></span>
    </p>
<p>
      <a href="../../../../../example/tutorial/Jamroot" target="_top">Here</a> is our minimalist
      Jamroot file. Simply copy the file and tweak <code class="literal">use-project boost</code>
      to where your boost root directory is and your OK.<br> <a href="../../../../../example/tutorial/Jamroot" target="_top">&#36825;&#37324;</a>
      &#26159;&#25105;&#20204;&#26368;&#23567;&#30340;Jamroot&#25991;&#20214;&#12290; &#21482;&#38656;&#22797;&#21046;&#35813;&#25991;&#20214;&#24182;&#23558; <code class="literal">use-project
      boost</code> &#26356;&#25913;&#20026;&#20320;&#30340;boost&#26681;&#30446;&#24405;&#23601;&#34892;&#20102;&#12290;
    </p>
<p>
      The comments contained in the Jamrules file above should be sufficient to get
      you going.<br> &#19978;&#38754;Jamrules&#25991;&#20214;&#20013;&#21253;&#21547;&#30340;&#27880;&#37322;&#23545;&#20320;&#24212;&#35813;&#36275;&#22815;&#20102;&#12290;
    </p>
<a name="hello.running_bjam________bjam"></a><h3>
<a name="id5045675"></a>
      Running bjam &#36816;&#34892;bjam
    </h3>
<p>
      <span class="emphasis"><em>bjam</em></span> is run using your operating system's command line
      interpreter.<br> <span class="emphasis"><em>bjam</em></span> &#36890;&#36807;&#25805;&#20316;&#31995;&#32479;&#30340;&#21629;&#20196;&#34892;&#35299;&#37322;&#22120;&#36816;&#34892;&#12290;
    </p>
<div class="blockquote"><blockquote class="blockquote"><p>
        Start it up.
      </p></blockquote></div>
<p>
      A file called user-config.jam in your home directory is used to configure your
      tools. In Windows, your home directory can be found by typing:<br> &#20320;&#30340;&#20027;&#30446;&#24405;&#19979;&#30340;user-config.jam&#25991;&#20214;&#65292;&#23558;&#29992;&#26469;&#37197;&#32622;&#24037;&#20855;&#12290;
      &#22312;Windows&#19978;&#65292;&#21487;&#20197;&#22312;&#21629;&#20196;&#25552;&#31034;&#31383;&#21475;&#20013;&#38190;&#20837;&#65306;
    </p>
<pre class="programlisting">ECHO %HOMEDRIVE%%HOMEPATH%
</pre>
<p>
      into a command prompt window. Your file should at least have the rules for
      your compiler and your python installation. A specific example of this on Windows
      would be:<br> &#25214;&#21040;&#20320;&#30340;&#20027;&#30446;&#24405;&#12290;&#35813;&#25991;&#20214;&#33267;&#23569;&#24212;&#35813;&#35774;&#32622;&#20320;&#30340;&#32534;&#35793;&#22120;&#21644;python&#23433;&#35013;&#12290;
      Windows&#19978;&#31034;&#20363;&#22914;&#19979;&#65306;
    </p>
<pre class="programlisting">#  MSVC configuration
using msvc : 8.0 ;

#  Python configuration
using python : 2.4 : C:/dev/tools<span class="emphasis"><em>Python</em></span> ;
</pre>
<p>
      The first rule tells Bjam to use the MSVC 8.0 compiler and associated tools.
      The second rule provides information on Python, its version and where it is
      located. The above assumes that the Python installation is in <code class="literal">C:/dev/tools/Python/</code>.
      If you have one fairly "standard" python installation for your platform,
      you might not need to do this.<br> &#31532;&#19968;&#26465;&#35268;&#21017;&#21578;&#35785;Bjam&#20351;&#29992;MSVC 8.0&#32534;&#35793;&#22120;&#21644;&#30456;&#20851;&#24037;&#20855;&#12290;
      &#31532;&#20108;&#26465;&#35268;&#21017;&#25552;&#20379;&#20102;Python&#30340;&#20449;&#24687;&#65292;&#23427;&#30340;&#29256;&#26412;&#21644;&#23427;&#20301;&#20110;&#20309;&#22788;&#12290;
      &#19978;&#38754;&#20551;&#23450;Python&#23433;&#35013;&#20110; <code class="literal">C:/dev/tools/Python/</code>&#12290; &#22914;&#26524;&#22312;&#20320;&#30340;&#24179;&#21488;&#19978;&#20855;&#26377;&#19968;&#20010;&#30456;&#24403;"&#26631;&#20934;&#30340;"python&#23433;&#35013;&#65292;&#20320;&#21487;&#20197;&#19981;&#24517;&#37197;&#32622;&#35813;&#35268;&#21017;&#12290;
    </p>
<p>
      Now we are ready... Be sure to <code class="literal">cd</code> to <code class="literal">libs/python/example/tutorial</code>
      where the tutorial <code class="literal">"hello.cpp"</code> and the <code class="literal">"Jamroot"</code>
      is situated.<br> &#29616;&#22312;&#25105;&#20204;&#20934;&#22791;&#22909;&#20102;... &#30830;&#20445; <code class="literal">cd</code>
      &#21040; <code class="literal">libs/python/example/tutorial</code>&#65292; &#21363;&#25945;&#31243; <code class="literal">"hello.cpp"</code>
      &#21644; <code class="literal">"Jamroot"</code> &#25152;&#22312;&#20301;&#32622;&#12290;
    </p>
<p>
      Finally:<br> &#26368;&#21518;&#65306;
    </p>
<pre class="programlisting"><span class="identifier">bjam</span>
</pre>
<p>
      It should be building now:<br> &#23427;&#29616;&#22312;&#24212;&#35813;&#24320;&#22987;&#26500;&#24314;&#20102;&#65306;
    </p>
<pre class="programlisting">cd C:\dev\boost\libs\python\example\tutorial
bjam
...patience...
...found 1101 targets...
...updating 35 targets...
</pre>
<p>
      And so on... Finally:<br> &#31561;&#31561;...&#26368;&#21518;&#65306;
    </p>
<pre class="programlisting">Creating library <span class="emphasis"><em>path-to-boost_python.dll</em></span>
   Creating library <span class="emphasis"><em>path-to-'''hello_ext'''.exp</em></span>
**passed** ... hello.test
...updated 35 targets...
</pre>
<p>
      Or something similar. If all is well, you should now have built the DLLs and
      run the Python program.<br> &#25110;&#31867;&#20284;&#30340;&#19996;&#35199;&#12290;&#22914;&#26524;&#19968;&#20999;&#37117;&#22909;&#65292;&#20320;&#29616;&#22312;&#24212;&#35813;&#24050;&#32463;&#26500;&#24314;&#20102;DLL&#24182;&#36816;&#34892;&#20102;Python&#31243;&#24207;&#12290;
    </p>
<div class="blockquote"><blockquote class="blockquote"><p>
        <span class="bold"><strong>There you go... Have fun! &#21435;&#21543;&#8230;&#8230;&#29609;&#24471;&#24320;&#24515;&#28857;&#65281;</strong></span>
      </p></blockquote></div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2002-2005 Joel
      de Guzman, David Abrahams<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at &lt;ulink url="http://www.boost.org/LICENSE_1_0.txt"&gt;
        http://www.boost.org/LICENSE_1_0.txt &lt;/ulink&gt;)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../index.html"><img src="../../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="exposing.html"><img src="../../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>

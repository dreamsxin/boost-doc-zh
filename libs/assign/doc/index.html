<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>






  
  
  
  
  
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">







  
  
  
  
  
  
  
  
  
  
  <title>Boost.Assignment Documentation</title>
  <link rel="stylesheet" href="style.css" type="text/css">
</head>


<body>







  
<table border="0">






    <tbody>





    <tr>






      <td><img src="../../../boost.png" border="0"></td>






      <td>
        
      
      
      
      
      
      <h1 align="center">Assignment Library赋值库</h1>






      </td>






    </tr>






  
  
  
  
  
  
  </tbody>
</table>







  
<p>
  Copyright &copy; 2003-2006 Thorsten Ottosen
  </p>






  
<p>
  Use, modification and distribution is subject to the Boost Software License, Version 1.0
  (see <a href="http://www.boost.org/LICENSE_1_0.txt">
   http://www.boost.org/LICENSE_1_0.txt</a>).
  </p>






  
<h3>Table of Contents目录</h3>






  
<ul>






    <li><a href="#intro">Introduction简介</a></li>






    <li>     
        <a href="#tutorial">Tutorial指南</a>
        
    
    
    
    
    
    <ul>






            <li>函数 <a href="#operator+="><code>operator+=()</code></a>
            </li>





      <li>函数 <a href="#operator%28%29"><code>operator()()</code></a>
            </li>





      <li>函数 <a href="#list_of"><code>list_of()</code></a>    
            </li>





      <li>函数 <a href="#map_list_of"><code>map_list_of()</code></a> 
            </li>





      <li>函数 <a href="#tuple_list_of"><code>tuple_list_of()</code></a>
            </li>





      <li>函数 <a href="#repeat"><code>repeat()</code>, <code>repeat_fun()</code> 和 <code>range()</code> </a> 
            </li>





      <li>函数 <a href="#ref_list_of"><code>ref_list_of()</code> 和 <code>cref_list_of()</code></a>    
            </li>





      <li>一个 <a href="#complicated">"复杂的"</a> 例子    
            </li>





      <li>函数 <a href="#ptr_push_back"><code>ptr_push_back(), ptr_push_front()</code>, 
                                                   <code>ptr_insert()</code> 和 <code>ptr_map_insert()</code></a>
            </li>





      <li>函数 <a href="#ptr_list_of"><code>ptr_list_of()</code></a>         
       </li>





    
    
    
    
    
    </ul>





 </li>





  <li>          
                
        <a href="#reference">Reference参考</a>
      
    
    
    
    
    
    <ul>






        <li><a href="#headers">Headers头文件</a> </li>






        <li><a href="#std">Standard containers标准容器</a> </li>






        <li>函数 <a href="#list_of_ref"><code>list_of()</code> 和 <code>map_list_of()</code></a></li>






        <li>函数 <a href="#repeat_ref"><code>repeat()</code>, <code>repeat_fun()</code> 和 <code>range()</code> </a>  
        </li>





      <li>类&nbsp;<a href="#list_inserter"><code>list_inserter</code></a></li>






        <li>函数 <a href="#make_list_inserter"><code>make_list_inserter()</code></a></li>






        <li><a href="#limit"> 定制</a> 参数列表大小</li>





   
     
    
    
    
    
    
    </ul>






    </li>





  <li> <a href="#exceptions">Exceptions and exception-safety异常及异常安全 </a></li>






    <li> <a href="#extensions">Extending the library扩展本库</a>            
    </li>





  <li> <a href="#boost_libs">Supported libraries支持的库 </a>        
    </li>





  <li> <a href="#examples">Examples例子</a></li>





 
  
  
  
  
  
  <ul>





  
  
  
  
  
  </ul>






    <li><a href="#portability">Portability可移植性</a></li>






    <li><a href="#history">History and Acknowledgment历史及感谢</a>    
    </li>





  <li><a href="#ref">References参考</a></li>






  
</ul>






  
<hr>

 
  
<h2><a name="intro">Introduction简介</a></h2>





 
<p> <i>There appear to be few 
practical uses of <code>operator,()</code></i>.  <!-- p.  247 --> <br>





<i><span style="font-family: monospace;">实际上，很少会使用</span><code>operator,()。</code></i>  <!-- p.  247 --><b></b></p>





<p><b>Bjarne 
Stroustrup</b>, The Design and Evolution of C++ </p>





 
<p>本库的目的是通过重载<code>operator,()</code> 和 <code>operator()()</code>使得将数据填入容器中可以更容易。这两个操作符让我们可以构造一列数据然后把它们拷贝进容器中： </p>





 
<ul>





 <li>用逗号分隔的列表： 
    
    
    
    
    
    <p> 
       <!--  vector< int > v; v += 1,2,3,4,5,6,7,8,9; -->
 
    </p>





    
    
    
    
    
    <pre><span class="identifier">vector</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;</span><span class="identifier"> v</span><span class="special">; </span>
<span class="identifier">v </span><span class="special">+= </span><span class="number">1</span><span class="special">,</span><span class="number">2</span><span class="special">,</span><span class="number">3</span><span class="special">,</span><span class="number">4</span><span class="special">,</span><span class="number">5</span><span class="special">,</span><span class="number">6</span><span class="special">,</span><span class="number">7</span><span class="special">,</span><span class="number">8</span><span class="special">,</span><span class="number">9</span><span class="special">;</span></pre>





    
    
    
    
    
    <p></p>






       </li>





  <li>用括号分隔的列表： 
             
    
    
    
    
    
    <p>       
             </p>





    
    
    
    
    
    <pre><span class="identifier">map</span><span class="special">&lt;</span><span class="identifier">string</span><span class="special">,</span><span class="keyword">int</span><span class="special">&gt; </span><span class="identifier">m</span><span class="special">; </span>
<span class="identifier">insert</span><span class="special">( </span><span class="identifier">m </span><span class="special">)( </span><span class="string">"Bar"</span><span class="special">, </span><span class="number">1 </span><span class="special">)( </span><span class="string">"Foo"</span><span class="special">, </span><span class="number">2 </span><span class="special">);</span></pre>





 
    </li>





</ul>





 
<p>这些列表对于学习、测试和原型化显然很有用，也很容易得到。本库为标准库中的容器预定义了这些操作符，但与一些符合标准的容器一起工作会有更多的功能。本库同时也可以扩展至用户定义类型，例如，用一列数值来调用成员函数，替代普通的参数。 </p>






   
<hr>
   
   <a name="tutorial"></a>
   
<h2>Tutorial指南</h2>






   
<p>只需两分钟你就可以使用这个库了。本节会解释各个主要元件：
   </p>





<ul>






        <li>函数 <a href="#operator+="><code>operator+=()</code></a>
        </li>





  <li>函数&nbsp;<a href="#operator%28%29"><code>operator()()</code></a>
        </li>





  <li>函数&nbsp;<a href="#list_of"><code>list_of()</code></a>    
        </li>





  <li>函数&nbsp;<a href="#map_list_of"><code>map_list_of()</code></a> 
        </li>





  <li>函数&nbsp;<a href="#tuple_list_of"><code>tuple_list_of()</code></a>   
        </li>





  <li>函数&nbsp;<a href="#repeat"><code>repeat()</code>, <code>repeat_fun()</code> 和 <code>range()</code> </a> 
        </li>





  <li>函数&nbsp;<a href="#ref_list_of"><code>ref_list_of()</code> 和 <code>cref_list_of()</code></a>
        </li>





  <li>一个 <a href="#complicated">"复杂的"</a> 例子    
        </li>





  <li>函数&nbsp;<a href="#ptr_push_back"><code>ptr_push_back(), ptr_push_front()</code>, <code>ptr_insert()</code> 和 <code>ptr_map_insert()</code></a>
        </li>





  <li>函数&nbsp;<a href="#ptr_list_of"><code>ptr_list_of()</code></a>         
            
   </li>





</ul>





头两个函数用于在一个已创建的容器后增加元素，接下来的两个函数用于初始化一个对象。 
<p></p>






   
<h3>函数&nbsp;<code>operator+=()</code><a name="operator+="></a></h3>






<a name="operator+=">   </a>
<p>
<a name="operator+=">用 operator+=() 来向一个 vector (或其它标准容器) 填入值，你可以这样写：   
    </a></p>





<blockquote>
  
  
  
  
  
  <pre><span class="preprocessor"><a name="operator+=">#include </a></span><span class="special"><a name="operator+=">&lt;</a></span><span class="identifier"><a name="operator+=">boost</a></span><span class="special"><a name="operator+=">/</a></span><span class="identifier"><a name="operator+=">assign</a></span><span class="special"><a name="operator+=">/</a></span><span class="identifier"><a name="operator+=">std</a></span><span class="special"><a name="operator+=">/</a></span><span class="identifier"><a name="operator+=">vector</a></span><span class="special"><a name="operator+=">.</a></span><span class="identifier"><a name="operator+=">hpp</a></span><span class="special"><a name="operator+=">&gt; </a></span><span class="comment"><a name="operator+=">// for 'operator+=()'<br></a></span><span class="preprocessor"><a name="operator+=">#include </a></span><span class="special"><a name="operator+=">&lt;</a></span><span class="identifier"><a name="operator+=">boost</a></span><span class="special"><a name="operator+=">/</a></span><span class="identifier"><a name="operator+=">assert</a></span><span class="special"><a name="operator+=">.</a></span><span class="identifier"><a name="operator+=">hpp</a></span><span class="special"><a name="operator+=">&gt;; <br></a></span><span class="keyword"><a name="operator+=">using </a></span><span class="keyword"><a name="operator+=">namespace </a></span><span class="identifier"><a name="operator+=">std</a></span><span class="special"><a name="operator+=">;<br></a></span><span class="keyword"><a name="operator+=">using </a></span><span class="keyword"><a name="operator+=">namespace </a></span><span class="identifier"><a name="operator+=">boost</a></span><span class="special"><a name="operator+=">::</a></span><span class="identifier"><a name="operator+=">assign</a></span><span class="special"><a name="operator+=">; </a></span><span class="comment"><a name="operator+=">// bring 'operator+=()' into scope<br></a></span><span class="special">
</span><span class="special"><a name="operator+=">{<br>    </a></span><span class="identifier"><a name="operator+=">vector</a></span><span class="special"><a name="operator+=">&lt;</a></span><span class="keyword"><a name="operator+=">int</a></span><span class="special"><a name="operator+=">&gt; </a></span><span class="identifier"><a name="operator+=">values</a></span><span class="special"><a name="operator+=">;  <br>    </a></span><span class="identifier"><a name="operator+=">values </a></span><span class="special"><a name="operator+=">+= </a></span><span class="number"><a name="operator+=">1</a></span><span class="special"><a name="operator+=">,</a></span><span class="number"><a name="operator+=">2</a></span><span class="special"><a name="operator+=">,</a></span><span class="number"><a name="operator+=">3</a></span><span class="special"><a name="operator+=">,</a></span><span class="number"><a name="operator+=">4</a></span><span class="special"><a name="operator+=">,</a></span><span class="number"><a name="operator+=">5</a></span><span class="special"><a name="operator+=">,</a></span><span class="number"><a name="operator+=">6</a></span><span class="special"><a name="operator+=">,</a></span><span class="number"><a name="operator+=">7</a></span><span class="special"><a name="operator+=">,</a></span><span class="number"><a name="operator+=">8</a></span><span class="special"><a name="operator+=">,</a></span><span class="number"><a name="operator+=">9</a></span><span class="special"><a name="operator+=">; </a></span><span class="comment"><a name="operator+=">// insert values at the end of the container<br>    </a></span><span class="identifier"><a name="operator+=">BOOST_ASSERT</a></span><span class="special"><a name="operator+=">( </a></span><span class="identifier"><a name="operator+=">values</a></span><span class="special"><a name="operator+=">.</a></span><span class="identifier"><a name="operator+=">size</a></span><span class="special"><a name="operator+=">() </a></span><span class="special"><a name="operator+=">== </a></span><span class="number"><a name="operator+=">9 </a></span><span class="special"><a name="operator+=">);<br>    </a></span><span class="identifier"><a name="operator+=">BOOST_ASSERT</a></span><span class="special"><a name="operator+=">( </a></span><span class="identifier"><a name="operator+=">values</a></span><span class="special"><a name="operator+=">[</a></span><span class="number"><a name="operator+=">0</a></span><span class="special"><a name="operator+=">] </a></span><span class="special"><a name="operator+=">== </a></span><span class="number"><a name="operator+=">1 </a></span><span class="special"><a name="operator+=">);<br>    </a></span><span class="identifier"><a name="operator+=">BOOST_ASSERT</a></span><span class="special"><a name="operator+=">( </a></span><span class="identifier"><a name="operator+=">values</a></span><span class="special"><a name="operator+=">[</a></span><span class="number"><a name="operator+=">8</a></span><span class="special"><a name="operator+=">] </a></span><span class="special"><a name="operator+=">== </a></span><span class="number"><a name="operator+=">9 </a></span><span class="special"><a name="operator+=">);<br></a></span><span class="special"><a name="operator+=">}</a></span></pre>





</blockquote>







<a name="operator+=">    这里我们只往容器中填入常量，不过这个值列表也可以由变量表达式组成，只要每个表达式的结果可以转换为容器的 <code>value_type</code> 即可。
   </a>
<p></p>





<a name="operator+="> 
   
   
   </a>
<h3><a name="operator+=">函数&nbsp;<code>operator()()</code> </a><a name="operator()"></a></h3>






<a name="operator()">   </a>
<p>
<a name="operator()">我们不会直接调用 <code>operator()()</code>，而是调用一个返回代理对象的函数，该代理对象定义了 <code>operator()()。这个返回代理对象的函数总是以用来将值插入容器的那个成员函数来命名。因此，要将值对填入一个</code> map，你可以这样写： 
   </a></p>





<blockquote>
  
  
  
  
  
  <pre><span class="preprocessor"><a name="operator()">#include </a></span><span class="special"><a name="operator()">&lt;</a></span><span class="identifier"><a name="operator()">boost</a></span><span class="special"><a name="operator()">/</a></span><span class="identifier"><a name="operator()">assign</a></span><span class="special"><a name="operator()">/</a></span><span class="identifier"><a name="operator()">list_inserter</a></span><span class="special"><a name="operator()">.</a></span><span class="identifier"><a name="operator()">hpp</a></span><span class="special"><a name="operator()">&gt; </a></span><span class="comment"><a name="operator()">// for 'insert()'<br></a></span><span class="preprocessor"><a name="operator()">#include </a></span><span class="special"><a name="operator()">&lt;</a></span><span class="identifier"><a name="operator()">boost</a></span><span class="special"><a name="operator()">/</a></span><span class="identifier"><a name="operator()">assert</a></span><span class="special"><a name="operator()">.</a></span><span class="identifier"><a name="operator()">hpp</a></span><span class="special"><a name="operator()">&gt; <br></a></span><span class="preprocessor"><a name="operator()">#include </a></span><span class="special"><a name="operator()">&lt;</a></span><span class="identifier"><a name="operator()">string</a></span><span class="special"><a name="operator()">&gt;<br></a></span><span class="keyword"><a name="operator()">using </a></span><span class="keyword"><a name="operator()">namespace </a></span><span class="identifier"><a name="operator()">std</a></span><span class="special"><a name="operator()">;<br></a></span><span class="keyword"><a name="operator()">using </a></span><span class="keyword"><a name="operator()">namespace </a></span><span class="identifier"><a name="operator()">boost</a></span><span class="special"><a name="operator()">::</a></span><span class="identifier"><a name="operator()">assign</a></span><span class="special"><a name="operator()">; </a></span><span class="comment"><a name="operator()">// bring 'insert()' into scope<br></a></span><span class="special"><a name="operator()"> <br></a></span><span class="special"><a name="operator()">{<br>    </a></span><span class="identifier"><a name="operator()">map</a></span><span class="special"><a name="operator()">&lt;</a></span><span class="identifier"><a name="operator()">string</a></span><span class="special"><a name="operator()">,</a></span><span class="keyword"><a name="operator()">int</a></span><span class="special"><a name="operator()">&gt; </a></span><span class="identifier"><a name="operator()">months</a></span><span class="special"><a name="operator()">;  <br>    </a></span><span class="identifier"><a name="operator()">insert</a></span><span class="special"><a name="operator()">( </a></span><span class="identifier"><a name="operator()">months </a></span><span class="special"><a name="operator()">)<br>        </a></span><span class="special"><a name="operator()">( </a></span><span class="string"><a name="operator()">"january"</a></span><span class="special"><a name="operator()">,   </a></span><span class="number"><a name="operator()">31 </a></span><span class="special"><a name="operator()">)( </a></span><span class="string"><a name="operator()">"february"</a></span><span class="special"><a name="operator()">, </a></span><span class="number"><a name="operator()">28 </a></span><span class="special"><a name="operator()">)<br>        </a></span><span class="special"><a name="operator()">( </a></span><span class="string"><a name="operator()">"march"</a></span><span class="special"><a name="operator()">,     </a></span><span class="number"><a name="operator()">31 </a></span><span class="special"><a name="operator()">)( </a></span><span class="string"><a name="operator()">"april"</a></span><span class="special"><a name="operator()">,    </a></span><span class="number"><a name="operator()">30 </a></span><span class="special"><a name="operator()">)<br>        </a></span><span class="special"><a name="operator()">( </a></span><span class="string"><a name="operator()">"may"</a></span><span class="special"><a name="operator()">,       </a></span><span class="number"><a name="operator()">31 </a></span><span class="special"><a name="operator()">)( </a></span><span class="string"><a name="operator()">"june"</a></span><span class="special"><a name="operator()">,     </a></span><span class="number"><a name="operator()">30 </a></span><span class="special"><a name="operator()">)<br>        </a></span><span class="special"><a name="operator()">( </a></span><span class="string"><a name="operator()">"july"</a></span><span class="special"><a name="operator()">,      </a></span><span class="number"><a name="operator()">31 </a></span><span class="special"><a name="operator()">)( </a></span><span class="string"><a name="operator()">"august"</a></span><span class="special"><a name="operator()">,   </a></span><span class="number"><a name="operator()">31 </a></span><span class="special"><a name="operator()">)<br>        </a></span><span class="special"><a name="operator()">( </a></span><span class="string"><a name="operator()">"september"</a></span><span class="special"><a name="operator()">, </a></span><span class="number"><a name="operator()">30 </a></span><span class="special"><a name="operator()">)( </a></span><span class="string"><a name="operator()">"october"</a></span><span class="special"><a name="operator()">,  </a></span><span class="number"><a name="operator()">31 </a></span><span class="special"><a name="operator()">)<br>        </a></span><span class="special"><a name="operator()">( </a></span><span class="string"><a name="operator()">"november"</a></span><span class="special"><a name="operator()">,  </a></span><span class="number"><a name="operator()">30 </a></span><span class="special"><a name="operator()">)( </a></span><span class="string"><a name="operator()">"december"</a></span><span class="special"><a name="operator()">, </a></span><span class="number"><a name="operator()">31 </a></span><span class="special"><a name="operator()">);<br>    </a></span><span class="identifier"><a name="operator()">BOOST_ASSERT</a></span><span class="special"><a name="operator()">( </a></span><span class="identifier"><a name="operator()">months</a></span><span class="special"><a name="operator()">.</a></span><span class="identifier"><a name="operator()">size</a></span><span class="special"><a name="operator()">() </a></span><span class="special"><a name="operator()">== </a></span><span class="number"><a name="operator()">12 </a></span><span class="special"><a name="operator()">);<br>    </a></span><span class="identifier"><a name="operator()">BOOST_ASSERT</a></span><span class="special"><a name="operator()">( </a></span><span class="identifier"><a name="operator()">months</a></span><span class="special"><a name="operator()">[</a></span><span class="string"><a name="operator()">"january"</a></span><span class="special"><a name="operator()">] </a></span><span class="special"><a name="operator()">== </a></span><span class="number"><a name="operator()">31 </a></span><span class="special"><a name="operator()">);<br></a></span><span class="special"><a name="operator()">}</a></span><a name="operator()"> </a></pre>





</blockquote>







<a name="operator()">   注意，<code>当我们需要用多个参数</code></a><a name="operator()">(缺省支持最多五个参数，但这个限制是可以 </a><a href="index.html#limit">customized定制的</a>)<a name="operator()"><code>构造对象时，也可以使用operator()()。这点对于序列容器也一样适用：</code></a>

      
<blockquote>
  
  
  
  
  
  <pre><span class="preprocessor">#include </span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">assign</span><span class="special">/</span>list_inserter<span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt; </span><span class="comment">// for 'push_front()'<br></span><span class="preprocessor">#include </span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">assert</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt; <br></span><span class="preprocessor">#include </span><span class="special">&lt;</span><span class="identifier">string</span><span class="special">&gt;<br></span><span class="preprocessor">#include </span><span class="special">&lt;</span><span class="identifier">utility</span><span class="special">&gt;<br></span><span class="keyword">using </span><span class="keyword">namespace </span><span class="identifier">std</span><span class="special">;<br></span><span class="keyword">using </span><span class="keyword">namespace </span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">assign</span><span class="special">; </span><span class="comment">// bring 'push_front()' into scope<br></span><span class="special"> <br></span><span class="special">{<br>    </span><span class="keyword">typedef </span><span class="identifier">pair</span><span class="special">&lt; </span><span class="identifier">string</span><span class="special">,</span><span class="identifier">string </span><span class="special">&gt; </span><span class="identifier">str_pair</span><span class="special">;<br>    </span><span class="identifier">deque</span><span class="special">&lt;</span><span class="identifier">str_pair</span><span class="special">&gt; </span><span class="identifier">deq</span><span class="special">;<br>    </span><span class="identifier">push_front</span><span class="special">( </span><span class="identifier">deq </span><span class="special">)( </span><span class="string">"foo"</span><span class="special">, </span><span class="string">"bar"</span><span class="special">)( </span><span class="string">"boo"</span><span class="special">, </span><span class="string">"far" </span><span class="special">); <br>    </span><span class="identifier">BOOST_ASSERT</span><span class="special">( </span><span class="identifier">deq</span><span class="special">.</span><span class="identifier">size</span><span class="special">() </span><span class="special">== </span><span class="number">2 </span><span class="special">);<br>    </span><span class="identifier">BOOST_ASSERT</span><span class="special">( </span><span class="identifier">deq</span><span class="special">.</span><span class="identifier">front</span><span class="special">().</span><span class="identifier">first </span><span class="special">== </span><span class="string">"boo" </span><span class="special">);<br>    </span><span class="identifier">BOOST_ASSERT</span><span class="special">( </span><span class="identifier">deq</span><span class="special">.</span><span class="identifier">back</span><span class="special">().</span><span class="identifier">second </span><span class="special">== </span><span class="string">"bar" </span><span class="special">);<br></span><span class="special">}   </span></pre>





</blockquote>







   除了 <code>push_front()</code> 以外，我们也可使用 <code>push_back()</code>，如果容器带有相应的成员函数。空括号可用于插入缺省构造的对象，例如，<code>push_front( deq )()()</code> 将插入两个缺省构造的 
<code>str_pair</code> 对象。 
<p></p>





   
   
   
<p>如果觉得 <code>operator()()</code> 和 
<code>push_front()</code> 一起用很麻烦，我们也可以这样写： </p>







<blockquote>
    
  
  
  
  
  
  <pre><span class="identifier">deque</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt; </span><span class="identifier">di</span><span class="special">;    </span>
<span class="identifier">push_front</span><span class="special">( </span><span class="identifier">di </span><span class="special">) </span><span class="special">= </span><span class="number">1</span><span class="special">,</span><span class="number">2</span><span class="special">,</span><span class="number">3</span><span class="special">,</span><span class="number">4</span><span class="special">,</span><span class="number">5</span><span class="special">,</span><span class="number">6</span><span class="special">,</span><span class="number">7</span><span class="special">,</span><span class="number">8</span><span class="special">,</span><span class="number">9</span><span class="special">;</span>
<span class="identifier">BOOST_ASSERT</span><span class="special">( </span><span class="identifier">di</span><span class="special">.</span><span class="identifier">size</span><span class="special">() </span><span class="special">== </span><span class="number">9 </span><span class="special">);    </span>
<span class="identifier">BOOST_ASSERT</span><span class="special">( </span><span class="identifier">di</span><span class="special">[</span><span class="number">0</span><span class="special">] </span><span class="special">== </span><span class="number">9 </span><span class="special">);    </span>
  </pre>






</blockquote>






<p>这样就更清晰了，以上代码并不局限于标准容器，也可以用于所有<span style="font-style: italic;">符合标准</span>、带有正确成员函数的容器。只有 <code>operator+=()</code> 是局限于标准容器使用的。 </p>






  
  
<h3>函数&nbsp;<code>list_of()</code> <a name="list_of"></a></h3>






<a name="list_of">那么如果我们要<span style="font-style: italic;">初始化</span>一个容器呢？这时我们可以用 
  <code>list_of()</code>。通过 <code>list_of()</code>
  我们可以创建一个能够自动转换为任意容器的匿名列表：
  </a>
<blockquote>
  
  
  
  
  
  <pre><span class="preprocessor"><a name="list_of">#include </a></span><span class="special"><a name="list_of">&lt;</a></span><span class="identifier"><a name="list_of">boost</a></span><span class="special"><a name="list_of">/</a></span><span class="identifier"><a name="list_of">assign</a></span><span class="special"><a name="list_of">/</a></span><span class="identifier"><a name="list_of">list_of</a></span><span class="special"><a name="list_of">.</a></span><span class="identifier"><a name="list_of">hpp</a></span><span class="special"><a name="list_of">&gt; </a></span><span class="comment"><a name="list_of">// for 'list_of()'<br></a></span><span class="preprocessor"><a name="list_of">#include </a></span><span class="special"><a name="list_of">&lt;</a></span><span class="identifier"><a name="list_of">boost</a></span><span class="special"><a name="list_of">/</a></span><span class="identifier"><a name="list_of">assert</a></span><span class="special"><a name="list_of">.</a></span><span class="identifier"><a name="list_of">hpp</a></span><span class="special"><a name="list_of">&gt; <br></a></span><span class="preprocessor"><a name="list_of">#include </a></span><span class="special"><a name="list_of">&lt;</a></span><span class="identifier"><a name="list_of">list</a></span><span class="special"><a name="list_of">&gt;<br></a></span><span class="preprocessor"><a name="list_of">#include </a></span><span class="special"><a name="list_of">&lt;</a></span><span class="identifier"><a name="list_of">stack</a></span><span class="special"><a name="list_of">&gt;<br></a></span><span class="preprocessor"><a name="list_of">#include </a></span><span class="special"><a name="list_of">&lt;</a></span><span class="identifier"><a name="list_of">string</a></span><span class="special"><a name="list_of">&gt;<br></a></span><span class="keyword"><a name="list_of">using </a></span><span class="keyword"><a name="list_of">namespace </a></span><span class="identifier"><a name="list_of">std</a></span><span class="special"><a name="list_of">;<br></a></span><span class="keyword"><a name="list_of">using </a></span><span class="keyword"><a name="list_of">namespace </a></span><span class="identifier"><a name="list_of">boost</a></span><span class="special"><a name="list_of">::</a></span><span class="identifier"><a name="list_of">assign</a></span><span class="special"><a name="list_of">; </a></span><span class="comment"><a name="list_of">// bring 'list_of()' into scope<br></a></span><span class="special"><a name="list_of"> <br></a></span><span class="special"><a name="list_of">{<br>    </a></span><span class="keyword"><a name="list_of">const </a></span><span class="identifier"><a name="list_of">list</a></span><span class="special"><a name="list_of">&lt;</a></span><span class="keyword"><a name="list_of">int</a></span><span class="special"><a name="list_of">&gt; </a></span><span class="identifier"><a name="list_of">primes </a></span><span class="special"><a name="list_of">= </a></span><span class="identifier"><a name="list_of">list_of</a></span><span class="special"><a name="list_of">(</a></span><span class="number"><a name="list_of">1</a></span><span class="special"><a name="list_of">)(</a></span><span class="number"><a name="list_of">2</a></span><span class="special"><a name="list_of">)(</a></span><span class="number"><a name="list_of">3</a></span><span class="special"><a name="list_of">)(</a></span><span class="number"><a name="list_of">5</a></span><span class="special"><a name="list_of">)(</a></span><span class="number"><a name="list_of">7</a></span><span class="special"><a name="list_of">)(</a></span><span class="number"><a name="list_of">11</a></span><span class="special"><a name="list_of">);<br>    </a></span><span class="identifier"><a name="list_of">BOOST_ASSERT</a></span><span class="special"><a name="list_of">( </a></span><span class="identifier"><a name="list_of">primes</a></span><span class="special"><a name="list_of">.</a></span><span class="identifier"><a name="list_of">size</a></span><span class="special"><a name="list_of">() </a></span><span class="special"><a name="list_of">== </a></span><span class="number"><a name="list_of">6 </a></span><span class="special"><a name="list_of">);<br>    </a></span><span class="identifier"><a name="list_of">BOOST_ASSERT</a></span><span class="special"><a name="list_of">( </a></span><span class="identifier"><a name="list_of">primes</a></span><span class="special"><a name="list_of">.</a></span><span class="identifier"><a name="list_of">back</a></span><span class="special"><a name="list_of">() </a></span><span class="special"><a name="list_of">== </a></span><span class="number"><a name="list_of">11 </a></span><span class="special"><a name="list_of">);<br>    </a></span><span class="identifier"><a name="list_of">BOOST_ASSERT</a></span><span class="special"><a name="list_of">( </a></span><span class="identifier"><a name="list_of">primes</a></span><span class="special"><a name="list_of">.</a></span><span class="identifier"><a name="list_of">front</a></span><span class="special"><a name="list_of">() </a></span><span class="special"><a name="list_of">== </a></span><span class="number"><a name="list_of">1 </a></span><span class="special"><a name="list_of">);<br>   <br>    </a></span><span class="keyword"><a name="list_of">const </a></span><span class="identifier"><a name="list_of">stack</a></span><span class="special"><a name="list_of">&lt;</a></span><span class="identifier"><a name="list_of">string</a></span><span class="special"><a name="list_of">&gt; </a></span><span class="identifier"><a name="list_of">names </a></span><span class="special"><a name="list_of">= </a></span><span class="special"></span><span class="identifier"><a name="list_of">list_of</a></span><span class="special"><a name="list_of">( </a></span><span class="string"><a name="list_of">"Mr. Foo" </a></span><span class="special"><a name="list_of">)( </a></span><span class="string"><a name="list_of">"Mr. Bar"</a></span><span class="special"><a name="list_of">)( </a></span><span class="string"><a name="list_of">"Mrs. FooBar" </a></span><span class="special"><a name="list_of">).</a></span><span class="identifier"><a name="list_of">to_adapter();<br>    </a></span><span class="keyword"><a name="list_of">const </a></span><span class="identifier"><a name="list_of">stack</a></span><span class="special"><a name="list_of">&lt;</a></span><span class="identifier"><a name="list_of">string</a></span><span class="special"><a name="list_of">&gt; </a></span><span class="identifier"><a name="list_of">names2 </a></span><span class="special"><a name="list_of">= </a></span><span class="special"><a name="list_of">(</a></span><span class="identifier"><a name="list_of">list_of</a></span><span class="special"><a name="list_of">( </a></span><span class="string"><a name="list_of">"Mr. Foo" </a></span><span class="special"><a name="list_of">), </a></span><span class="string"><a name="list_of">"Mr. Bar"</a></span><span class="special"><a name="list_of">, </a></span><span class="string"><a name="list_of">"Mrs. FooBar" </a></span><span class="special"><a name="list_of">).</a></span><span class="identifier"><a name="list_of">to_adapter();<br>    </a></span><span class="identifier"><a name="list_of">BOOST_ASSERT</a></span><span class="special"><a name="list_of">( </a></span><span class="identifier"><a name="list_of">names</a></span><span class="special"><a name="list_of">.</a></span><span class="identifier"><a name="list_of">size</a></span><span class="special"><a name="list_of">() </a></span><span class="special"><a name="list_of">== </a></span><span class="number"><a name="list_of">3 </a></span><span class="special"><a name="list_of">);<br>    </a></span><span class="identifier"><a name="list_of">BOOST_ASSERT</a></span><span class="special"><a name="list_of">( </a></span><span class="identifier"><a name="list_of">names</a></span><span class="special"><a name="list_of">.</a></span><span class="identifier"><a name="list_of">top</a></span><span class="special"><a name="list_of">()</a></span><span class="special"><a name="list_of"> == </a></span><span class="string"><a name="list_of">"Mrs. FooBar" </a></span><span class="special"><a name="list_of">);<br></a></span><span class="special"><a name="list_of">}   </a></span></pre>





</blockquote>






<a name="list_of">如果我们需要初始化一个容器适配器，则需要通过调用 <code>to_adapter() 来给予编译器一点点帮助。正如上面第二个例子所示，如果我们要给整个右边加上括号，则可以对 list_of() 使用逗号分隔的列表。值得注意的是，</code><code>list_of()的第一个参数将决定匿名列表的类型。在上面的栈例子中，匿名列表由</code>
  <code>const char*</code> 对象组成，它可以转换为带 <code>string</code> 对象的栈。只要容器中保存的类型可以进行转换即可。
 </a>
<p></p>






<a name="list_of"> </a>
<p>
<a name="list_of">请注意，<code>list_of()也可以转换为</code> 
 <code>boost::</code></a><a href="../../array/index.html">array</a>&lt;T,sz&gt;，请见 <a href="#boost_libs">supported libraries支持的库</a>&nbsp;中的列表。
 
 </p>





<h3>函数&nbsp;<code>map_list_of()</code> <a name="map_list_of"></a></h3>






<a name="map_list_of">这个函数单纯是为了更方便地使用map而定义的。它的用法示例如下：
 </a>
<blockquote>
  
  
  
  
  
  <pre><span class="preprocessor"><a name="map_list_of">#include </a></span><span class="special"><a name="map_list_of">&lt;</a></span><span class="identifier"><a name="map_list_of">boost</a></span><span class="special"><a name="map_list_of">/</a></span><span class="identifier"><a name="map_list_of">assign</a></span><span class="special"><a name="map_list_of">/</a></span><span class="identifier"><a name="map_list_of">list_of</a></span><span class="special"><a name="map_list_of">.</a></span><span class="identifier"><a name="map_list_of">hpp</a></span><span class="special"><a name="map_list_of">&gt; </a></span><span class="comment"><a name="map_list_of">// for 'map_list_of()'<br></a></span><span class="preprocessor"><a name="map_list_of">#include </a></span><span class="special"><a name="map_list_of">&lt;</a></span><span class="identifier"><a name="map_list_of">boost</a></span><span class="special"><a name="map_list_of">/</a></span><span class="identifier"><a name="map_list_of">assert</a></span><span class="special"><a name="map_list_of">.</a></span><span class="identifier"><a name="map_list_of">hpp</a></span><span class="special"><a name="map_list_of">&gt; <br></a></span><span class="preprocessor"><a name="map_list_of">#include </a></span><span class="special"><a name="map_list_of">&lt;</a></span><span class="identifier"><a name="map_list_of">map</a></span><span class="special"><a name="map_list_of">&gt;<br></a></span><span class="keyword"><a name="map_list_of">using </a></span><span class="keyword"><a name="map_list_of">namespace </a></span><span class="identifier"><a name="map_list_of">std</a></span><span class="special"><a name="map_list_of">;<br></a></span><span class="keyword"><a name="map_list_of">using </a></span><span class="keyword"><a name="map_list_of">namespace </a></span><span class="identifier"><a name="map_list_of">boost</a></span><span class="special"><a name="map_list_of">::</a></span><span class="identifier"><a name="map_list_of">assign</a></span><span class="special"><a name="map_list_of">; </a></span><span class="comment"><a name="map_list_of">// bring 'map_list_of()' into scope<br></a></span><span class="special"><a name="map_list_of"> <br></a></span><span class="special"><a name="map_list_of">{<br>    </a></span><span class="identifier"><a name="map_list_of">map</a></span><span class="special"><a name="map_list_of">&lt;</a></span><span class="keyword"><a name="map_list_of">int</a></span><span class="special"><a name="map_list_of">,</a></span><span class="keyword"><a name="map_list_of">int</a></span><span class="special"><a name="map_list_of">&gt; </a></span><span class="identifier"><a name="map_list_of">next </a></span><span class="special"><a name="map_list_of">= </a></span><span class="identifier"><a name="map_list_of">map_list_of</a></span><span class="special"><a name="map_list_of">(</a></span><span class="number"><a name="map_list_of">1</a></span><span class="special"><a name="map_list_of">,</a></span><span class="number"><a name="map_list_of">2</a></span><span class="special"><a name="map_list_of">)(</a></span><span class="number"><a name="map_list_of">2</a></span><span class="special"><a name="map_list_of">,</a></span><span class="number"><a name="map_list_of">3</a></span><span class="special"><a name="map_list_of">)(</a></span><span class="number"><a name="map_list_of">3</a></span><span class="special"><a name="map_list_of">,</a></span><span class="number"><a name="map_list_of">4</a></span><span class="special"><a name="map_list_of">)(</a></span><span class="number"><a name="map_list_of">4</a></span><span class="special"><a name="map_list_of">,</a></span><span class="number"><a name="map_list_of">5</a></span><span class="special"><a name="map_list_of">)(</a></span><span class="number"><a name="map_list_of">5</a></span><span class="special"><a name="map_list_of">,</a></span><span class="number"><a name="map_list_of">6</a></span><span class="special"><a name="map_list_of">);<br>    </a></span><span class="identifier"><a name="map_list_of">BOOST_ASSERT</a></span><span class="special"><a name="map_list_of">( </a></span><span class="identifier"><a name="map_list_of">next</a></span><span class="special"><a name="map_list_of">.</a></span><span class="identifier"><a name="map_list_of">size</a></span><span class="special"><a name="map_list_of">() </a></span><span class="special"><a name="map_list_of">== </a></span><span class="number"><a name="map_list_of">5 </a></span><span class="special"><a name="map_list_of">);<br>    </a></span><span class="identifier"><a name="map_list_of">BOOST_ASSERT</a></span><span class="special"><a name="map_list_of">( </a></span><span class="identifier"><a name="map_list_of">next</a></span><span class="special"><a name="map_list_of">[ </a></span><span class="number"><a name="map_list_of">1 </a></span><span class="special"><a name="map_list_of">] </a></span><span class="special"><a name="map_list_of">== </a></span><span class="number"><a name="map_list_of">2 </a></span><span class="special"><a name="map_list_of">);<br>    </a></span><span class="identifier"><a name="map_list_of">BOOST_ASSERT</a></span><span class="special"><a name="map_list_of">( </a></span><span class="identifier"><a name="map_list_of">next</a></span><span class="special"><a name="map_list_of">[ </a></span><span class="number"><a name="map_list_of">5 </a></span><span class="special"><a name="map_list_of">] </a></span><span class="special"><a name="map_list_of">== </a></span><span class="number"><a name="map_list_of">6 </a></span><span class="special"><a name="map_list_of">);<br>    <br>    </a></span><span class="comment"><a name="map_list_of">// or we can use 'list_of()' by specifying what type<br>    // the list consists of<br>    </a></span><span class="identifier"><a name="map_list_of">next </a></span><span class="special"><a name="map_list_of">= </a></span><span class="identifier"><a name="map_list_of">list_of</a></span><span class="special"><a name="map_list_of">&lt; </a></span><span class="identifier"><a name="map_list_of">pair</a></span><span class="special"><a name="map_list_of">&lt;</a></span><span class="keyword"><a name="map_list_of">int</a></span><span class="special"><a name="map_list_of">,</a></span><span class="keyword"><a name="map_list_of">int</a></span><span class="special"><a name="map_list_of">&gt; </a></span><span class="special"><a name="map_list_of">&gt;(</a></span><span class="number"><a name="map_list_of">6</a></span><span class="special"><a name="map_list_of">,</a></span><span class="number"><a name="map_list_of">7</a></span><span class="special"><a name="map_list_of">)(</a></span><span class="number"><a name="map_list_of">7</a></span><span class="special"><a name="map_list_of">,</a></span><span class="number"><a name="map_list_of">8</a></span><span class="special"><a name="map_list_of">)(</a></span><span class="number"><a name="map_list_of">8</a></span><span class="special"><a name="map_list_of">,</a></span><span class="number"><a name="map_list_of">9</a></span><span class="special"><a name="map_list_of">);<br>    </a></span><span class="identifier"><a name="map_list_of">BOOST_ASSERT</a></span><span class="special"><a name="map_list_of">( </a></span><span class="identifier"><a name="map_list_of">next</a></span><span class="special"><a name="map_list_of">.</a></span><span class="identifier"><a name="map_list_of">size</a></span><span class="special"><a name="map_list_of">() </a></span><span class="special"><a name="map_list_of">== </a></span><span class="number"><a name="map_list_of">3 </a></span><span class="special"><a name="map_list_of">);<br>    </a></span><span class="identifier"><a name="map_list_of">BOOST_ASSERT</a></span><span class="special"><a name="map_list_of">( </a></span><span class="identifier"><a name="map_list_of">next</a></span><span class="special"><a name="map_list_of">[ </a></span><span class="number"><a name="map_list_of">6 </a></span><span class="special"><a name="map_list_of">] </a></span><span class="special"><a name="map_list_of">== </a></span><span class="number"><a name="map_list_of">7 </a></span><span class="special"><a name="map_list_of">);<br>    </a></span><span class="identifier"><a name="map_list_of">BOOST_ASSERT</a></span><span class="special"><a name="map_list_of">( </a></span><span class="identifier"><a name="map_list_of">next</a></span><span class="special"><a name="map_list_of">[ </a></span><span class="number"><a name="map_list_of">8 </a></span><span class="special"><a name="map_list_of">] </a></span><span class="special"><a name="map_list_of">== </a></span><span class="number"><a name="map_list_of">9 </a></span><span class="special"><a name="map_list_of">);      <br></a></span><span class="special"><a name="map_list_of">}   </a></span></pre>





</blockquote>







<a name="map_list_of">同样也可以用函数 <code>pair_list_of()</code>。

</a>
<h3><a name="map_list_of">函数&nbsp;<code>tuple_list_of()</code> </a><a name="tuple_list_of"></a></h3>







<a name="tuple_list_of">如果你要使用 tuple, 则可以用 
<code>tuple_list_of()</code>:


</a>
<blockquote>
  <a name="tuple_list_of">    </a>
  
  
  
  
  
  <pre><span class="preprocessor"><a name="tuple_list_of">#include </a></span><span class="special"><a name="tuple_list_of">&lt;</a></span><span class="identifier"><a name="tuple_list_of">boost</a></span><span class="special"><a name="tuple_list_of">/</a></span><span class="identifier"><a name="tuple_list_of">assign</a></span><span class="special"><a name="tuple_list_of">/</a></span><span class="identifier"><a name="tuple_list_of">list_of</a></span><span class="special"><a name="tuple_list_of">.</a></span><span class="identifier"><a name="tuple_list_of">hpp</a></span><span class="special"><a name="tuple_list_of">&gt;</a></span>
<span class="preprocessor"><a name="tuple_list_of">#include </a></span><span class="special"><a name="tuple_list_of">&lt;</a></span><span class="identifier"><a name="tuple_list_of">vector</a></span><span class="special"><a name="tuple_list_of">&gt;<br></a></span>
<span class="keyword"><a name="tuple_list_of">using </a></span><span class="keyword"><a name="tuple_list_of">namespace </a></span><span class="identifier"><a name="tuple_list_of">std</a></span><span class="special"><a name="tuple_list_of">;</a></span>
<span class="keyword"><a name="tuple_list_of">using </a></span><span class="keyword"><a name="tuple_list_of">namespace </a></span><span class="identifier"><a name="tuple_list_of">boost</a></span><span class="special"><a name="tuple_list_of">::</a></span><span class="identifier"><a name="tuple_list_of">assign</a></span><span class="special"><a name="tuple_list_of">;<br></a></span>
<span class="special"><a name="tuple_list_of">{<br>    </a></span><span class="keyword"><a name="tuple_list_of">typedef </a></span><span class="identifier"><a name="tuple_list_of">boost</a></span><span class="special"><a name="tuple_list_of">::</a></span><span class="identifier"><a name="tuple_list_of">tuple</a></span><span class="special"><a name="tuple_list_of">&lt;</a></span><span class="keyword"><a name="tuple_list_of">int</a></span><span class="special"><a name="tuple_list_of">,</a></span><span class="identifier"><a name="tuple_list_of">std</a></span><span class="special"><a name="tuple_list_of">::</a></span><span class="identifier"><a name="tuple_list_of">string</a></span><span class="special"><a name="tuple_list_of">,</a></span><span class="keyword"><a name="tuple_list_of">int</a></span><span class="special"><a name="tuple_list_of">&gt; </a></span><span class="identifier"><a name="tuple_list_of">tuple</a></span><span class="special"><a name="tuple_list_of">;<br><br>    </a></span><span class="identifier"><a name="tuple_list_of">vector</a></span><span class="special"><a name="tuple_list_of">&lt;</a></span><span class="identifier"><a name="tuple_list_of">tuple</a></span><span class="special"><a name="tuple_list_of">&gt; </a></span><span class="identifier"><a name="tuple_list_of">v </a></span><span class="special"><a name="tuple_list_of">= </a></span><span class="identifier"><a name="tuple_list_of">tuple_list_of</a></span><span class="special"><a name="tuple_list_of">( </a></span><span class="number"><a name="tuple_list_of">1</a></span><span class="special"><a name="tuple_list_of">, </a></span><span class="string"><a name="tuple_list_of">"foo"</a></span><span class="special"><a name="tuple_list_of">, </a></span><span class="number"><a name="tuple_list_of">2 </a></span><span class="special"><a name="tuple_list_of">)( </a></span><span class="number"><a name="tuple_list_of">3</a></span><span class="special"><a name="tuple_list_of">, </a></span><span class="string"><a name="tuple_list_of">"bar"</a></span><span class="special"><a name="tuple_list_of">, </a></span><span class="number"><a name="tuple_list_of">4 </a></span><span class="special"><a name="tuple_list_of">);<br>    </a></span><span class="identifier"><a name="tuple_list_of">BOOST_CHECK</a></span><span class="special"><a name="tuple_list_of">( </a></span><span class="identifier"><a name="tuple_list_of">v</a></span><span class="special"><a name="tuple_list_of">.</a></span><span class="identifier"><a name="tuple_list_of">size</a></span><span class="special"><a name="tuple_list_of">() </a></span><span class="special"><a name="tuple_list_of">== </a></span><span class="number"><a name="tuple_list_of">2 </a></span><span class="special"><a name="tuple_list_of">);<br>    </a></span><span class="identifier"><a name="tuple_list_of">BOOST_CHECK</a></span><span class="special"><a name="tuple_list_of">( </a></span><span class="identifier"><a name="tuple_list_of">boost</a></span><span class="special"><a name="tuple_list_of">::</a></span><span class="identifier"><a name="tuple_list_of">get</a></span><span class="special"><a name="tuple_list_of">&lt;</a></span><span class="number"><a name="tuple_list_of">0</a></span><span class="special"><a name="tuple_list_of">&gt;( </a></span><span class="identifier"><a name="tuple_list_of">v</a></span><span class="special"><a name="tuple_list_of">[</a></span><span class="number"><a name="tuple_list_of">1</a></span><span class="special"><a name="tuple_list_of">] </a></span><span class="special"><a name="tuple_list_of">) </a></span><span class="special"><a name="tuple_list_of">==  </a></span><span class="number"><a name="tuple_list_of">3 </a></span><span class="special"><a name="tuple_list_of">);</a></span>
<span class="special"><a name="tuple_list_of">}</a></span>
<a name="tuple_list_of">    </a></pre>






</blockquote>







<h3><a name="tuple_list_of">函数&nbsp;<code>repeat()</code>, <code>repeat_fun()</code> 和 <code>range()</code> </a><a name="repeat"></a></h3>





<a name="repeat"> 
</a>
<p>
<a name="repeat">多次重复相同的值有时是很烦人的。这时使用 <code>repeat()</code> 会很方便：
</a></p>





<blockquote>
  <a name="repeat">    </a>
  
  
  
  
  
  <pre><span class="preprocessor"><a name="repeat">#include </a></span><span class="special"><a name="repeat">&lt;</a></span><span class="identifier"><a name="repeat">boost</a></span><span class="special"><a name="repeat">/</a></span><span class="identifier"><a name="repeat">assign</a></span><span class="special"><a name="repeat">/</a></span><span class="identifier"><a name="repeat">list_of</a></span><span class="special"><a name="repeat">.</a></span><span class="identifier"><a name="repeat">hpp</a></span><span class="special"><a name="repeat">&gt;</a></span>
<span class="preprocessor"><a name="repeat">#include </a></span><span class="special"><a name="repeat">&lt;</a></span><span class="identifier"><a name="repeat">boost</a></span><span class="special"><a name="repeat">/</a></span><span class="identifier"><a name="repeat">assign</a></span><span class="special"><a name="repeat">/</a></span><span class="identifier"><a name="repeat">std</a></span><span class="special"><a name="repeat">/</a></span><span class="identifier"><a name="repeat">vector</a></span><span class="special"><a name="repeat">.</a></span><span class="identifier"><a name="repeat">hpp</a></span><span class="special"><a name="repeat">&gt;</a></span>
<span class="preprocessor"><a name="repeat">#include </a></span><span class="special"><a name="repeat">&lt;</a></span><span class="identifier"><a name="repeat">boost</a></span><span class="special"><a name="repeat">/</a></span><span class="identifier"><a name="repeat">assert</a></span><span class="special"><a name="repeat">.</a></span><span class="identifier"><a name="repeat">hpp</a></span><span class="special"><a name="repeat">&gt;<br></a></span>
<span class="keyword"><a name="repeat">using </a></span><span class="keyword"><a name="repeat">namespace </a></span><span class="identifier"><a name="repeat">std</a></span><span class="special"><a name="repeat">;</a></span>
<span class="keyword"><a name="repeat">using </a></span><span class="keyword"><a name="repeat">namespace </a></span><span class="identifier"><a name="repeat">boost</a></span><span class="special"><a name="repeat">::</a></span><span class="identifier"><a name="repeat">assign</a></span><span class="special"><a name="repeat">;</a></span>
<span class="special"><a name="repeat"> </a></span>
<span class="special"><a name="repeat">{<br>    </a></span><span class="identifier"><a name="repeat">vector</a></span><span class="special"><a name="repeat">&lt;</a></span><span class="keyword"><a name="repeat">int</a></span><span class="special"><a name="repeat">&gt; </a></span><span class="identifier"><a name="repeat">v</a></span><span class="special"><a name="repeat">;<br>    </a></span><span class="identifier"><a name="repeat">v </a></span><span class="special"><a name="repeat">+= </a></span><span class="number"><a name="repeat">1</a></span><span class="special"><a name="repeat">,</a></span><span class="number"><a name="repeat">2</a></span><span class="special"><a name="repeat">,</a></span><span class="number"><a name="repeat">3</a></span><span class="special"><a name="repeat">,</a></span><span class="identifier"><a name="repeat">repeat</a></span><span class="special"><a name="repeat">(</a></span><span class="number"><a name="repeat">10</a></span><span class="special"><a name="repeat">,</a></span><span class="number"><a name="repeat">4</a></span><span class="special"><a name="repeat">),</a></span><span class="number"><a name="repeat">5</a></span><span class="special"><a name="repeat">,</a></span><span class="number"><a name="repeat">6</a></span><span class="special"><a name="repeat">,</a></span><span class="number"><a name="repeat">7</a></span><span class="special"><a name="repeat">,</a></span><span class="number"><a name="repeat">8</a></span><span class="special"><a name="repeat">,</a></span><span class="number"><a name="repeat">9</a></span><span class="special"><a name="repeat">;<br>    </a></span><span class="comment"><a name="repeat">// v = [1,2,3,4,4,4,4,4,4,4,4,4,4,5,6,7,8,9]<br>    </a></span><span class="identifier"><a name="repeat">BOOST_ASSERT</a></span><span class="special"><a name="repeat">( </a></span><span class="identifier"><a name="repeat">v</a></span><span class="special"><a name="repeat">.</a></span><span class="identifier"><a name="repeat">size</a></span><span class="special"><a name="repeat">() </a></span><span class="special"><a name="repeat">== </a></span><span class="number"><a name="repeat">3 </a></span><span class="special"><a name="repeat">+ </a></span><span class="number"><a name="repeat">10 </a></span><span class="special"><a name="repeat">+ </a></span><span class="number"><a name="repeat">5 </a></span><span class="special"><a name="repeat">);<br>    <br>    </a></span><span class="identifier"><a name="repeat">v </a></span><span class="special"><a name="repeat">= </a></span><span class="identifier"><a name="repeat">list_of</a></span><span class="special"><a name="repeat">(</a></span><span class="number"><a name="repeat">1</a></span><span class="special"><a name="repeat">).</a></span><span class="identifier"><a name="repeat">repeat</a></span><span class="special"><a name="repeat">(</a></span><span class="number"><a name="repeat">5</a></span><span class="special"><a name="repeat">,</a></span><span class="number"><a name="repeat">2</a></span><span class="special"><a name="repeat">)(</a></span><span class="number"><a name="repeat">3</a></span><span class="special"><a name="repeat">);<br>    </a></span><span class="comment"><a name="repeat">// v = [1,2,2,2,2,2,3]<br>    </a></span><span class="identifier"><a name="repeat">BOOST_ASSERT</a></span><span class="special"><a name="repeat">( </a></span><span class="identifier"><a name="repeat">v</a></span><span class="special"><a name="repeat">.</a></span><span class="identifier"><a name="repeat">size</a></span><span class="special"><a name="repeat">() </a></span><span class="special"><a name="repeat">== </a></span><span class="number"><a name="repeat">1 </a></span><span class="special"><a name="repeat">+ </a></span><span class="number"><a name="repeat">5 </a></span><span class="special"><a name="repeat">+ </a></span><span class="number"><a name="repeat">1 </a></span><span class="special"><a name="repeat">);<br>    <br>    </a></span><span class="identifier"><a name="repeat">push_back</a></span><span class="special"><a name="repeat">( </a></span><span class="identifier"><a name="repeat">v </a></span><span class="special"><a name="repeat">)(</a></span><span class="number"><a name="repeat">1</a></span><span class="special"><a name="repeat">).</a></span><span class="identifier"><a name="repeat">repeat</a></span><span class="special"><a name="repeat">(</a></span><span class="number"><a name="repeat">1</a></span><span class="special"><a name="repeat">,</a></span><span class="number"><a name="repeat">2</a></span><span class="special"><a name="repeat">)(</a></span><span class="number"><a name="repeat">3</a></span><span class="special"><a name="repeat">);<br>    </a></span><span class="comment"><a name="repeat">// v = old v + [1,2,3]<br>    </a></span><span class="identifier"><a name="repeat">BOOST_ASSERT</a></span><span class="special"><a name="repeat">( </a></span><span class="identifier"><a name="repeat">v</a></span><span class="special"><a name="repeat">.</a></span><span class="identifier"><a name="repeat">size</a></span><span class="special"><a name="repeat">() </a></span><span class="special"><a name="repeat">== </a></span><span class="number"><a name="repeat">10 </a></span><span class="special"><a name="repeat">);</a></span>
<span class="special"><a name="repeat">}</a></span></pre>






</blockquote>






<a name="repeat">正如我们所见，<code>repeat()的第一个参数是重复第二个参数的次数。</code>
</a>
<p></p>






<p>
<a name="repeat">用 <code>repeat_fun()</code> 可以构造更为通用的列表：

</a></p>





<blockquote>
  <a name="repeat">    </a>
  
  
  
  
  
  <pre><span class="preprocessor"><a name="repeat">#include </a></span><span class="special"><a name="repeat">&lt;</a></span><span class="identifier"><a name="repeat">boost</a></span><span class="special"><a name="repeat">/</a></span><span class="identifier"><a name="repeat">assign</a></span><span class="special"><a name="repeat">/</a></span><span class="identifier"><a name="repeat">std</a></span><span class="special"><a name="repeat">/</a></span><span class="identifier"><a name="repeat">vector</a></span><span class="special"><a name="repeat">.</a></span><span class="identifier"><a name="repeat">hpp</a></span><span class="special"><a name="repeat">&gt;</a></span>
<span class="preprocessor"><a name="repeat">#include </a></span><span class="special"><a name="repeat">&lt;</a></span><span class="identifier"><a name="repeat">boost</a></span><span class="special"><a name="repeat">/</a></span><span class="identifier"><a name="repeat">assert</a></span><span class="special"><a name="repeat">.</a></span><span class="identifier"><a name="repeat">hpp</a></span><span class="special"><a name="repeat">&gt;</a></span>
<span class="preprocessor"><a name="repeat">#include </a></span><span class="special"><a name="repeat">&lt;</a></span><span class="identifier"><a name="repeat">cstdlib</a></span><span class="special"><a name="repeat">&gt; </a></span><span class="comment"><a name="repeat">// for 'rand()'              <br></a></span>
<span class="keyword"><a name="repeat">using </a></span><span class="keyword"><a name="repeat">namespace </a></span><span class="identifier"><a name="repeat">std</a></span><span class="special"><a name="repeat">;</a></span>
<span class="keyword"><a name="repeat">using </a></span><span class="keyword"><a name="repeat">namespace </a></span><span class="identifier"><a name="repeat">boost</a></span><span class="special"><a name="repeat">::</a></span><span class="identifier"><a name="repeat">assign</a></span><span class="special"><a name="repeat">;</a></span>
<span class="special"><a name="repeat"> </a></span>
<span class="keyword"><a name="repeat">template</a></span><span class="special"><a name="repeat">&lt; </a></span><span class="keyword"><a name="repeat">class </a></span><span class="identifier"><a name="repeat">T </a></span><span class="special"><a name="repeat">&gt;</a></span>
<span class="keyword"><a name="repeat">struct </a></span><span class="identifier"><a name="repeat">next    </a></span>
<span class="special"><a name="repeat">{<br>    </a></span><span class="identifier"><a name="repeat">T </a></span><span class="identifier"><a name="repeat">seed</a></span><span class="special"><a name="repeat">;<br>    </a></span><span class="identifier"><a name="repeat">next</a></span><span class="special"><a name="repeat">( </a></span><span class="identifier"><a name="repeat">T </a></span><span class="identifier"><a name="repeat">seed </a></span><span class="special"><a name="repeat">) </a></span><span class="special"><a name="repeat">: </a></span><span class="identifier"><a name="repeat">seed</a></span><span class="special"><a name="repeat">(</a></span><span class="identifier"><a name="repeat">seed</a></span><span class="special"><a name="repeat">) <br>    </a></span><span class="special"><a name="repeat">{ </a></span><span class="special"><a name="repeat">}<br>    <br>    </a></span><span class="identifier"><a name="repeat">T </a></span><span class="keyword"><a name="repeat">operator</a></span><span class="special"><a name="repeat">()() </a></span><span class="keyword">
<a name="repeat">    </a></span><span class="special"><a name="repeat">{<br>        </a></span><span class="keyword"><a name="repeat">return </a></span><span class="identifier"><a name="repeat">seed</a></span><span class="special"><a name="repeat">++;<br>    </a></span><span class="special"><a name="repeat">}</a></span>
<span class="special"><a name="repeat">};</a></span>
<span class="special"><a name="repeat">     </a></span>
<span class="special"><a name="repeat">{<br>    </a></span><span class="identifier"><a name="repeat">vector</a></span><span class="special"><a name="repeat">&lt;</a></span><span class="keyword"><a name="repeat">int</a></span><span class="special"><a name="repeat">&gt; </a></span><span class="identifier"><a name="repeat">v</a></span><span class="special"><a name="repeat">;<br>    </a></span><span class="identifier"><a name="repeat">v </a></span><span class="special"><a name="repeat">+= </a></span><span class="number"><a name="repeat">1</a></span><span class="special"><a name="repeat">,</a></span><span class="number"><a name="repeat">2</a></span><span class="special"><a name="repeat">,</a></span><span class="identifier"><a name="repeat">repeat_fun</a></span><span class="special"><a name="repeat">(</a></span><span class="number"><a name="repeat">4</a></span><span class="special"><a name="repeat">,&amp;</a></span><span class="identifier"><a name="repeat">rand</a></span><span class="special"><a name="repeat">),</a></span><span class="number"><a name="repeat">4</a></span><span class="special"><a name="repeat">;<br>    </a></span><span class="comment"><a name="repeat">// v = [1,2,?,?,?,?,4] <br>    </a></span><span class="identifier"><a name="repeat">BOOST_ASSERT</a></span><span class="special"><a name="repeat">( </a></span><span class="identifier"><a name="repeat">v</a></span><span class="special"><a name="repeat">.</a></span><span class="identifier"><a name="repeat">size</a></span><span class="special"><a name="repeat">() </a></span><span class="special"><a name="repeat">== </a></span><span class="number"><a name="repeat">7 </a></span><span class="special"><a name="repeat">);<br>    <br>    </a></span><span class="identifier"><a name="repeat">push_back</a></span><span class="special"><a name="repeat">( </a></span><span class="identifier"><a name="repeat">v </a></span><span class="special"><a name="repeat">).</a></span><span class="identifier"><a name="repeat">repeat_fun</a></span><span class="special"><a name="repeat">(</a></span><span class="number"><a name="repeat">4</a></span><span class="special"><a name="repeat">,</a></span><span class="identifier"><a name="repeat">next</a></span><span class="special"><a name="repeat">&lt;</a></span><span class="keyword"><a name="repeat">int</a></span><span class="special"><a name="repeat">&gt;(</a></span><span class="number"><a name="repeat">0</a></span><span class="special"><a name="repeat">))(</a></span><span class="number"><a name="repeat">4</a></span><span class="special"><a name="repeat">).</a></span><span class="identifier"><a name="repeat">repeat_fun</a></span><span class="special"><a name="repeat">(</a></span><span class="number"><a name="repeat">4</a></span><span class="special"><a name="repeat">,</a></span><span class="identifier"><a name="repeat">next</a></span><span class="special"><a name="repeat">&lt;</a></span><span class="keyword"><a name="repeat">int</a></span><span class="special"><a name="repeat">&gt;(</a></span><span class="number"><a name="repeat">5</a></span><span class="special"><a name="repeat">));<br>    </a></span><span class="comment"><a name="repeat">// v = old v + [0,1,2,3,4,5,6,7,8] <br>    </a></span><span class="identifier"><a name="repeat">BOOST_ASSERT</a></span><span class="special"><a name="repeat">( </a></span><span class="identifier"><a name="repeat">v</a></span><span class="special"><a name="repeat">.</a></span><span class="identifier"><a name="repeat">size</a></span><span class="special"><a name="repeat">() </a></span><span class="special"><a name="repeat">== </a></span><span class="number"><a name="repeat">16 </a></span><span class="special"><a name="repeat">);</a></span>
<span class="special"><a name="repeat">}</a></span><a name="repeat">        </a></pre>






</blockquote>






<a name="repeat">对 <code>repeat_fun()</code> 的第二个参数的唯一要求是，它必须是一个无参函数。 </a>
<p></p>







<p>
<a name="repeat">如果你要将一个迭代器区间插入到列表中，则成员函数 <code>range()</code> 提供了这个功能。它基于 </a><a href="../../range/index.html">Boost.Range</a>, 因此你可以传入该库所支持的各种区间。例如：
</p>





<blockquote>
  
  
  
  
  
  <pre><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">assign</span><span class="special">/</span><span class="identifier">list_inserter</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span> <span class="comment">// for 'push_back()'</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">assign</span><span class="special">/</span><span class="identifier">list_of</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>       <span class="comment">// for 'list_of()' and 'ref_list_of()'</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">assert</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>

<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">std</span><span class="special">;</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">assign</span><span class="special">;</span>
 
<span class="special">{</span>
    <span class="identifier">vector</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;</span> <span class="identifier">v</span><span class="special">,</span> <span class="identifier">v2</span><span class="special">;</span>
    <span class="identifier">v</span>  <span class="special">=</span> <span class="identifier">list_of</span><span class="special">(</span><span class="number">1</span><span class="special">)(</span><span class="number">2</span><span class="special">)(</span><span class="number">3</span><span class="special">);</span>
    <span class="identifier">v2</span> <span class="special">=</span> <span class="identifier">list_of</span><span class="special">(</span><span class="number">0</span><span class="special">).</span><span class="identifier">range</span><span class="special">(</span><span class="identifier">v</span><span class="special">).</span><span class="identifier">range</span><span class="special">(</span><span class="identifier">v</span><span class="special">.</span><span class="identifier">begin</span><span class="special">(),</span><span class="identifier">v</span><span class="special">.</span><span class="identifier">end</span><span class="special">())(</span><span class="number">4</span><span class="special">);</span>
    <span class="comment">// v2 = [0,1,2,3,1,2,3,4]</span>
    <span class="identifier">BOOST_ASSERT</span><span class="special">(</span> <span class="identifier">v2</span><span class="special">.</span><span class="identifier">size</span><span class="special">()</span> <span class="special">==</span> <span class="number">8u</span> <span class="special">);</span>

    <span class="identifier">push_back</span><span class="special">(</span> <span class="identifier">v</span> <span class="special">).</span><span class="identifier">range</span><span class="special">(</span><span class="identifier">v2</span><span class="special">)(</span><span class="number">5</span><span class="special">);</span>
    <span class="comment">// v = [1,2,3,0,1,2,3,1,2,3,4,5]</span>
    <span class="identifier">BOOST_ASSERT</span><span class="special">(</span> <span class="identifier">v</span><span class="special">.</span><span class="identifier">size</span><span class="special">()</span> <span class="special">==</span> <span class="number">12u</span> <span class="special">);</span> <br><br>    <span class="comment">//<br>    // create a list of references, some coming from a container, others from the stack <br>    //</span>
    <span class="keyword">int</span> <span class="identifier">x</span> <span class="special">=</span> <span class="number">0</span><span class="special">;</span>
    <span class="keyword">int</span> <span class="identifier">y</span> <span class="special">=</span> <span class="number">1</span><span class="special">;</span>
    <span class="identifier">BOOST_ASSERT</span><span class="special">(</span> <span class="identifier">ref_list_of</span><span class="special">&lt;</span><span class="number">10</span><span class="special">&gt;(</span><span class="identifier">x</span><span class="special">).</span><span class="identifier">range</span><span class="special">(</span><span class="identifier">v2</span><span class="special">)(</span><span class="identifier">y</span><span class="special">).</span><span class="identifier">size</span><span class="special">()</span> <span class="special">==</span> <span class="number">10u</span> <span class="special">);</span>
<span class="special">}</span></pre>






</blockquote>



如你所见，你可以传入两个迭代器，只要合适。最后一个例子还引入了引用列表。更多说明请见后。
<p></p>






<h3>函数&nbsp;<code>ref_list_of()</code> 和 <code>cref_list_of()</code> <a name="ref_list_of"></a></h3>







<a name="ref_list_of">当你需要创建一个匿名的值区间，而且速度很重要，这里提供了你需要的两个函数。 </a>
<blockquote>
  <a name="ref_list_of">    </a>
  
  
  
  
  
  <pre><span class="preprocessor"><a name="ref_list_of">#include </a></span><span class="special"><a name="ref_list_of">&lt;</a></span><span class="identifier"><a name="ref_list_of">boost</a></span><span class="special"><a name="ref_list_of">/</a></span><span class="identifier"><a name="ref_list_of">assign</a></span><span class="special"><a name="ref_list_of">/</a></span><span class="identifier"><a name="ref_list_of">list_of</a></span><span class="special"><a name="ref_list_of">.</a></span><span class="identifier"><a name="ref_list_of">hpp</a></span><span class="special"><a name="ref_list_of">&gt;</a></span>
<span class="preprocessor"><a name="ref_list_of">#include </a></span><span class="special"><a name="ref_list_of">&lt;</a></span><span class="identifier"><a name="ref_list_of">algorithm</a></span><span class="special"><a name="ref_list_of">&gt;<br></a></span>
<span class="comment"><a name="ref_list_of">//<br>// Define Range algorithm<br>//</a></span>
<span class="keyword"><a name="ref_list_of">template</a></span><span class="special"><a name="ref_list_of">&lt; </a></span><span class="keyword"><a name="ref_list_of">class </a></span><span class="identifier"><a name="ref_list_of">Range </a></span><span class="special"><a name="ref_list_of">&gt;</a></span>
<span class="keyword"><a name="ref_list_of">typename </a></span><span class="identifier"><a name="ref_list_of">Range</a></span><span class="special"><a name="ref_list_of">::</a></span><span class="identifier"><a name="ref_list_of">const_iterator </a></span><span class="identifier"><a name="ref_list_of">max_element</a></span><span class="special"><a name="ref_list_of">( </a></span><span class="keyword"><a name="ref_list_of">const </a></span><span class="identifier"><a name="ref_list_of">Range</a></span><span class="special"><a name="ref_list_of">&amp; </a></span><span class="identifier"><a name="ref_list_of">r </a></span><span class="special"><a name="ref_list_of">)</a></span>
<span class="special"><a name="ref_list_of">{<br>    </a></span><span class="keyword"><a name="ref_list_of">return </a></span><span class="identifier"><a name="ref_list_of">std</a></span><span class="special"><a name="ref_list_of">::</a></span><span class="identifier"><a name="ref_list_of">max_element</a></span><span class="special"><a name="ref_list_of">( </a></span><span class="identifier"><a name="ref_list_of">r</a></span><span class="special"><a name="ref_list_of">.</a></span><span class="identifier"><a name="ref_list_of">begin</a></span><span class="special"><a name="ref_list_of">(), </a></span><span class="identifier"><a name="ref_list_of">r</a></span><span class="special"><a name="ref_list_of">.</a></span><span class="identifier"><a name="ref_list_of">end</a></span><span class="special"><a name="ref_list_of">() </a></span><span class="special"><a name="ref_list_of">);</a></span>
<span class="special"><a name="ref_list_of">}<br></a></span>
<span class="keyword"><a name="ref_list_of">using </a></span><span class="keyword"><a name="ref_list_of">namespace </a></span><span class="identifier"><a name="ref_list_of">boost</a></span><span class="special"><a name="ref_list_of">::</a></span><span class="identifier"><a name="ref_list_of">assign</a></span><span class="special"><a name="ref_list_of">;<br></a></span>
<span class="special"><a name="ref_list_of">{<br>    </a></span><span class="keyword"><a name="ref_list_of">int </a></span><span class="identifier"><a name="ref_list_of">a</a></span><span class="special"><a name="ref_list_of">=</a></span><span class="number"><a name="ref_list_of">1</a></span><span class="special"><a name="ref_list_of">,</a></span><span class="identifier"><a name="ref_list_of">b</a></span><span class="special"><a name="ref_list_of">=</a></span><span class="number"><a name="ref_list_of">5</a></span><span class="special"><a name="ref_list_of">,</a></span><span class="identifier"><a name="ref_list_of">c</a></span><span class="special"><a name="ref_list_of">=</a></span><span class="number"><a name="ref_list_of">3</a></span><span class="special"><a name="ref_list_of">,</a></span><span class="identifier"><a name="ref_list_of">d</a></span><span class="special"><a name="ref_list_of">=</a></span><span class="number"><a name="ref_list_of">4</a></span><span class="special"><a name="ref_list_of">,</a></span><span class="identifier"><a name="ref_list_of">e</a></span><span class="special"><a name="ref_list_of">=</a></span><span class="number"><a name="ref_list_of">2</a></span><span class="special"><a name="ref_list_of">,</a></span><span class="identifier"><a name="ref_list_of">f</a></span><span class="special"><a name="ref_list_of">=</a></span><span class="number"><a name="ref_list_of">9</a></span><span class="special"><a name="ref_list_of">,</a></span><span class="identifier"><a name="ref_list_of">g</a></span><span class="special"><a name="ref_list_of">=</a></span><span class="number"><a name="ref_list_of">0</a></span><span class="special"><a name="ref_list_of">,</a></span><span class="identifier"><a name="ref_list_of">h</a></span><span class="special"><a name="ref_list_of">=</a></span><span class="number"><a name="ref_list_of">7</a></span><span class="special"><a name="ref_list_of">;<br>    </a></span><span class="keyword"><a name="ref_list_of">int</a></span><span class="special"><a name="ref_list_of">&amp; </a></span><span class="identifier"><a name="ref_list_of">max </a></span><span class="special"><a name="ref_list_of">= </a></span><span class="special"><a name="ref_list_of">*</a></span><span class="identifier"><a name="ref_list_of">max_element</a></span><span class="special"><a name="ref_list_of">( </a></span><span class="identifier"><a name="ref_list_of">ref_list_of</a></span><span class="special"><a name="ref_list_of">&lt;</a></span><span class="number"><a name="ref_list_of">8</a></span><span class="special"><a name="ref_list_of">&gt;(</a></span><span class="identifier"><a name="ref_list_of">a</a></span><span class="special"><a name="ref_list_of">)(</a></span><span class="identifier"><a name="ref_list_of">b</a></span><span class="special"><a name="ref_list_of">)(</a></span><span class="identifier"><a name="ref_list_of">c</a></span><span class="special"><a name="ref_list_of">)(</a></span><span class="identifier"><a name="ref_list_of">d</a></span><span class="special"><a name="ref_list_of">)(</a></span><span class="identifier"><a name="ref_list_of">e</a></span><span class="special"><a name="ref_list_of">)(</a></span><span class="identifier"><a name="ref_list_of">f</a></span><span class="special"><a name="ref_list_of">)(</a></span><span class="identifier"><a name="ref_list_of">g</a></span><span class="special"><a name="ref_list_of">)(</a></span><span class="identifier"><a name="ref_list_of">h</a></span><span class="special"><a name="ref_list_of">) </a></span><span class="special"><a name="ref_list_of">);<br>    </a></span><span class="identifier"><a name="ref_list_of">BOOST_CHECK_EQUAL</a></span><span class="special"><a name="ref_list_of">( </a></span><span class="identifier"><a name="ref_list_of">max</a></span><span class="special"><a name="ref_list_of">, </a></span><span class="identifier"><a name="ref_list_of">f </a></span><span class="special"><a name="ref_list_of">);<br>    </a></span><span class="identifier"><a name="ref_list_of">max </a></span><span class="special"><a name="ref_list_of">= </a></span><span class="number"><a name="ref_list_of">8</a></span><span class="special"><a name="ref_list_of">;<br>    </a></span><span class="identifier"><a name="ref_list_of">BOOST_CHECK_EQUAL</a></span><span class="special"><a name="ref_list_of">( </a></span><span class="identifier"><a name="ref_list_of">f</a></span><span class="special"><a name="ref_list_of">, </a></span><span class="number"><a name="ref_list_of">8 </a></span><span class="special"><a name="ref_list_of">);<br>    </a></span><span class="keyword"><a name="ref_list_of">const </a></span><span class="keyword"><a name="ref_list_of">int</a></span><span class="special"><a name="ref_list_of">&amp; </a></span><span class="identifier"><a name="ref_list_of">const_max </a></span><span class="special"><a name="ref_list_of">= </a></span><span class="special"><a name="ref_list_of">*</a></span><span class="identifier"><a name="ref_list_of">max_element</a></span><span class="special"><a name="ref_list_of">(</a></span><span class="identifier"><a name="ref_list_of">cref_list_of</a></span><span class="special"><a name="ref_list_of">&lt;</a></span><span class="number"><a name="ref_list_of">8</a></span><span class="special"><a name="ref_list_of">&gt;(</a></span><span class="identifier"><a name="ref_list_of">a</a></span><span class="special"><a name="ref_list_of">)(</a></span><span class="identifier"><a name="ref_list_of">b</a></span><span class="special"><a name="ref_list_of">)(</a></span><span class="identifier"><a name="ref_list_of">c</a></span><span class="special"><a name="ref_list_of">)(</a></span><span class="identifier"><a name="ref_list_of">d</a></span><span class="special"><a name="ref_list_of">)(</a></span><span class="identifier"><a name="ref_list_of">e</a></span><span class="special"><a name="ref_list_of">)(</a></span><span class="identifier"><a name="ref_list_of">f</a></span><span class="special"><a name="ref_list_of">)(</a></span><span class="identifier"><a name="ref_list_of">g</a></span><span class="special"><a name="ref_list_of">)(</a></span><span class="identifier"><a name="ref_list_of">h</a></span><span class="special"><a name="ref_list_of">) </a></span><span class="special"><a name="ref_list_of">);<br>    </a></span><span class="identifier"><a name="ref_list_of">BOOST_CHECK_EQUAL</a></span><span class="special"><a name="ref_list_of">( </a></span><span class="identifier"><a name="ref_list_of">max</a></span><span class="special"><a name="ref_list_of">, </a></span><span class="identifier"><a name="ref_list_of">const_max </a></span><span class="special"><a name="ref_list_of">);</a></span>
<span class="special"><a name="ref_list_of">}</a></span>
<a name="ref_list_of">    </a></pre>






</blockquote>







<a name="ref_list_of">你只能在 <code>ref_list_of()</code> 中使用左值，而 
<code>cref_list_of()</code> 则还可以接受右值。不必担心没有正确给出大小，额外的空间使用会控制到最小，而且没有运行期的代价。如果速度很重要，你也可以用这些函数来代替 <code>list_of()</code>。

</a>
<h3><a name="ref_list_of">一个 "复杂的" 例子 </a><a name="complicated"></a></h3>






<p><a name="complicated">作为最后一个例子，假设我们需要记录足球比赛的结果。一个队如果赢则记1分，否则记0分。如果每组已经打了三场比赛，则代码如下所示：

</a></p>





<blockquote>
  <a name="complicated">    </a>
  
  
  
  
  
  <pre><span class="preprocessor"><a name="complicated">#include </a></span><span class="special"><a name="complicated">&lt;</a></span><span class="identifier"><a name="complicated">boost</a></span><span class="special"><a name="complicated">/</a></span><span class="identifier"><a name="complicated">assign</a></span><span class="special"><a name="complicated">/</a></span><span class="identifier"><a name="complicated">list_of</a></span><span class="special"><a name="complicated">.</a></span><span class="identifier"><a name="complicated">hpp</a></span><span class="special"><a name="complicated">&gt;</a></span>
<span class="preprocessor"><a name="complicated">#include </a></span><span class="special"><a name="complicated">&lt;</a></span><span class="identifier"><a name="complicated">boost</a></span><span class="special"><a name="complicated">/</a></span><span class="identifier"><a name="complicated">assign</a></span><span class="special"><a name="complicated">/</a></span><span class="identifier"><a name="complicated">list_inserter</a></span><span class="special"><a name="complicated">.</a></span><span class="identifier"><a name="complicated">hpp</a></span><span class="special"><a name="complicated">&gt;</a></span>
<span class="preprocessor"><a name="complicated">#include </a></span><span class="special"><a name="complicated">&lt;</a></span><span class="identifier"><a name="complicated">boost</a></span><span class="special"><a name="complicated">/</a></span><span class="identifier"><a name="complicated">assert</a></span><span class="special"><a name="complicated">.</a></span><span class="identifier"><a name="complicated">hpp</a></span><span class="special"><a name="complicated">&gt;</a></span>
<span class="preprocessor"><a name="complicated">#include </a></span><span class="special"><a name="complicated">&lt;</a></span><span class="identifier"><a name="complicated">string</a></span><span class="special"><a name="complicated">&gt;</a></span>
<span class="preprocessor"><a name="complicated">#include </a></span><span class="special"><a name="complicated">&lt;</a></span><span class="identifier"><a name="complicated">vector</a></span><span class="special"><a name="complicated">&gt;<br></a></span>
<span class="keyword"><a name="complicated">using </a></span><span class="keyword"><a name="complicated">namespace </a></span><span class="identifier"><a name="complicated">std</a></span><span class="special"><a name="complicated">;</a></span>
<span class="keyword"><a name="complicated">using </a></span><span class="keyword"><a name="complicated">namespace </a></span><span class="identifier"><a name="complicated">boost</a></span><span class="special"><a name="complicated">::</a></span><span class="identifier"><a name="complicated">assign</a></span><span class="special"><a name="complicated">;<br> </a></span>
<span class="special"><a name="complicated">{<br>    </a></span><span class="keyword"><a name="complicated">typedef </a></span><span class="identifier"><a name="complicated">vector</a></span><span class="special"><a name="complicated">&lt;</a></span><span class="keyword"><a name="complicated">int</a></span><span class="special"><a name="complicated">&gt;                   </a></span><span class="identifier"><a name="complicated">score_type</a></span><span class="special"><a name="complicated">;<br>    </a></span><span class="keyword"><a name="complicated">typedef </a></span><span class="identifier"><a name="complicated">map</a></span><span class="special"><a name="complicated">&lt;</a></span><span class="identifier"><a name="complicated">string</a></span><span class="special"><a name="complicated">,</a></span><span class="identifier"><a name="complicated">score_type</a></span><span class="special"><a name="complicated">&gt;        </a></span><span class="identifier"><a name="complicated">team_score_map</a></span><span class="special"><a name="complicated">;<br>    </a></span><span class="keyword"><a name="complicated">typedef </a></span><span class="identifier"><a name="complicated">pair</a></span><span class="special"><a name="complicated">&lt;</a></span><span class="identifier"><a name="complicated">string</a></span><span class="special"><a name="complicated">,</a></span><span class="identifier"><a name="complicated">score_type</a></span><span class="special"><a name="complicated">&gt;       </a></span><span class="identifier"><a name="complicated">score_pair</a></span><span class="special"><a name="complicated">;<br><br>    </a></span><span class="identifier"><a name="complicated">team_score_map </a></span><span class="identifier"><a name="complicated">group1</a></span><span class="special"><a name="complicated">, </a></span><span class="identifier"><a name="complicated">group2</a></span><span class="special"><a name="complicated">;<br>    <br>    </a></span><span class="comment"><a name="complicated">//<br>    // method 1: using 'insert()'<br>    //<br>    </a></span><span class="identifier"><a name="complicated">insert</a></span><span class="special"><a name="complicated">( </a></span><span class="identifier"><a name="complicated">group1 </a></span><span class="special"><a name="complicated">)( </a></span><span class="string"><a name="complicated">"Denmark"</a></span><span class="special"><a name="complicated">, </a></span><span class="identifier"><a name="complicated">list_of</a></span><span class="special"><a name="complicated">(</a></span><span class="number"><a name="complicated">1</a></span><span class="special"><a name="complicated">)(</a></span><span class="number"><a name="complicated">1</a></span><span class="special"><a name="complicated">) </a></span><span class="special"><a name="complicated">)<br>                    </a></span><span class="special"><a name="complicated">( </a></span><span class="string"><a name="complicated">"Germany"</a></span><span class="special"><a name="complicated">, </a></span><span class="identifier"><a name="complicated">list_of</a></span><span class="special"><a name="complicated">(</a></span><span class="number"><a name="complicated">0</a></span><span class="special"><a name="complicated">)(</a></span><span class="number"><a name="complicated">0</a></span><span class="special"><a name="complicated">) </a></span><span class="special"><a name="complicated">)<br>                    </a></span><span class="special"><a name="complicated">( </a></span><span class="string"><a name="complicated">"England"</a></span><span class="special"><a name="complicated">, </a></span><span class="identifier"><a name="complicated">list_of</a></span><span class="special"><a name="complicated">(</a></span><span class="number"><a name="complicated">0</a></span><span class="special"><a name="complicated">)(</a></span><span class="number"><a name="complicated">1</a></span><span class="special"><a name="complicated">) </a></span><span class="special"><a name="complicated">);<br>    </a></span><span class="identifier"><a name="complicated">BOOST_ASSERT</a></span><span class="special"><a name="complicated">( </a></span><span class="identifier"><a name="complicated">group1</a></span><span class="special"><a name="complicated">.</a></span><span class="identifier"><a name="complicated">size</a></span><span class="special"><a name="complicated">() </a></span><span class="special"><a name="complicated">== </a></span><span class="number"><a name="complicated">3 </a></span><span class="special"><a name="complicated">);<br>    </a></span><span class="identifier"><a name="complicated">BOOST_ASSERT</a></span><span class="special"><a name="complicated">( </a></span><span class="identifier"><a name="complicated">group1</a></span><span class="special"><a name="complicated">[ </a></span><span class="string"><a name="complicated">"Denmark" </a></span><span class="special"><a name="complicated">][</a></span><span class="number"><a name="complicated">1</a></span><span class="special"><a name="complicated">] </a></span><span class="special"><a name="complicated">== </a></span><span class="number"><a name="complicated">1 </a></span><span class="special"><a name="complicated">);<br>    </a></span><span class="identifier"><a name="complicated">BOOST_ASSERT</a></span><span class="special"><a name="complicated">( </a></span><span class="identifier"><a name="complicated">group1</a></span><span class="special"><a name="complicated">[ </a></span><span class="string"><a name="complicated">"Germany" </a></span><span class="special"><a name="complicated">][</a></span><span class="number"><a name="complicated">0</a></span><span class="special"><a name="complicated">] </a></span><span class="special"><a name="complicated">== </a></span><span class="number"><a name="complicated">0 </a></span><span class="special"><a name="complicated">);<br>    <br>    </a></span><span class="comment"><a name="complicated">//<br>    // method 2: using 'list_of()'<br>    //<br>    </a></span><span class="identifier"><a name="complicated">group2 </a></span><span class="special"><a name="complicated">= </a></span><span class="identifier"><a name="complicated">list_of</a></span><span class="special"><a name="complicated">&lt; </a></span><span class="identifier"><a name="complicated">score_pair </a></span><span class="special"><a name="complicated">&gt;<br>                        </a></span><span class="special"><a name="complicated">( </a></span><span class="string"><a name="complicated">"Norway"</a></span><span class="special"><a name="complicated">,  </a></span><span class="identifier"><a name="complicated">list_of</a></span><span class="special"><a name="complicated">(</a></span><span class="number"><a name="complicated">1</a></span><span class="special"><a name="complicated">)(</a></span><span class="number"><a name="complicated">0</a></span><span class="special"><a name="complicated">) </a></span><span class="special"><a name="complicated">)<br>                        </a></span><span class="special"><a name="complicated">( </a></span><span class="string"><a name="complicated">"USA"</a></span><span class="special"><a name="complicated">,     </a></span><span class="identifier"><a name="complicated">list_of</a></span><span class="special"><a name="complicated">(</a></span><span class="number"><a name="complicated">0</a></span><span class="special"><a name="complicated">)(</a></span><span class="number"><a name="complicated">0</a></span><span class="special"><a name="complicated">) </a></span><span class="special"><a name="complicated">)<br>                        </a></span><span class="special"><a name="complicated">( </a></span><span class="string"><a name="complicated">"Andorra"</a></span><span class="special"><a name="complicated">, </a></span><span class="identifier"><a name="complicated">list_of</a></span><span class="special"><a name="complicated">(</a></span><span class="number"><a name="complicated">1</a></span><span class="special"><a name="complicated">)(</a></span><span class="number"><a name="complicated">1</a></span><span class="special"><a name="complicated">) </a></span><span class="special"><a name="complicated">);<br>    </a></span><span class="identifier"><a name="complicated">BOOST_ASSERT</a></span><span class="special"><a name="complicated">( </a></span><span class="identifier"><a name="complicated">group2</a></span><span class="special"><a name="complicated">.</a></span><span class="identifier"><a name="complicated">size</a></span><span class="special"><a name="complicated">() </a></span><span class="special"><a name="complicated">== </a></span><span class="number"><a name="complicated">3 </a></span><span class="special"><a name="complicated">);<br>    </a></span><span class="identifier"><a name="complicated">BOOST_ASSERT</a></span><span class="special"><a name="complicated">( </a></span><span class="identifier"><a name="complicated">group2</a></span><span class="special"><a name="complicated">[ </a></span><span class="string"><a name="complicated">"Norway" </a></span><span class="special"><a name="complicated">][</a></span><span class="number"><a name="complicated">0</a></span><span class="special"><a name="complicated">] </a></span><span class="special"><a name="complicated">== </a></span><span class="number"><a name="complicated">1 </a></span><span class="special"><a name="complicated">);<br>    </a></span><span class="identifier"><a name="complicated">BOOST_ASSERT</a></span><span class="special"><a name="complicated">( </a></span><span class="identifier"><a name="complicated">group2</a></span><span class="special"><a name="complicated">[ </a></span><span class="string"><a name="complicated">"USA" </a></span><span class="special"><a name="complicated">][</a></span><span class="number"><a name="complicated">0</a></span><span class="special"><a name="complicated">] </a></span><span class="special"><a name="complicated">== </a></span><span class="number"><a name="complicated">0 </a></span><span class="special"><a name="complicated">);</a></span>
<span class="special"><a name="complicated">}</a></span>
<a name="complicated">    </a></pre>






</blockquote>







<a name="complicated">在第一个例子中，留意 <code>list_of()</code>
的结果如何可以自动转换为 <code>vector&lt;int&gt;</code>，因为
<code>insert()</code> 知道它期望的是一个 <code>vector&lt;int&gt;</code>。在第二个例子中，我们可以看到 <code>list_of()</code> 稍稍有点不太智能，因为它需要被明确告知要的是什么参数。(未来可能会为 <code>list_of()</code> 引入一个更为智能的转换层。)
</a>
<p></p>







<h3><a name="complicated">函数&nbsp;<code>ptr_push_back(), 
ptr_push_front()</code>, <code>ptr_insert()</code> 和 <code>ptr_map_insert()</code> </a><a name="ptr_push_back"></a></h3>







<a name="ptr_push_back">为了与 </a><a href="../../ptr_container/index.html">Boost.Pointer Container</a>
一起使用，需要提供一些特殊的异常安全的函数。使用了这些函数，你就不需要手工调用new了：


<blockquote>
    
  
  
  
  
  
  <pre><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">assign</span><span class="special">/</span><span class="identifier">ptr_list_inserter</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span> <span class="comment">// for 'ptr_push_back()', 'ptr_insert()' and 'ptr_push_front()'</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">assign</span><span class="special">/</span><span class="identifier">ptr_map_inserter</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>  <span class="comment">// for 'ptr_map_insert()'</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">ptr_container</span><span class="special">/</span><span class="identifier">ptr_deque</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">ptr_container</span><span class="special">/</span><span class="identifier">ptr_set</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">ptr_container</span><span class="special">/</span><span class="identifier">ptr_map</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>

<span class="comment">//<br>// Example class<br>//</span>
<span class="keyword">struct</span> <span class="identifier">Foo</span>
<span class="special">{</span>
    <span class="keyword">int</span> <span class="identifier">i</span><span class="special">;</span>
    
    <span class="identifier">Foo</span><span class="special">()</span> <span class="special">:</span> <span class="identifier">i</span><span class="special">(</span><span class="number">0</span><span class="special">)</span>
    <span class="special">{</span> <span class="special">}</span>
    <span class="identifier">Foo</span><span class="special">(</span> <span class="keyword">int</span> <span class="identifier">i</span> <span class="special">)</span> <span class="special">:</span> <span class="identifier">i</span><span class="special">(</span><span class="identifier">i</span><span class="special">)</span>
    <span class="special">{</span> <span class="special">}</span>
    <span class="identifier">Foo</span><span class="special">(</span> <span class="keyword">int</span> <span class="identifier">i</span><span class="special">,</span> <span class="keyword">int</span> <span class="special">)</span> <span class="special">:</span> <span class="identifier">i</span><span class="special">(</span><span class="identifier">i</span><span class="special">)</span>
    <span class="special">{</span> <span class="special">}</span>
    <span class="identifier">Foo</span><span class="special">(</span> <span class="keyword">const</span> <span class="keyword">char</span><span class="special">*,</span> <span class="keyword">int</span> <span class="identifier">i</span><span class="special">,</span> <span class="keyword">int</span> <span class="special">)</span> <span class="special">:</span> <span class="identifier">i</span><span class="special">(</span><span class="identifier">i</span><span class="special">)</span>
    <span class="special">{</span> <span class="special">}</span>

    <span class="keyword">virtual</span> <span class="special">~</span><span class="identifier">Foo</span><span class="special">()</span>
    <span class="special">{}</span>
<span class="special">};</span>

<span class="keyword">struct</span> <span class="identifier">Bar</span> <span class="special">:</span> <span class="identifier">Foo</span>
<span class="special">{</span>
    <span class="identifier">Bar</span><span class="special">()</span>
    <span class="special">{</span> <span class="special">}</span>
    
    <span class="identifier">Bar</span><span class="special">(</span> <span class="keyword">int</span> <span class="identifier">i</span> <span class="special">)</span> <span class="special">:</span> <span class="identifier">Foo</span><span class="special">(</span> <span class="number">42</span> <span class="special">)</span>
    <span class="special">{</span> <span class="special">}</span>
<span class="special">};</span>

<span class="comment">//<br>// Required by ptr_set&lt;Foo&gt;<br>//</span>
<span class="keyword">inline</span> <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">&lt;(</span> <span class="identifier">Foo</span> <span class="identifier">l</span><span class="special">,</span> <span class="identifier">Foo</span> <span class="identifier">r</span> <span class="special">)</span>
<span class="special">{</span>
    <span class="keyword">return</span> <span class="identifier">l</span><span class="special">.</span><span class="identifier">i</span> <span class="special">&lt;</span> <span class="identifier">r</span><span class="special">.</span><span class="identifier">i</span><span class="special">;</span>
<span class="special">}</span>

 
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">boost</span><span class="special">;</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">assign</span><span class="special">;</span>

<span class="keyword">int</span> <span class="identifier">main</span><span class="special">()</span>
<span class="special">{</span>
    <span class="identifier">ptr_deque</span><span class="special">&lt;</span><span class="identifier">Foo</span><span class="special">&gt;</span> <span class="identifier">deq</span><span class="special">;</span>
    <span class="identifier">ptr_push_back</span><span class="special">(</span> <span class="identifier">deq</span> <span class="special">)()();</span>
    <span class="identifier">BOOST_ASSERT</span><span class="special">(</span> <span class="identifier">deq</span><span class="special">.</span><span class="identifier">size</span><span class="special">()</span> <span class="special">==</span> <span class="number">2u</span> <span class="special">);</span>
    <span class="identifier">ptr_push_back</span><span class="special">&lt;</span><span class="identifier">Bar</span><span class="special">&gt;(</span> <span class="identifier">deq</span> <span class="special">)()();</span> <span class="comment">// insert 'Bar' objects</span>
    <span class="identifier">BOOST_ASSERT</span><span class="special">(</span> <span class="identifier">deq</span><span class="special">.</span><span class="identifier">size</span><span class="special">()</span> <span class="special">==</span> <span class="number">4u</span> <span class="special">);</span>
    <span class="identifier">ptr_push_front</span><span class="special">(</span> <span class="identifier">deq</span> <span class="special">)(</span> <span class="number">3</span> <span class="special">)(</span> <span class="number">42</span><span class="special">,</span> <span class="number">42</span> <span class="special">)(</span> <span class="string">"foo"</span><span class="special">,</span> <span class="number">42</span><span class="special">,</span> <span class="number">42</span> <span class="special">);</span>
    <span class="identifier">BOOST_ASSERT</span><span class="special">(</span> <span class="identifier">deq</span><span class="special">.</span><span class="identifier">size</span><span class="special">()</span> <span class="special">==</span> <span class="number">7u</span> <span class="special">);</span>

    <span class="identifier">ptr_set</span><span class="special">&lt;</span><span class="identifier">Foo</span><span class="special">&gt;</span> <span class="identifier">a_set</span><span class="special">;</span>
    <span class="identifier">ptr_insert</span><span class="special">(</span> <span class="identifier">a_set</span> <span class="special">)()(</span> <span class="number">1</span> <span class="special">)(</span> <span class="number">2</span><span class="special">,</span> <span class="number">2</span> <span class="special">)(</span> <span class="string">"foo"</span><span class="special">,</span> <span class="number">3</span><span class="special">,</span> <span class="number">3</span> <span class="special">);</span>
    <span class="identifier">BOOST_ASSERT</span><span class="special">(</span> <span class="identifier">a_set</span><span class="special">.</span><span class="identifier">size</span><span class="special">()</span> <span class="special">==</span> <span class="number">4u</span> <span class="special">);</span>
    <span class="identifier">ptr_insert</span><span class="special">(</span> <span class="identifier">a_set</span> <span class="special">)()()()();</span>
    <span class="identifier">BOOST_ASSERT</span><span class="special">(</span> <span class="identifier">a_set</span><span class="special">.</span><span class="identifier">size</span><span class="special">()</span> <span class="special">==</span> <span class="number">4u</span> <span class="special">);</span> <span class="comment">// duplicates not inserted</span>
    <span class="identifier">ptr_insert</span><span class="special">&lt;</span><span class="identifier">Bar</span><span class="special">&gt;(</span> <span class="identifier">a_set</span> <span class="special">)(</span> <span class="number">42</span> <span class="special">);</span> <span class="comment">// insert a 'Bar' object</span> <br>    <span class="identifier">BOOST_ASSERT</span><span class="special">(</span> <span class="identifier">a_set</span><span class="special">.</span><span class="identifier">size</span><span class="special">()</span> <span class="special">==</span> <span class="number">5u</span> <span class="special">);</span>

    <span class="identifier">ptr_map</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">,</span><span class="identifier">Foo</span><span class="special">&gt;</span> <span class="identifier">a_map</span><span class="special">;</span>
    <span class="identifier">ptr_map_insert</span><span class="special">(</span> <span class="identifier">a_map</span> <span class="special">)(</span> <span class="number">1</span> <span class="special">)(</span> <span class="number">2</span><span class="special">,</span> <span class="number">2</span> <span class="special">)(</span> <span class="number">3</span><span class="special">,</span> <span class="number">3</span><span class="special">,</span> <span class="number">3</span> <span class="special">)(</span> <span class="number">4</span><span class="special">,</span> <span class="string">"foo"</span><span class="special">,</span> <span class="number">4</span><span class="special">,</span> <span class="number">4</span> <span class="special">);</span>
    <span class="identifier">ptr_map_insert</span><span class="special">&lt;</span><span class="identifier">Bar</span><span class="special">&gt;(</span> <span class="identifier">a_map</span> <span class="special">)(</span> <span class="number">42</span><span class="special">,</span> <span class="number">42</span> <span class="special">);</span> <span class="comment">// insert a  'Bar' object</span>
<span class="special">}</span>
    </pre>






</blockquote>


注意你可以提供一个模板参数给这些函数。这个参数决定了用new来分配的类型。如果容器是基于一个抽象类型时，你必须指定这个参数。(因为不可能创建一个抽象类的对象)。

<p>对于 <code>ptr_map_insert()</code>，参数 tuple <code>(arg1,arg2,...,argN)</code> 中的第一个参数 <code>arg1</code>&nbsp;<code></code>用于构造一个键；这意味着第一个参数只要求可以转换为容器的 <code>key_type</code> 即可。剩下的参数则用于构造整个 mapped 对象。
</p>






                        
<h3>函数 <code>ptr_list_of()</code> <a name="ptr_list_of"></a></h3>





<a name="ptr_list_of">就象可以使用 <code>list_of()</code> 来初始化容器一样，你也可以用 <code>ptr_list_of()</code> 来初始化一个 </a><a href="../../ptr_container/index.html">pointer container指针容器</a>。以下是一个小例子：

<blockquote>
    
  
  
  
  
  
  <pre><span class="preprocessor">#include </span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">assign</span><span class="special">/</span><span class="identifier">ptr_list_of</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include </span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">ptr_container</span><span class="special">/</span><span class="identifier">ptr_deque</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;<br></span>
<span class="keyword">using </span><span class="keyword">namespace </span><span class="identifier">boost</span><span class="special">;</span>
<span class="keyword">using </span><span class="keyword">namespace </span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">assign</span><span class="special">;<br></span>
<span class="special">{<br>    </span><span class="identifier">ptr_deque</span><span class="special">&lt;</span><span class="identifier">Foo</span><span class="special">&gt; </span><span class="identifier">deq</span><span class="special">;<br>    </span><span class="identifier">deq </span><span class="special">= </span><span class="identifier">ptr_list_of</span><span class="special">&lt;</span><span class="identifier">Foo</span><span class="special">&gt;( </span><span class="number">42 </span><span class="special">)()()( </span><span class="number">3</span><span class="special">, </span><span class="number">3 </span><span class="special">)( </span><span class="string">"foo"</span><span class="special">, </span><span class="number">2</span><span class="special">, </span><span class="number">1 </span><span class="special">).</span><span class="identifier">to_container</span><span class="special">( </span><span class="identifier">deq </span><span class="special">);<br>    </span><span class="identifier">BOOST_CHECK</span><span class="special">( </span><span class="identifier">deq</span><span class="special">.</span><span class="identifier">size</span><span class="special">() </span><span class="special">== </span><span class="number">5 </span><span class="special">);</span>
<span class="special">}</span>    <br>    </pre>






</blockquote>







留意其中的 <code>.to_container(deq)</code> 是用于帮助多数编译器实现转换(只有少数编译器可以正确处理)。还要注意的是指针 map 不被支持。

<p>这就是所有的东西了，现在你已经准备好使用这个库了。
 </p>







  
<hr> 
  
<h2><a name="reference">Reference参考</a></h2>






    
<p>我们应该留意库的实现方法。利用一个自由函数(<code>push_back()</code> 或 <code>operator+=()</code>)返回一个代理对象，由该对象负责插入或赋值操作。这个代理对象通过重载 <code>operator,()</code> 和 <code>operator()()</code> 来实现插入或赋值，并从这些操作符函数里调用 "insert" 函数。这个 "insert" 函数实际上是使用 <code>boost::<a href="../../function/index.html">function</a></code> 保存在代理对象内部的。 </p>






  
  
<p>通常重载 <code>operator,()</code> 不是个好主意，因为它会引起令人意外的结果，不过在本库中这种方法是安全的，因为用户永远不会直接操作重载了 <code>operator,()</code>
  的对象。无论如何，你应该知道：
  </p>






  
  
<p><i>在以逗号分隔的列表中的表达式并不跟随C++内建的逗号操作符的规则。这意味着在以逗号分隔的列表中，各个表达式的求值顺序是未定义的，正如在函数参数列表中一样。
  </i></p>






  
    
<p>本文档中大多数示例代码都使用 <code>int，当然对于所有可复制构造的任意类型都是可用的。被插入的数据不一定要是常量数据，也可以是变量或从函数返回的数据；唯一的要求是，这些数据的类型要可以转换为保存在容器中的数据类型。</code> 
  </p>






  
  
<p>通过const引用来传递对象的改进已经完成。最开始的时候参数是以值的方式传递的(现在的
<code>tuple_list_of() 仍是如此</code>)。要记住的一件事就是，可以通过 <code>boost::<a href="http://www.boost.org/doc/html/ref.html">ref</a></code> 来传递引用。
  </p>






  
  
<p>所有东西都置于名字空间 
  <code>boost::assign</code> 之下。 </p>







  
<p>以下是更多的细节： </p>






      
<ul>






          
        <li><a href="#headers">Headers头文件</a> </li>






        <li><a href="#std">Standard containers标准容器</a> </li>






        <li>函数 <a href="#list_of_ref"><code>list_of()</code> 和 <code>map_list_of()</code></a></li>






        <li>函数 <a href="#repeat_ref"><code>repeat()</code> 和 <code>repeat_fun()</code></a></li>






        <li>类&nbsp;<a href="#list_inserter"><code>list_inserter</code></a></li>






        <li>函数 <a href="#make_list_inserter"><code>make_list_inserter()</code></a></li>






        <li><a href="#limit">Customizing定制</a> 参数列表大小 </li>






     
</ul>






  
<h3>Headers头文件 <a name="headers"></a></h3>





<a name="headers">      
  
  </a>
<p>
<a name="headers">以下给出本库的头文件的一个概览。请留意 <code>&lt;boost/assign/list_inserter.hpp&gt;</code> 会包含在每个定义了 <code>operator+=()</code> 头文件中。</a></p>







<table border="1" cellpadding="5">





 <tbody>





    <tr>






         <th>  Header头文件                      </th>






         <th>        Includes包含              </th>





 
     </tr>





    <tr>






         <td> &lt;boost/assign.hpp&gt;               </td>






         <td>除了对指针容器的支持以外的所有东西  </td>






     </tr>





    <tr>






         <td> &lt;boost/assign/list_of.hpp&gt;       </td>






         <td> <a href="#list_of"><code>list_of()</code></a>, <a href="#map_list_of">map_list_of()</a>, 
         <a href="#tuple_list_of">tuple_list_of()</a>,
         <a href="#ref_list_of">ref_list_of() 和 
      <code>cref_list_of()</code></a>
                  
         </td>





 </tr>





    <tr>






         <td> &lt;boost/assign/std.hpp&gt;       </td>






         <td> <a href="#operator+="><code>各个标准容器的operator+=()</code></a> (见后)</td>





 </tr>





    <tr>





 <td>  &lt;boost/assign/std/deque.hpp&gt; </td>






        <td>  <code>std::deque的operator+=()</code>, <code>&lt;deque&gt;</code> 
    </td>





    </tr>





    <tr>





 
        <td>  &lt;boost/assign/std/list.hpp&gt; </td>






        <td>  <code>std::list的operator+=()</code><code></code>, <code>&lt;list&gt;</code>  
    </td>





    </tr>





    <tr>





 
        <td>  &lt;boost/assign/std/map.hpp&gt; </td>






        <td>  <code>std::map</code> 和 <code>std::multimap的 </code><code>operator+=()</code>, 
      <code>&lt;map&gt;</code> </td>





    </tr>





    <tr>





 
        <td>  &lt;boost/assign/std/queue.hpp&gt; </td>






        <td>   <code>std::queue</code> 和 <code>std::priority_queue 的 </code><code>operator+=()</code><code></code>, 
      <code>&lt;queue&gt;</code> </td>





    </tr>





    <tr>





 
        <td>  &lt;boost/assign/std/set.hpp&gt; </td>






        <td>   <code>std::set</code> 和 <code>std::multiset 的 </code><code>operator+=()</code><code></code>, 
      <code>&lt;set&gt;</code> </td>





    </tr>





    <tr>





 
        <td>  &lt;boost/assign/std/slist.hpp&gt; </td>






        <td>  <code></code><code>std::slist</code> 的 <code>operator+=()</code>, 
      <code>&lt;slist&gt; (如果有slist)</code> </td>





    </tr>





    <tr>





 
        <td>  &lt;boost/assign/std/stack.hpp&gt; </td>






        <td>   <code>std::stack 的 </code><code>operator+=()</code><code></code>, <code>&lt;stack&gt;</code>  
    </td>





    </tr>





    <tr>





 
        <td>  &lt;boost/assign/std/vector.hpp&gt; </td>






        <td>   <code>std::vector 的 </code><code>operator+=()</code><code></code>, <code>&lt;vector&gt;</code>  
    </td>





    </tr>





    <tr>





 
        <td>  &lt;boost/assign/assignment_exception.hpp&gt; </td>






        <td>类&nbsp;<a href="#assignment_exception"><code>assignment_exception</code></a>，可能会由 <code>list_of() 返回的代理所抛出</code>
    </td>





    </tr>





    <tr>





 
        <td>  &lt;boost/assign/list_inserter.hpp&gt; </td>






            <td>函数 <a href="#make_list_inserter"><code>make_list_inserter()</code></a>, <code>push_back()</code>,
                <code>push_front()</code>,<code>insert()</code>,
                <code>
                push()</code> 和类 <a href="#list_inserter"><code>list_inserter</code></a>，是整个库的骨干

            </td>





    </tr>





    <tr>





    
            <td>  &lt;boost/assign/ptr_list_inserter.hpp&gt; </td>






            <td>函数 <a href="#ptr_push_back"><code>ptr_push_back()</code></a>,
                <code>ptr_push_front()</code> 和 <code>ptr_insert()</code>
                 
            </td>





    </tr>





    <tr>





    
            <td>  &lt;boost/assign/ptr_map_inserter.hpp&gt; </td>






            <td>函数 <a href="#ptr_push_back"><code>ptr_map_insert()</code></a>
    
                            </td>





    </tr>





    <tr>





    
            <td>  &lt;boost/assign/ptr_list_of.hpp&gt; </td>





             
            <td>函数 <a href="#ptr_list_of"><code>ptr_list_of()</code></a>

    </td>





    </tr>





  
  
  
  
  
  </tbody>
</table>






<a name="headers">  
  </a>
<h3><a name="headers">Standard containers标准容器 </a><a name="std"> </a></h3>






<a name="std">   </a>
<p><a name="std">以下摘要中的省略号(...)代表&ldquo;实现定义&rdquo;。<code>operator+=()</code> 返回一个代理，该代理根据容器所支持的操作前转调用
       <code>push_back()</code>,<code>insert()</code>, 或 <code>push()。</code> </a></p>





<a name="std"> <b>Synopsis摘要</b>
  </a>
<p>
</p>





<blockquote>
  
  
  
  
  
  <pre><span class="keyword"><a name="std">namespace </a></span><span class="identifier"><a name="std">boost</a></span>
<span class="special"><a name="std">{</a></span>
<span class="keyword"><a name="std">namespace </a></span><span class="identifier"><a name="std">assign</a></span>
<span class="special"><a name="std">{<br>    </a></span><span class="keyword"><a name="std">template</a></span><span class="special"><a name="std">&lt; </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">A</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">V2 </a></span><span class="special"><a name="std">&gt;<br>    </a></span><span class="identifier"><a name="std">list_inserter</a></span><span class="special"><a name="std">&lt; </a></span><span class="special"><a name="std">... </a></span><span class="special"><a name="std">&gt;    </a></span><span class="keyword"><a name="std">operator</a></span><span class="special"><a name="std">+=( </a></span><span class="identifier"><a name="std">std</a></span><span class="special"><a name="std">::</a></span><span class="identifier"><a name="std">deque</a></span><span class="special"><a name="std">&lt;</a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">,</a></span><span class="identifier"><a name="std">A</a></span><span class="special"><a name="std">&gt;&amp; </a></span><span class="identifier"><a name="std">c</a></span><span class="special"><a name="std">, </a></span><span class="identifier"><a name="std">V2 </a></span><span class="identifier"><a name="std">v </a></span><span class="special"><a name="std">);<br>    <br>    </a></span><span class="keyword"><a name="std">template</a></span><span class="special"><a name="std">&lt; </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">A</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">V2 </a></span><span class="special"><a name="std">&gt;<br>    </a></span><span class="identifier"><a name="std">list_inserter</a></span><span class="special"><a name="std">&lt; </a></span><span class="special"><a name="std">... </a></span><span class="special"><a name="std">&gt;    </a></span><span class="keyword"><a name="std">operator</a></span><span class="special"><a name="std">+=( </a></span><span class="identifier"><a name="std">std</a></span><span class="special"><a name="std">::</a></span><span class="identifier"><a name="std">list</a></span><span class="special"><a name="std">&lt;</a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">,</a></span><span class="identifier"><a name="std">A</a></span><span class="special"><a name="std">&gt;&amp; </a></span><span class="identifier"><a name="std">c</a></span><span class="special"><a name="std">, </a></span><span class="identifier"><a name="std">V2 </a></span><span class="identifier"><a name="std">v </a></span><span class="special"><a name="std">);<br>    <br>    </a></span><span class="keyword"><a name="std">template</a></span><span class="special"><a name="std">&lt; </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">K</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">C</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">A</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">P </a></span><span class="special"><a name="std">&gt;<br>    </a></span><span class="identifier"><a name="std">list_inserter</a></span><span class="special"><a name="std">&lt; </a></span><span class="special"><a name="std">... </a></span><span class="special"><a name="std">&gt;    </a></span><span class="keyword"><a name="std">operator</a></span><span class="special"><a name="std">+=( </a></span><span class="identifier"><a name="std">std</a></span><span class="special"><a name="std">::</a></span><span class="identifier"><a name="std">map</a></span><span class="special"><a name="std">&lt;</a></span><span class="identifier"><a name="std">K</a></span><span class="special"><a name="std">,</a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">,</a></span><span class="identifier"><a name="std">C</a></span><span class="special"><a name="std">,</a></span><span class="identifier"><a name="std">A</a></span><span class="special"><a name="std">&gt;&amp; </a></span><span class="identifier"><a name="std">m</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">const </a></span><span class="identifier"><a name="std">P</a></span><span class="special"><a name="std">&amp; </a></span><span class="identifier"><a name="std">p </a></span><span class="special"><a name="std">);<br>    <br>    </a></span><span class="keyword"><a name="std">template</a></span><span class="special"><a name="std">&lt; </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">K</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">C</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">A</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">P </a></span><span class="special"><a name="std">&gt;<br>    </a></span><span class="identifier"><a name="std">list_inserter</a></span><span class="special"><a name="std">&lt; </a></span><span class="special"><a name="std">... </a></span><span class="special"><a name="std">&gt;    </a></span><span class="keyword"><a name="std">operator</a></span><span class="special"><a name="std">+=( </a></span><span class="identifier"><a name="std">std</a></span><span class="special"><a name="std">::</a></span><span class="identifier"><a name="std">multimap</a></span><span class="special"><a name="std">&lt;</a></span><span class="identifier"><a name="std">K</a></span><span class="special"><a name="std">,</a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">,</a></span><span class="identifier"><a name="std">C</a></span><span class="special"><a name="std">,</a></span><span class="identifier"><a name="std">A</a></span><span class="special"><a name="std">&gt;&amp; </a></span><span class="identifier"><a name="std">m</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">const </a></span><span class="identifier"><a name="std">P</a></span><span class="special"><a name="std">&amp; </a></span><span class="identifier"><a name="std">p </a></span><span class="special"><a name="std">);<br>    <br>    </a></span><span class="keyword"><a name="std">template</a></span><span class="special"><a name="std">&lt; </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">C</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">V2 </a></span><span class="special"><a name="std">&gt;<br>    </a></span><span class="identifier"><a name="std">list_inserter</a></span><span class="special"><a name="std">&lt; </a></span><span class="special"><a name="std">... </a></span><span class="special"><a name="std">&gt;    </a></span><span class="keyword"><a name="std">operator</a></span><span class="special"><a name="std">+=( </a></span><span class="identifier"><a name="std">std</a></span><span class="special"><a name="std">::</a></span><span class="identifier"><a name="std">queue</a></span><span class="special"><a name="std">&lt;</a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">,</a></span><span class="identifier"><a name="std">C</a></span><span class="special"><a name="std">&gt;&amp; </a></span><span class="identifier"><a name="std">c</a></span><span class="special"><a name="std">, </a></span><span class="identifier"><a name="std">V2 </a></span><span class="identifier"><a name="std">v </a></span><span class="special"><a name="std">);<br>    <br>    </a></span><span class="keyword"><a name="std">template</a></span><span class="special"><a name="std">&lt; </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">C</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">V2 </a></span><span class="special"><a name="std">&gt;<br>    </a></span><span class="identifier"><a name="std">list_inserter</a></span><span class="special"><a name="std">&lt; </a></span><span class="special"><a name="std">... </a></span><span class="special"><a name="std">&gt;    </a></span><span class="keyword"><a name="std">operator</a></span><span class="special"><a name="std">+=( </a></span><span class="identifier"><a name="std">std</a></span><span class="special"><a name="std">::</a></span><span class="identifier"><a name="std">priority_queue</a></span><span class="special"><a name="std">&lt;</a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">,</a></span><span class="identifier"><a name="std">C</a></span><span class="special"><a name="std">&gt;&amp; </a></span><span class="identifier"><a name="std">c</a></span><span class="special"><a name="std">, </a></span><span class="identifier"><a name="std">V2 </a></span><span class="identifier"><a name="std">v </a></span><span class="special"><a name="std">);<br>    <br>    </a></span><span class="keyword"><a name="std">template</a></span><span class="special"><a name="std">&lt; </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">K</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">C</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">A</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">K2 </a></span><span class="special"><a name="std">&gt;<br>    </a></span><span class="identifier"><a name="std">list_inserter</a></span><span class="special"><a name="std">&lt; </a></span><span class="special"><a name="std">... </a></span><span class="special"><a name="std">&gt; </a></span><span class="keyword"><a name="std">operator</a></span><span class="special"><a name="std">+=( </a></span><span class="identifier"><a name="std">std</a></span><span class="special"><a name="std">::</a></span><span class="identifier"><a name="std">set</a></span><span class="special"><a name="std">&lt;</a></span><span class="identifier"><a name="std">K</a></span><span class="special"><a name="std">,</a></span><span class="identifier"><a name="std">C</a></span><span class="special"><a name="std">,</a></span><span class="identifier"><a name="std">A</a></span><span class="special"><a name="std">&gt;&amp; </a></span><span class="identifier"><a name="std">c</a></span><span class="special"><a name="std">, </a></span><span class="identifier"><a name="std">K2 </a></span><span class="identifier"><a name="std">k </a></span><span class="special"><a name="std">);<br>    <br>    </a></span><span class="keyword"><a name="std">template</a></span><span class="special"><a name="std">&lt; </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">K</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">C</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">A</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">K2 </a></span><span class="special"><a name="std">&gt;<br>    </a></span><span class="identifier"><a name="std">list_inserter</a></span><span class="special"><a name="std">&lt; </a></span><span class="special"><a name="std">... </a></span><span class="special"><a name="std">&gt; </a></span><span class="keyword"><a name="std">operator</a></span><span class="special"><a name="std">+=( </a></span><span class="identifier"><a name="std">std</a></span><span class="special"><a name="std">::</a></span><span class="identifier"><a name="std">multiset</a></span><span class="special"><a name="std">&lt;</a></span><span class="identifier"><a name="std">K</a></span><span class="special"><a name="std">,</a></span><span class="identifier"><a name="std">C</a></span><span class="special"><a name="std">,</a></span><span class="identifier"><a name="std">A</a></span><span class="special"><a name="std">&gt;&amp; </a></span><span class="identifier"><a name="std">c</a></span><span class="special"><a name="std">, </a></span><span class="identifier"><a name="std">K2 </a></span><span class="identifier"><a name="std">k </a></span><span class="special"><a name="std">);<br>    <br>    </a></span><span class="preprocessor"><a name="std">#ifdef </a></span><span class="identifier"><a name="std">BOOST_HAS_SLIST<br>              <br>    </a></span><span class="keyword"><a name="std">template</a></span><span class="special"><a name="std">&lt; </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">A</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">V2 </a></span><span class="special"><a name="std">&gt;<br>    </a></span><span class="identifier"><a name="std">list_inserter</a></span><span class="special"><a name="std">&lt; </a></span><span class="special"><a name="std">... </a></span><span class="special"><a name="std">&gt;    </a></span><span class="keyword"><a name="std">operator</a></span><span class="special"><a name="std">+=( </a></span><span class="identifier"><a name="std">std</a></span><span class="special"><a name="std">::</a></span><span class="identifier"><a name="std">slist</a></span><span class="special"><a name="std">&lt;</a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">,</a></span><span class="identifier"><a name="std">A</a></span><span class="special"><a name="std">&gt;&amp; </a></span><span class="identifier"><a name="std">c</a></span><span class="special"><a name="std">, </a></span><span class="identifier"><a name="std">V2 </a></span><span class="identifier"><a name="std">v </a></span><span class="special"><a name="std">);<br>    <br>    </a></span><span class="preprocessor"><a name="std">#endif<br>    <br>    </a></span><span class="keyword"><a name="std">template</a></span><span class="special"><a name="std">&lt; </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">C</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">V2 </a></span><span class="special"><a name="std">&gt;<br>    </a></span><span class="identifier"><a name="std">list_inserter</a></span><span class="special"><a name="std">&lt; </a></span><span class="special"><a name="std">... </a></span><span class="special"><a name="std">&gt;    </a></span><span class="keyword"><a name="std">operator</a></span><span class="special"><a name="std">+=( </a></span><span class="identifier"><a name="std">std</a></span><span class="special"><a name="std">::</a></span><span class="identifier"><a name="std">stack</a></span><span class="special"><a name="std">&lt;</a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">,</a></span><span class="identifier"><a name="std">C</a></span><span class="special"><a name="std">&gt;&amp; </a></span><span class="identifier"><a name="std">c</a></span><span class="special"><a name="std">, </a></span><span class="identifier"><a name="std">V2 </a></span><span class="identifier"><a name="std">v </a></span><span class="special"><a name="std">);<br>    <br>    </a></span><span class="keyword"><a name="std">template</a></span><span class="special"><a name="std">&lt; </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">A</a></span><span class="special"><a name="std">, </a></span><span class="keyword"><a name="std">class </a></span><span class="identifier"><a name="std">V2 </a></span><span class="special"><a name="std">&gt;<br>    </a></span><span class="identifier"><a name="std">list_inserter</a></span><span class="special"><a name="std">&lt; </a></span><span class="special"><a name="std">... </a></span><span class="special"><a name="std">&gt;    </a></span><span class="keyword"><a name="std">operator</a></span><span class="special"><a name="std">+=( </a></span><span class="identifier"><a name="std">std</a></span><span class="special"><a name="std">::</a></span><span class="identifier"><a name="std">vector</a></span><span class="special"><a name="std">&lt;</a></span><span class="identifier"><a name="std">V</a></span><span class="special"><a name="std">,</a></span><span class="identifier"><a name="std">A</a></span><span class="special"><a name="std">&gt;&amp; </a></span><span class="identifier"><a name="std">c</a></span><span class="special"><a name="std">, </a></span><span class="identifier"><a name="std">V2 </a></span><span class="identifier"><a name="std">v </a></span><span class="special"><a name="std">);    </a></span>

<span class="special"><a name="std">} </a></span><span class="comment"><a name="std">// namespace 'assign'</a></span>
<span class="special"><a name="std">} </a></span><span class="comment"><a name="std">// namespace 'boost'</a></span><a name="std">  </a></pre>





</blockquote>






<a name="std">注意，模板参数 <code>V2</code> 等必须可以转换为 <code>V</code>.   
     
  </a>
<h3><a name="std">函数 <code>list_of()</code> 和 
      <code>map_list_of()</code> </a><a name="list_of_ref"> </a></h3>






<a name="list_of_ref">    </a>
<p><a name="list_of_ref">有两个函数用于构造可以转换为任一种标准容器或 <code>boost::</code></a><a href="../../array/index.html">array</a>&lt;T,sz&gt; 的匿名列表。这两个函数所返回的对象保证具有以下接口。 
  </p>






  <b>Synopsis摘要</b>
  
<blockquote>  
  
  
  
  
  
  
  <pre><span class="keyword">namespace </span><span class="identifier">boost  </span>
<span class="special">{</span>
<span class="keyword">namespace </span><span class="identifier">assign</span>
<span class="special">{<br>    </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">T </span><span class="special">&gt;<br>    </span><span class="keyword">class </span><span class="identifier">Implementation</span><span class="special">-</span><span class="identifier">defined</span>
    <span class="special">{<br>    </span><span class="keyword">public</span><span class="special">:<br>        </span><span class="identifier">const_iterator  </span><span class="identifier">begin</span><span class="special">() <span class="keyword">const</span>;<br>        </span><span class="identifier">const_iterator  </span><span class="identifier">end</span><span class="special">() <span class="keyword">const</span>;<br>        <br>        </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">U </span><span class="special">&gt;<br>        </span><span class="identifier">Implementation</span><span class="special">-</span><span class="identifier">defined</span>&amp; <span class="keyword">operator</span><span class="special">,( </span><span class="identifier">U </span><span class="identifier">u </span><span class="special">);<br>        <br>        </span><span class="comment">// 插入缺省构造的对象<br>        </span><span class="identifier">Implementation</span><span class="special">-</span><span class="identifier">defined</span>&amp; <span class="keyword">operator</span><span class="special">()();  <br><br>        </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">U </span><span class="special">&gt;<br>        </span><span class="identifier">Implementation</span><span class="special">-</span><span class="identifier">defined</span>&amp; <span class="keyword">operator</span><span class="special">()( </span><span class="identifier">U </span><span class="identifier">u </span><span class="special">);<br>        <br>        </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">U</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">U2 </span><span class="special">&gt;<br>        </span><span class="identifier">Implementation</span><span class="special">-</span><span class="identifier">defined</span>&amp; <span class="keyword">operator</span><span class="special">()( </span><span class="identifier">U </span><span class="identifier">u</span><span class="special">, </span><span class="identifier">U2 </span><span class="identifier">u2 </span><span class="special">);<br><br>        </span><span class="comment">//<br>        // 以此类推至5个参数<br>        //<br>        <br>        //<br>        // 转换至一个'容器'。'容器'必须具有一个带两个迭代器参数的构造函数 <br>        //<br>        </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">Container </span><span class="special">&gt;<br>        </span><span class="keyword">operator </span><span class="identifier">Container</span><span class="special">() </span><span class="keyword">const</span><span class="special">; <br><br>        </span><span class="comment">//<br>        // 转换至一个容器适配器，如 'std::stack&lt;&gt;'.<br>        //<br>        </span><span class="identifier">Convertible</span><span class="special">-</span><span class="identifier">to</span><span class="special">-</span><span class="identifier">adapter</span> <span class="identifier">to_adapter</span><span class="special">() </span><span class="keyword">const</span><span class="special">;<br>        <br>        </span><span class="comment">//<br>        //<br>        // 转换至 'boost::array&lt;T,std::size_t&gt;'. 如果被赋值的变量太小，<br>        // 将抛出一个 <a href="#assignment_exception">assignment_exception</a>。<br>        // 如果被赋值的变量太大，剩余的部分将被缺省构造。<br>        //<br>        </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">template </span><span class="special">&lt;</span><span class="keyword">class</span><span class="special">,</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span><span class="special">&gt; </span><span class="keyword">class </span><span class="identifier">Array</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">U</span><span class="special">, </span><span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t </span><span class="identifier">sz </span><span class="special">&gt; <br>        </span><span class="keyword">operator </span><span class="identifier">Array</span><span class="special">&lt;</span><span class="identifier">U</span><span class="special">,</span><span class="identifier">sz</span><span class="special">&gt;() </span><span class="keyword">const</span><span class="special">;<br>    </span><span class="special">};<br>    <br>    </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">T </span><span class="special">&gt;<br>    </span><span class="identifier">Implementation</span><span class="special">-</span><span class="identifier">defined</span>   <span class="identifier">list_of</span><span class="special">(</span><span class="special">);<br><br>    </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">T </span><span class="special">&gt;<br>    </span><span class="identifier">Implementation</span><span class="special">-</span><span class="identifier">defined</span>   <span class="identifier">list_of</span><span class="special">( </span><span class="identifier">T </span><span class="identifier">t </span><span class="special">);<br>    <br>    </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">T</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">U</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">U2 </span><span class="special">&gt;<br>    </span><span class="identifier">Implementation</span><span class="special">-</span><span class="identifier">defined</span>   <span class="identifier">list_of</span><span class="special">( </span><span class="identifier">U </span><span class="identifier">u</span><span class="special">, </span><span class="identifier">U2 </span><span class="identifier">u2 </span><span class="special">);<br>    <br>    </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">T</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">U</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">U2</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">U3 </span><span class="special">&gt;<br>    </span><span class="identifier">Implementation</span><span class="special">-</span><span class="identifier">defined</span>   <span class="identifier">list_of</span><span class="special">( </span><span class="identifier">U </span><span class="identifier">u</span><span class="special">, </span><span class="identifier">U2 </span><span class="identifier">u2</span><span class="special">, </span><span class="identifier">U3 </span><span class="identifier">u3 </span><span class="special">);<br><br>    </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">T</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">U</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">U2</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">U3</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">U4 </span><span class="special">&gt;<br>    </span><span class="identifier">Implementation</span><span class="special">-</span><span class="identifier">defined</span>   <span class="identifier">list_of</span><span class="special">( </span><span class="identifier">U </span><span class="identifier">u</span><span class="special">, </span><span class="identifier">U2 </span><span class="identifier">u2</span><span class="special">, </span><span class="identifier">U3 </span><span class="identifier">u3</span><span class="special">, </span><span class="identifier">U4 </span><span class="identifier">u4 </span><span class="special">);<br>  <br>    </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">T</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">U</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">U2</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">U3</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">U4</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">U5 </span><span class="special">&gt;<br>    </span><span class="identifier">Implementation</span><span class="special">-</span><span class="identifier">defined</span>   <span class="identifier">list_of</span><span class="special">( </span><span class="identifier">U </span><span class="identifier">u</span><span class="special">, </span><span class="identifier">U2 </span><span class="identifier">u2</span><span class="special">, </span><span class="identifier">U3 </span><span class="identifier">u3</span><span class="special">, </span><span class="identifier">U4 </span><span class="identifier">u4</span><span class="special">, </span><span class="identifier">U5 </span><span class="identifier">u5 </span><span class="special">);<br><br>    </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">Key</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">T </span><span class="special">&gt;<br>    </span><span class="identifier">Implementation</span><span class="special">-</span><span class="identifier">defined</span>   <span class="identifier">map_list_of</span><span class="special">( </span><span class="identifier">Key </span><span class="identifier">k</span><span class="special">, </span><span class="identifier">T </span><span class="identifier">t </span><span class="special">)<br>    </span><span class="special">{<br>        </span><span class="keyword">return </span><span class="identifier">list_of</span><span class="special">&lt; </span><span class="identifier">std</span><span class="special">::</span><span class="identifier">pair</span><span class="special">&lt;</span><span class="identifier">Key</span><span class="special">,</span><span class="identifier">T</span><span class="special">&gt; </span><span class="special">&gt;()( </span><span class="identifier">k</span><span class="special">, </span><span class="identifier">t </span><span class="special">);<br>    </span><span class="special">}</span>
<span class="special">} </span><span class="comment">// namespace 'assign'</span>
<span class="special">} </span><span class="comment">// namespace 'boost'</span>  </pre>





</blockquote>







  
<h3>函数 <code>repeat()</code>, 
     <code>repeat_fun()</code> 和 <code>range()</code> <a name="repeat_ref"> </a></h3>






<a name="repeat_ref">  </a>
<p>
<a name="repeat_ref">前两个函数各自存在两种形式，一种是自由函数，另一种是由 <code>list_of()</code> 返回的对象以及 <code>list_inserter 的成员函数。自由函数版本用于创建一个使用</code> <code>operator,()</code> 的挂钩，因此我们可以在逗号列表中调用该函数。成员函数版本则用于我们需要在括号列表中调用的时候。两种情况下我们都有：
      </a></p>





<ul>






  <a name="repeat_ref">          <li>两个函数的返回类型都是实现定义的， 
          </li>





  <li> <code>repeat()</code> 的参数列表是 <code>(std::size_t,T)</code>, 而  
          </li>





  <li><code>repeat_fun()</code> 的参数列表是 <code>(std::size_t,Nullary_function)</code>    
      </li>





  </a>
</ul>






<a name="repeat_ref">      
  </a>
<p></p>






<a name="repeat_ref">  </a>
<p>
<a name="repeat_ref">函数 <code>range()</code> 只有一种成员函数版本。但提供了以下两种重载：
  </a></p>





<blockquote>
  <a name="repeat_ref">      </a>
  
  
  
  
  
  <pre><span class="keyword"><a name="repeat_ref">template</a></span><span class="special"><a name="repeat_ref">&lt;</a></span><a name="repeat_ref"> <span class="keyword">class</span> <span class="identifier">SinglePassIterator</span> <span class="special">&gt;</span>
<span class="identifier">Implementation</span><span class="special">-</span><span class="identifier">defined</span> <span class="identifier">range</span><span class="special">(</span> <span class="identifier">SinglePassIterator</span> <span class="identifier">first</span><span class="special">,</span> <span class="identifier">SinglePassIterator</span> <span class="identifier">last</span> <span class="special">);</span>

<span class="keyword">template</span><span class="special">&lt;</span> <span class="keyword">class</span> <span class="identifier">SinglePassRange</span> <span class="special">&gt;</span>
<span class="identifier">Implementation</span><span class="special">-</span><span class="identifier">defined</span> <span class="identifier">range</span><span class="special">(</span> <span class="keyword">const</span> <span class="identifier">SinglePassRange</span><span class="special">&amp;</span> <span class="identifier">rng</span> <span class="special">);</span></a></pre>






  <a name="repeat_ref">  </a></blockquote>






<a name="repeat_ref">  </a>
<p></p>






<a name="repeat_ref">      
  </a>
<h3><a name="list_inserter">类&nbsp;<code>list_inserter</code></a></h3>

这个类负责插入元素到容器中，它是扩展本库以支持你想要的类的关键所在。

    
<p>
  <b>Synopsis摘要</b> 
  </p>






  
<blockquote>
  
  
  
  
  
  <pre><span class="keyword">namespace </span><span class="identifier">boost</span>
<span class="special">{</span>
<span class="keyword">namespace </span><span class="identifier">assign</span>
<span class="special">{<br>    </span><span class="keyword">template</span><span class="special">&lt; </span><span class="identifier">Function</span><span class="special">, </span><span class="identifier">Argument </span><span class="special">= </span><span class="keyword">void </span><span class="special">&gt; <br>    </span><span class="keyword">class </span><span class="identifier">list_inserter<br>    </span><span class="special">{<br>        </span><span class="identifier">Function </span><span class="identifier">fun</span><span class="special">;<br>        <br>    </span><span class="keyword">public</span><span class="special">:<br>        </span><span class="keyword">explicit </span><span class="identifier">list_inserter</span><span class="special">( </span><span class="identifier">Function </span><span class="identifier">fun </span><span class="special">);<br>        <br>        </span><span class="comment">// 转换构造函数<br>        </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">Function2</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">Arg </span><span class="special">&gt;<br>        </span><span class="identifier">list_inserter</span><span class="special">( </span><span class="keyword">const </span><span class="identifier">list_inserter</span><span class="special">&lt;</span><span class="identifier">Function2</span><span class="special">,</span><span class="identifier">Arg</span><span class="special">&gt;&amp; </span><span class="special">);<br>        <br>    </span><span class="keyword">public</span><span class="special">:<br>        </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">U </span><span class="special">&gt;<br>        </span><span class="identifier">list_inserter</span><span class="special">&amp; </span><span class="keyword">operator</span><span class="special">,( </span><span class="identifier">U </span><span class="identifier">u </span><span class="special">);<br>        <br>        </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">U </span><span class="special">&gt;<br>        </span><span class="identifier">list_inserter</span><span class="special">&amp; </span><span class="keyword">operator</span><span class="special">=( </span><span class="identifier">U </span><span class="identifier">u </span><span class="special">);<br>        <br>        </span><span class="comment">// 以缺省构造的对象调用 'fun()'<br>        </span><span class="identifier">list_inserter</span><span class="special">&amp; </span><span class="keyword">operator</span><span class="special">()();<br>        <br>        </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">U </span><span class="special">&gt;<br>        </span><span class="identifier">list_inserter</span><span class="special">&amp; </span><span class="keyword">operator</span><span class="special">()( </span><span class="identifier">U </span><span class="identifier">u </span><span class="special">);<br>        <br>        </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">U</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">U2 </span><span class="special">&gt;<br>        </span><span class="identifier">list_inserter</span><span class="special">&amp; </span><span class="keyword">operator</span><span class="special">()( </span><span class="identifier">U </span><span class="identifier">u</span><span class="special">, </span><span class="identifier">U2 </span><span class="identifier">u2 </span><span class="special">)<br>        </span><span class="special">{<br>           </span><span class="comment">//<br>           // if 'Argument' is 'void'<br>           //     fun( u, u2 );<br>           // else<br>           //     fun( Argument( u, u2 ) );<br>           //<br>           </span><span class="keyword">return </span><span class="special">*</span><span class="keyword">this</span><span class="special">;<br>        </span><span class="special">}<br><br>        </span><span class="comment">//<br>        // 以此类推至5个参数<br>        //<br>    </span><span class="special">};</span>
    
    <span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">C </span><span class="special">&gt;<br>    </span><span class="identifier">list_inserter</span><span class="special">&lt; </span><span class="special">... </span><span class="special">&gt; </span><span class="identifier">push_back</span><span class="special">( </span><span class="identifier">C</span><span class="special">&amp; </span><span class="special">);<br>      <br>    </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">C </span><span class="special">&gt;<br>    </span><span class="identifier">list_inserter</span><span class="special">&lt; </span><span class="special">... </span><span class="special">&gt; </span><span class="identifier">push_front</span><span class="special">( </span><span class="identifier">C</span><span class="special">&amp; </span><span class="special">);<br><br>    </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">C </span><span class="special">&gt;<br>    </span><span class="identifier">list_inserter</span><span class="special">&lt; </span><span class="special">... </span><span class="special">&gt; </span><span class="identifier">insert</span><span class="special">( </span><span class="identifier">C</span><span class="special">&amp; </span><span class="special">);<br><br>    </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">C </span><span class="special">&gt;<br>    </span><span class="identifier">list_inserter</span><span class="special">&lt; </span><span class="special">... </span><span class="special">&gt; </span><span class="identifier">push</span><span class="special">( </span><span class="identifier">C</span><span class="special">&amp; </span><span class="special">);</span>
      
<span class="special">} </span><span class="comment">// namespace 'assign'</span>
<span class="special">} </span><span class="comment">// namespace 'boost'</span></pre>





</blockquote>






  
<p>请注意，<code>operator,()</code> 和 
  <code>operator()()</code> 的参数传递给 
  <code>fun</code> 的方式根据 <code>Argument 的类型而有所不同。所以，如果我们仅指定一个模板参数给</code> <code>list_inserter，我们可以前转</code> "任意" 的函数参数列表。如果我们指定两个模板参数给 <code>list_inserter，我们就可以用</code> "任意" 的构造函数来构造类型。
  </p>





 
   
  
<p> 
   此外，由于返回的是一个 <code>list_inserter</code> 引用，因此我们可以将参数列表串在一起，这是很节省空间的方式。
  </p>







  
<h3><a name="make_list_inserter">函数 <code>make_list_inserter()</code></a></h3>






  
<p>这是构造一个 list_inserter 的简便的 "构造器" 函数。这个函数的一种典型用法就是，以 
<code>boost::bind()</code>
  所返回的结果来调用它，因为通常这个结果都是一些很难读懂和非常怪异的类模板。
  </p>






  <b>Synopsis摘要</b>
  
<blockquote>
  
  
  
  
  
  <pre><span class="keyword">namespace </span><span class="identifier">boost </span>
<span class="special">{</span>
<span class="keyword">namespace </span><span class="identifier">assign</span>
<span class="special">{  <br>    </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">Function </span><span class="special">&gt;<br>    </span><span class="identifier">list_inserter</span><span class="special">&lt;</span><span class="identifier">Function</span><span class="special">&gt;  </span><span class="identifier">make_list_inserter</span><span class="special">( </span><span class="identifier">Function </span><span class="identifier">fun </span><span class="special">)<br>    </span><span class="special">{<br>        </span><span class="keyword">return </span><span class="identifier">list_inserter</span><span class="special">&lt;</span><span class="identifier">Function</span><span class="special">&gt;( </span><span class="identifier">fun </span><span class="special">);<br>    </span><span class="special">} </span>
<span class="special">}</span>
<span class="special">}  </span>  </pre>





</blockquote>







   <a name="limit"></a>   
   
<h3>Customizing argument list sizes定制参数列表大小</h3>





   
      
<p>本库使用了 boost Preprocessor Library预处理库来实现 <code>operator()()</code> 和 <code>list_of() 的重载版本。缺省情况下你可以用最多五个参数来调用这些函数，不过你也可以改变这个限制，方法就是，在包含本库的头文件之前定义一个宏，如下所示：</code>
       </p>





<blockquote>
       
  
  
  
  
  
  <pre><span class="preprocessor">#define </span><span class="identifier">BOOST_ASSIGN_MAX_PARAMS </span><span class="number">10<br></span><span class="preprocessor">#include </span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">assign</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
  </pre>






       </blockquote>





      
       
<p></p>






  
<hr>    
  
<h2><a name="exceptions">Exceptions and exception-safety异常及异常安全</a></h2>






  
<p>本库的异常保证与前转至的函数的异常保证一致。对于标准容器而言，单个元素的插入操作是强异常安全的，而多个元素的插入操作则是基本异常安全的(假设被复制的对象给予了基本异常安全的保证)。 
  </p>






  
<p>这些函数可能抛出标准异常，如 <code>std::bad_alloc</code>. 但是请注意，标准并不保证标准容器在分配内存失败时一定会抛出 <code>std::bad_alloc</code> 或是其它派生自 <code>std::exception</code> 的异常。
 </p>






  
  
<h3><a name="assignment_exception">类&nbsp;<code>assignment_exception</code></a></h3>






  
<p>这个异常在 list_of() 返回的代理对象进行转换操作时抛出。
  </p>







  
<blockquote>
  
  
  
  
  
  <pre><span class="keyword">namespace </span><span class="identifier">boost </span>
<span class="special">{</span>
<span class="keyword">namespace </span><span class="identifier">assign</span>
<span class="special">{<br>    </span><span class="keyword">class </span><span class="identifier">assignment_exception </span><span class="special">: </span><span class="keyword">public </span><span class="identifier">std</span><span class="special">::</span><span class="identifier">exception<br>    </span><span class="special">{<br>    </span><span class="keyword">public</span><span class="special">:<br>        </span><span class="keyword">explicit </span><span class="identifier">assignment_exception</span><span class="special">( </span><span class="keyword">const </span><span class="keyword">char</span><span class="special">* </span><span class="identifier">what </span><span class="special">); <br>        </span><span class="keyword">virtual </span><span class="keyword">const </span><span class="keyword">char</span><span class="special">* </span><span class="identifier">what</span><span class="special">() </span><span class="keyword">const </span><span class="keyword">throw</span><span class="special">();<br>    </span><span class="special">};</span>
<span class="special">}   </span>
<span class="special">}</span>  </pre>





</blockquote>





 

  
<hr>
  
<h2><a name="extensions">Extending the library扩展本库</a></h2>





 
  
<p>要让本库与新的类一起使用非常简单。以下代码示范了如何将 <code>operator+=()</code> 用于一个容器：
  </p>





<blockquote>
  
  
  
  
  
  <pre><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">V</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">A</span><span class="special">, </span><span class="keyword">class </span><span class="identifier">V2 </span><span class="special">&gt;<br></span><span class="keyword">inline </span><span class="identifier">list_inserter</span><span class="special">&lt; </span><span class="identifier">assign_detail</span><span class="special">::</span><span class="identifier">call_push_back</span><span class="special">&lt; </span><span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;</span><span class="identifier">V</span><span class="special">,</span><span class="identifier">A</span><span class="special">&gt; </span><span class="special">&gt;, </span><span class="identifier">V </span><span class="special">&gt; <br></span><span class="keyword">operator</span><span class="special">+=( </span><span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;</span><span class="identifier">V</span><span class="special">,</span><span class="identifier">A</span><span class="special">&gt;&amp; </span><span class="identifier">c</span><span class="special">, </span><span class="identifier">V2 </span><span class="identifier">v </span><span class="special">)<br></span><span class="special">{<br>    </span><span class="keyword">return </span><span class="identifier">make_list_inserter</span><span class="special">( </span><span class="identifier">assign_detail</span><span class="special">::</span><span class="identifier">call_push_back</span><span class="special">&lt; </span><span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;</span><span class="identifier">V</span><span class="special">,</span><span class="identifier">A</span><span class="special">&gt; </span><span class="special">&gt;( </span><span class="identifier">c </span><span class="special">) </span><span class="special">)( </span><span class="identifier">v </span><span class="special">);<br></span><span class="special">}<br></span></pre>






</blockquote>
其中的 <code>call_push_back</code> 定义如下：    
      
<blockquote>      
  
  
  
  
  
  <pre><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">C </span><span class="special">&gt;<br></span><span class="keyword">class </span><span class="identifier">call_push_back<br></span><span class="special">{<br>    </span><span class="identifier">C</span><span class="special">&amp; </span><span class="identifier">c_</span><span class="special">;<br></span><span class="keyword">public</span><span class="special">:<br><br>    </span><span class="identifier">call_push_back</span><span class="special">( </span><span class="identifier">C</span><span class="special">&amp; </span><span class="identifier">c </span><span class="special">) </span><span class="special">: </span><span class="identifier">c_</span><span class="special">( </span><span class="identifier">c </span><span class="special">)<br>    </span><span class="special">{ </span><span class="special">}<br>    <br>    </span><span class="keyword">template</span><span class="special">&lt; </span><span class="keyword">class </span><span class="identifier">T </span><span class="special">&gt;<br>    </span><span class="keyword">void </span><span class="keyword">operator</span><span class="special">()( </span><span class="identifier">T </span><span class="identifier">r </span><span class="special">) <br>    </span><span class="special">{<br>        </span><span class="identifier">c_</span><span class="special">.</span><span class="identifier">push_back</span><span class="special">( </span><span class="identifier">r </span><span class="special">);<br>    </span><span class="special">}<br></span><span class="special">};</span></pre>





    
</blockquote>
注意，我们将第二个模板参数传给了 <code>list_inserter</code>，因此参数列表将被用于构造一个 <code>V</code> 对象。否则我们就要使用n个参数来调用 <code>push_back()</code> 而不是1个了。
  
<p></p>






      
  
<p>另一种方法是，结合使用 <code>boost::function</code> 和 
  <code>boost::bind()。但是，这时你要记住，对标准库中函数取地址是非法的。</code>
  </p>






      
  
<p>用多个参数来调用函数也非常有用。下面这个小例子示范了如何利用这个功能：
  </p>






  
<blockquote>
  
  
  
  
  
  <pre><span class="comment">//  <br>// 一个表示email的类<br>//</span>
<span class="keyword">class </span><span class="identifier">email</span>
<span class="special">{</span>
<span class="keyword">public</span><span class="special">:<br>    </span><span class="keyword">enum </span><span class="identifier">address_option<br>    </span><span class="special">{<br>        </span><span class="identifier">check_addr_book</span><span class="special">,<br>        </span><span class="identifier">dont_check_addr_book<br>    </span><span class="special">};<br>    </span>
<span class="keyword">private</span><span class="special">:<br><br>    </span><span class="keyword">typedef </span><span class="identifier">std</span><span class="special">::</span><span class="identifier">map</span><span class="special">&lt; </span><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">,</span><span class="identifier">address_option </span><span class="special">&gt;  </span><span class="identifier">address_map</span><span class="special">;<br>    <br>    </span><span class="comment">//<br>    // 保存要cc的人员列表<br>    //<br>    </span><span class="keyword">mutable </span><span class="identifier">address_map </span><span class="identifier">cc_list</span><span class="special">;<br>        <br>    </span><span class="comment">//<br>    // 这个函数对象负责为我们进行插入操作。它保存了一个map的引用<br>    // 以及 'operator()()' 来完成这项工作。<br>    //<br>    </span><span class="keyword">struct </span><span class="identifier">add_to_map<br>    </span><span class="special">{<br>        </span><span class="identifier">address_map</span><span class="special">&amp; </span><span class="identifier">m</span><span class="special">;<br>    <br>        </span><span class="identifier">add_to_map</span><span class="special">( </span><span class="identifier">address_map</span><span class="special">&amp; </span><span class="identifier">m </span><span class="special">) </span><span class="special">: </span><span class="identifier">m</span><span class="special">(</span><span class="identifier">m</span><span class="special">)        <br>        </span><span class="special">{}<br>    <br>        </span><span class="keyword">void </span><span class="keyword">operator</span><span class="special">()( </span><span class="keyword">const </span><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">&amp; </span><span class="identifier">name</span><span class="special">, </span><span class="identifier">address_option </span><span class="identifier">ao </span><span class="special">)<br>        </span><span class="special">{<br>            </span><span class="identifier">m</span><span class="special">[ </span><span class="identifier">name </span><span class="special">] </span><span class="special">= </span><span class="identifier">ao</span><span class="special">; <br>        </span><span class="special">}<br>    </span><span class="special">};<br></span>
<span class="keyword">public</span><span class="special">:<br>    <br>    </span><span class="comment">//<br>    // 这个函数构造了适用的 'list_inserter'。我们也可以使用 <br>    // </span><span class="comment">'boost::function', </span><span class="comment">但通常会用函数对象。<br>    //<br>    // 注意，我们没有为 'list_inserter' 指定另一个模板参数; <br>    // 这意味着我们直接将所有参数前转至函数而不调用任何构造函数。<br>    //<br>    </span><span class="identifier">list_inserter</span><span class="special">&lt; </span><span class="identifier">add_to_map </span><span class="special">&gt;<br>    </span><span class="identifier">add_cc</span><span class="special">( </span><span class="identifier">std</span><span class="special">::</span><span class="identifier">string </span><span class="identifier">name</span><span class="special">, </span><span class="identifier">address_option </span><span class="identifier">ao </span><span class="special">)<br>    </span><span class="special">{<br>        </span><span class="comment">//<br>        // 请注意我们是如何把参数 'name' 和 'ao' 传递给 'list_inserter' 的。<br>        //<br>        </span><span class="keyword">return </span><span class="identifier">make_list_inserter</span><span class="special">( </span><span class="identifier">add_to_map</span><span class="special">( </span><span class="identifier">cc_list </span><span class="special">) </span><span class="special">)( </span><span class="identifier">name</span><span class="special">, </span><span class="identifier">ao </span><span class="special">);<br>    </span><span class="special">}</span>
<span class="special">};<br></span>
<span class="comment">//<br>// 现在我们可以这样使用这个类：<br>//</span>
<span class="identifier">email </span><span class="identifier">e</span><span class="special">;</span>
<span class="identifier">e</span><span class="special">.</span><span class="identifier">add_cc</span><span class="special">( </span><span class="string">"Mr. Foo"</span><span class="special">, </span><span class="identifier">email</span><span class="special">::</span><span class="identifier">dont_check_addr_book </span><span class="special">)<br>        </span><span class="special">( </span><span class="string">"Mr. Bar"</span><span class="special">, </span><span class="identifier">email</span><span class="special">::</span><span class="identifier">check_addr_book </span><span class="special">)<br>        </span><span class="special">( </span><span class="string">"Mrs. FooBar"</span><span class="special">, </span><span class="identifier">email</span><span class="special">::</span><span class="identifier">check_addr_book </span><span class="special">);  </span>
  </pre>





</blockquote>
完整的例子请见 <a href="email_example.html">email_example.cpp</a> 
<p></p>






  
<hr>
  
<h2>Examples例子 <a name="examples"></a></h2>






<a name="examples">  </a>
<p>
<a name="examples">可以从以下测试文件中找到其它例子：
  </a></p>





<ul>






  <a name="examples">      <li> </li>





  </a><a href="email_example.html">email_example.cpp</a>          
      <li> <a href="my_vector_example.html">my_vector_example.cpp</a>               
      </li>





  <li> <a href="multi_index_container.html">multi_index_container.cpp</a> 
      </li>





  <li> <a href="../test/array.cpp">array.cpp</a>      
      </li>





  <li> <a href="../test/list_of.cpp">list_of.cpp</a>      
      </li>





  <li> <a href="../test/std.cpp">std.cpp</a>      
      </li>





  <li> <a href="../test/list_inserter.cpp">list_inserter.cpp</a>      
      </li>





  <li> <a href="../test/list_of_workaround.cpp">list_of_work_around.cpp</a>      
  </li>





</ul>





 
<p></p>






  
  
  
<hr>
  
<h2><a name="boost_libs">Supported libraries支持的库</a></h2>
以下列出的是已经与 Boost.Assign 测试过的库：
  
  
<ol>






      <li> <code>boost::<a href="../../array/index.html">array</a></code>
      </li>





  <li> <code>boost::<a href="../../multi_index/index.html">multi_index_container</a></code>
      </li>





  <li> <code>Boost.<a href="../../ptr_container/index.html">Pointer Container</a></code><a href="../../ptr_container/index.html"> </a></li>





</ol>





<a href="../../ptr_container/index.html"> </a>
<p>

<a href="../../ptr_container/index.html">  </a></p>






<a href="../../ptr_container/index.html">  
  
  </a>
<hr>
<a href="../../ptr_container/index.html">  </a>
<h2><a name="portability">Portability可移植性</a></h2>






  
<p>本库已经用
    MVC++ 7.1, GCC 3.2 (under Cygwin) Comeau 4.3.3 等编译器成功编译和测试。
  </p>






  
<p>我们已经知道在不支持模板转换操作符的平台上会有一些限制。解决的办法是，在 list_of() 返回的对象上调用确定的成员函数： </p>






 
<blockquote>
     
  
  
  
  
  
  <pre><span class="special">{<br>    </span><span class="keyword">using </span><span class="keyword">namespace </span><span class="identifier">std</span><span class="special">;<br>    </span><span class="keyword">using </span><span class="keyword">namespace </span><span class="identifier">boost</span><span class="special">;<br>    </span><span class="keyword">using </span><span class="keyword">namespace </span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">assign</span><span class="special">;<br>    <br>    </span><span class="keyword"></span><span class="identifier">vector</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;</span>         <span class="identifier">v </span><span class="special">= </span><span class="identifier">list_of</span><span class="special">(</span><span class="number">1</span><span class="special">)(</span><span class="number">2</span><span class="special">)(</span><span class="number">3</span><span class="special">)(</span><span class="number">4</span><span class="special">).</span><span class="identifier">to_container</span><span class="special">( </span><span class="identifier">v </span><span class="special">);<br>    </span><span class="identifier">set</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;            </span><span class="identifier">s </span><span class="special">= </span><span class="identifier">list_of</span><span class="special">(</span><span class="number">1</span><span class="special">)(</span><span class="number">2</span><span class="special">)(</span><span class="number">3</span><span class="special">)(</span><span class="number">4</span><span class="special">).</span><span class="identifier">to_container</span><span class="special">( </span><span class="identifier">s </span><span class="special">);  <br>    </span><span class="identifier">map</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">,</span><span class="keyword">int</span><span class="special">&gt;        </span><span class="identifier">m </span><span class="special">= </span><span class="identifier">map_list_of</span><span class="special">(</span><span class="number">1</span><span class="special">,</span><span class="number">2</span><span class="special">)(</span><span class="number">2</span><span class="special">,</span><span class="number">3</span><span class="special">).</span><span class="identifier">to_container</span><span class="special">( </span><span class="identifier">m </span><span class="special">);<br>    </span><span class="identifier">stack</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;         </span><span class="identifier">st </span><span class="special">= </span><span class="identifier">list_of</span><span class="special">(</span><span class="number">1</span><span class="special">)(</span><span class="number">2</span><span class="special">)(</span><span class="number">3</span><span class="special">)(</span><span class="number">4</span><span class="special">).</span><span class="identifier">to_adapter</span><span class="special">( </span><span class="identifier">st </span><span class="special">);<br>    </span><span class="identifier">queue</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;          </span><span class="identifier">q </span><span class="special">= </span><span class="identifier">list_of</span><span class="special">(</span><span class="number">1</span><span class="special">)(</span><span class="number">2</span><span class="special">)(</span><span class="number">3</span><span class="special">)(</span><span class="number">4</span><span class="special">).</span><span class="identifier">to_adapter</span><span class="special">( </span><span class="identifier">q </span><span class="special">); <br>    </span><span class="identifier">array</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">,</span><span class="number">4</span><span class="special">&gt;        </span><span class="identifier">a </span><span class="special">= </span><span class="identifier">list_of</span><span class="special">(</span><span class="number">1</span><span class="special">)(</span><span class="number">2</span><span class="special">)(</span><span class="number">3</span><span class="special">)(</span><span class="number">4</span><span class="special">).</span><span class="identifier">to_array</span><span class="special">( </span><span class="identifier">a </span><span class="special">);</span>
<span class="special">}</span>     </pre>






 </blockquote>






 
<p>注意，你必须为函数提供一个参数以保证可以推断出正确的返回类型。
 </p>






 
<p>有些标准库也有问题。有个问题就是，<code>insert()</code> 可能不能用：
</p>





<blockquote>
    
  
  
  
  
  
  <pre><span class="identifier">map</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">,</span><span class="keyword">int</span><span class="special">&gt; </span><span class="identifier">next</span><span class="special">; <br></span><span class="identifier">insert</span><span class="special">( </span><span class="identifier">next </span><span class="special">)(</span><span class="number">1</span><span class="special">,</span><span class="number">2</span><span class="special">)(</span><span class="number">2</span><span class="special">,</span><span class="number">3</span><span class="special">); </span><span class="comment">// 编译期错误</span> </pre>






</blockquote>
解决的办法是，使用 <code>map_list_of()</code> 来代替：
<blockquote>
    
  
  
  
  
  
  <pre><span class="identifier">map</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">,</span><span class="keyword">int</span><span class="special">&gt; </span><span class="identifier">next </span><span class="special">= </span><span class="identifier">map_list_of</span><span class="special">(</span><span class="number">1</span><span class="special">,</span><span class="number">2</span><span class="special">)(</span><span class="number">2</span><span class="special">,</span><span class="number">3</span><span class="special">);</span></pre>





</blockquote>






<p></p>






 
<hr>
  
<h2><a name="history">History and Acknowledgment历史和感谢</a></h2>






  
<p>（不译）The idea for an assignment/initialization library is not new. The 
  functionality of this
  library resembles Leor Zolman's STL Container Initialization Library a great 
  deal, but it does not rely on string parsing to achieve its goals. 
  </p>





 
  
<p>
  The  
  library is non-intrusive and puts only a minimum of requirements 
  on its supported classes.
 Overloading operator comma is sometimes viewed as a bad practice <a href="#meyers">[1]</a>. However, it has been done
  with success in eg. the Generative Matrix Computation Library  and Blitz to initialize matrices 
      (see <a href="#gmcl">[2]</a>) and <a href="#blitz">[3]</a>). The 
Initialization Library overloads
      the comma operator in a safe manner by letting free standing functions
 return an object that is responsible for the initialization. Therefore it takes 
explicit
      action from the programmer to begin using the overloaded <code>operator,()</code>.
  </p>






  
<p>
  There has recently been some discussion about enhancing the language to 
support better initialization (see <a href="#initializer">[4]</a>).
  </p>






  
<p>
  Special thanks goes to 
  </p>





<ul>






  <li> Leor Zolman for our many discussion that eventually led to this library.
  </li>





  <li> Tom Brinkman for being review manager.
  </li>





  <li> Joaqu&iacute;n Mu&ntilde;oz for vc6/vc7 portability.
  </li>





  <li> Pavel Vozenilek for his countless suggestions, improvements and 
       portability fixes. 
  </li>





  <li> Rene Rivera for Code Warrior portability.     
       
       </li>





</ul>






  
<p></p>






  
<hr>
  
<h2><a name="ref">References参考</a></h2>






  
<p>
  </p>





<ol>






      <li> <a name="meyers">     Scott. Meyers, "More Effective C++", Item 7, Addison Wesley, 1996       
      </a></li>





  <li><a name="meyers"> </a><a name="gmcl">       K. Czarnecki and U.W. Eisenecker, "Generative programming", Addison-Wesley, 2000        
      </a></li>





  <li><a name="gmcl"> </a><a name="blitz">      </a><a href="http://www.oonumerics.org/blitz/"> http://www.oonumerics.org/blitz/ </a>     
      </li>





  <li> <a name="initializer"> 
          Gabriel Dos Reis and Bjarne Stroustrup, 
          </a><a href="http://anubis.dkuug.dk/jtc1/sc22/wg21/docs/papers/2003/n1509.pdf"> "Generalized Initializer
            Lists"</a>, 2003  
 </li>





</ol>





 
 
<p></p>






  
<hr>
  
<p>
    (C) Copyright Thorsten Ottosen 2003-2006
  </p>







  <br>






  <br>






  <br>






  <br>






  <br>






  <br>






  <br>






  <br>






  <br>






  <br>






  <br>






  <br>






</body>
</html>

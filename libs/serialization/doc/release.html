<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<!--
(C) Copyright 2002-4 Robert Ramey - http://www.rrsd.com . 
Use, modification and distribution is subject to the Boost Software
License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
http://www.boost.org/LICENSE_1_0.txt)
-->



  
  
  
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">




  
  
  
  <link rel="stylesheet" type="text/css" href="../../../boost.css">




  
  
  
  <link rel="stylesheet" type="text/css" href="style.css">




  
  
  
  <title>Serialization - Release Notes</title>
</head>


<body link="#0000ff" vlink="#800080">




<table summary="header" border="0" cellpadding="7" cellspacing="0" width="100%">




  <tbody>



    <tr>



 
    <td valign="top" width="300"> 
      
      
      
      
      <h3><a href="../../../index.htm"><img alt="C++ Boost" src="../../../boost.png" border="0" height="86" width="277"></a></h3>




    </td>




    <td valign="top"> 
      
      
      
      
      <h1 align="center">Serialization序列化</h1>




      
      
      
      
      <h2 align="center">发布版本说明</h2>




    </td>




  </tr>




  
  
  
  </tbody>
</table>




<hr>
<dl class="index">




  <li><a href="#requirements">要求</a></li>




  <li><a href="#recent_improvements">与版本 1.32 的差别</a></li>
  <li><a href="#differences_1_33">与版本 1.33 的差别</a> 
  </li>
  <li><a href="#differences_1_34">与版本 1.34 的差别</a> </li>
  <li><a href="#todo">遗留问题</a></li>




</dl>


这是 Boost 1.33 的 Serialization 库。目前没有已知的 bugs. 不过，由于编译器/库的原因，在某些编译器和库的组合下有些测试不能通过。
<h2><a name="requirements"></a>要求</h2>


该库要求 Boost&nbsp;1.33 或后续版本。
<p>serialization 库使用了 boost spirit 包来导入 XML 存档。我们已发现使用 spirit 1.6x
可以通过所有测试。而 Spirit 1.8 或更高版本则在某些旧的编译器不能工作 - 特别是 MSVC 6, Borland 和 GCC
&lt; 3.0.
如果你使用这些编译器中的某一个，你就要从&nbsp;<a href="http://spirit.sourceforge.net/index.php?doc=download/index.html">这里</a> 下载 spirit 1.6.
要用这个下载的版本替换 boost 中包含的版本，你要设置一个环境变量 SPIRIT_ROOT，使之为下载的 spirit 拷贝所在的根目录，如：
</p>



<pre><code><br></code>set SPIRIT_ROOT=c:/spirit16<code></code></pre>

如何你不使用 bjam 和 Jamfile 来构建本库，则要确保包含你要使用的 spirit 版本的位于包含路径的最前面。

<h2><a name="recent_improvements"></a>与 Boost 1.32 的差别</h2>




<ul>




    <li>对于支持的平台，提供了动态链接库(DLLs 和共享库)。请见
    <a href="../../../more/getting_started.html#auto-link">Windows平台上的自动链接</a>。
    </li>



  <li>对于支持的平台，实现了自动链接。
    </li>



  <li>更好地支持 <em>Argument Dependent Lookup</em> 和两阶段查找。这样放置序列化的名字空间的规则就更为简单了。
    </li>



  <li>更好的文档以帮助以上功能的使用。
    </li>



  <li>调整以改进对不符合标准的编译器的支持。
    </li>



  <li>改进对于保存/导入操作符的 <code>const</code> 正确性。注意，这可能会使得原来可以编译的早期 boost 版本产生编译错误。在多数情况下，修改的方法很简单。其它情况下，要仔细地检查代码以确保使用序列化系统的方式不会给程序引入微妙的 bugs.  有关这个问题的更完整的解释请见
    <a target="detail" href="traits.html#tracking">这里</a>。
    </li>



  <li>对 <code style="white-space: normal;">shared_ptr&lt;T&gt;</code> 进行序列化的一个新的实现。该实现兼容于 <code style="white-space: normal;">shared_ptr&lt;T&gt;</code>
    的公有接口，所以更为好用，而且以后也无须修改。该实现可以选择是否包含代码以导入保存在由 boost 1.32 所创建的存档中的 <code style="white-space: normal;">shared_ptr&lt;T&gt;</code>.  这部分代码位于头文件
    <code style="white-space: normal;">boost/serialization/shared_ptr_132.hpp</code>. 如果你的应用需要导入由 boost 1.32 库所创建的存档，则在每次包含 <code style="white-space: normal;">boost/serialization/shared_ptr.hpp</code> 之前包含上述头文件。
    </li>



  <li>更多的编译器被测试和支持。
    </li>



  <li>修正了多个 bug.
  </li>



</ul>




<h2><a name="differences_1_33"></a>与 Boost 1.33 的差别</h2>




<ul>




    <li>原生二进制存档使用 <code style="white-space: normal;">std::streambuf</code> 接口。这使得在某些情形下可以执行得更快。</li>
</ul>

<h2><a name="differences_1_34"></a>与 Boost 1.34 的差别</h2>

<ul>
  <li>对原生二进制存档的快速序列化的增强支持。由 Mattias 
Troyer 提供。 
  </li>
  <li>改进了"导出"功能的实现。去掉了对头部顺序的要求，并取消了对"已知存档"的预定列表的维护，由 David Abrahams 实现。 
  </li>
  <li>改进了对 STLPort 的支持。</li>



</ul>





<h2><a name="todo"></a>遗留问题</h2>




<ul>




    <li>在更多的平台上编译和测试。
    </li>



  <li>实现 <code>is_virtual_base&lt;T&gt;</code> 以自动消除虚拟基类序列化中的冗余。
    </li>



  <li>目前还不能通过指针序列化一个类的对象，如果该类实现了它自己的 <code style="white-space: normal;">new/delete</code> 操作符。
    </li>



  <li>包含特殊字符如
    '\0' 的 <code style="white-space: normal;">std::string</code> 和 <code style="white-space: normal;">std::wstring</code> 不能序列化为 XML，如果没有一个转义机制。目前还没有实现这样的转义机制。<code style="white-space: normal;"></code>
    </li>



  <li>在这个版本中，修正了实现 <code style="white-space: normal;">std::map</code> 序列化的一个微妙的错误。但是不幸的是，这个修正使得那些不支持模板偏特化的编译器无法编译
    <code style="white-space: normal;">std::map</code> 的序列化。
    </li>



  <li>数字的浮点值不能序列化到基于文本的存档。
  </li>



</ul>




<p>除了以上所说的以外，还有一些与特定平台相关的问题。它们在 <a href="implementation.html#othercompilerissues">特定编译器/库的问题</a> 中列出。


</p>



<hr>
<p><i>&copy; Copyright <a href="http://www.rrsd.com/">Robert Ramey</a> 2002-2007. 
Distributed under the Boost Software License, Version 1.0. (See accompanying 
file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt) </i></p>
<p></p>




</body>
</html>

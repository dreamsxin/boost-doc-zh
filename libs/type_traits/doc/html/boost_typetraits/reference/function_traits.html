<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


  
  <title>function_traits</title><link rel="stylesheet" href="../../../../../../doc/html/boostbook.css" type="text/css">

  <meta name="generator" content="DocBook XSL Stylesheets V1.73.2">

  <link rel="start" href="../../index.html" title="Chapter&nbsp;1.&nbsp;Boost.TypeTraits">

  <link rel="up" href="../reference.html" title="Alphabetical Reference">

  <link rel="prev" href="floating_point_promotion.html" title="floating_point_promotion">

  <link rel="next" href="has_nothrow_assign.html" title="has_nothrow_assign"></head>

<body alink="#0000ff" bgcolor="white" link="#0000ff" text="black" vlink="#840084">

<table cellpadding="2" width="100%">
  <tbody>
    <tr>

      <td valign="top"><img alt="Boost C++ Libraries" src="../../../../../../boost.png" height="86" width="277"></td>

      <td align="center"><a href="../../../../../../index.html">Home</a></td>

      <td align="center"><a href="../../../../../libraries.htm">Libraries</a></td>

      <td align="center"><a href="http://www.boost.org/people/people.htm">People</a></td>

      <td align="center"><a href="http://www.boost.org/more/faq.htm">FAQ</a></td>

      <td align="center"><a href="../../../../../../more/index.htm">More</a></td>

    </tr>
  </tbody>
</table>

<hr>
<div class="spirit-nav">
<a accesskey="p" href="floating_point_promotion.html"><img src="../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../reference.html"><img src="../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="has_new_operator.html"><img style="border: 0px solid ; width: 19px; height: 19px;" src="../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>

<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="boost_typetraits.reference.function_traits"></a><a class="link" href="function_traits.html" title="function_traits"> function_traits</a>
</h3>
</div>
</div>
</div>

<pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">&gt;</span>
<span class="keyword">struct</span> <span class="identifier">function_traits</span>
<span class="special">{</span>
   <span class="keyword">static</span> <span class="keyword">const</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span>    <span class="identifier">arity</span> <span class="special">=</span> <em class="replaceable"><code>see-below</code></em><span class="special">;</span>
   <span class="keyword">typedef</span> <em class="replaceable"><code>see-below</code></em>           <span class="identifier">result_type</span><span class="special">;</span>
   <span class="keyword">typedef</span> <em class="replaceable"><code>see-below</code></em>           arg<em class="replaceable"><code>N</code></em>_type<span class="special">;</span> <br><span class="special">};</span>
</pre>

<p>这个类模板只有在：</p>

<div class="itemizedlist">
<ul type="disc">
  <li>编译器支持类模板的偏特化时。 
  </li>
  <li>模板参数 <code class="computeroutput"><span class="identifier">T</span></code> 是一个 
    <span class="emphasis"><em>function type（函数类型）</em></span>，注意这和一个 <span class="emphasis"><em>pointer to a function（指向函数的指针）</em></span><span class="emphasis"><em><span class="bold"><strong>不是</strong></span></em></span>一样的东西。 
  </li>
</ul>
</div>

<p>才可以编译。</p>
<div class="tip">
<table summary="Tip" border="0">

  <tbody>
    <tr>

      <td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="../../../../../../doc/html/images/tip.png"></td>

      <th align="left">提示</th>

    </tr>

    <tr>
      <td align="left" valign="top">
      <p>
          function_traits 只能用于形如
          R (), R( A1 ), R ( A1, ... 等等)的C++函数，而非函数指针或类成员函数。要将函数指针转换为适用的类型，请使用 <a class="link" href="remove_pointer.html" title="remove_pointer">remove_pointer</a>。
        </p>
      </td>
    </tr>

  </tbody>
</table>
</div>

<div class="table">
<a name="id2653139"></a>
<p class="title"><b>表&nbsp;1.12.&nbsp;Function Traits 成员</b></p>

<div class="table-contents">
<table class="table" summary="Function Traits Members">

  <colgroup><col><col></colgroup>
  <thead><tr>

    <th>
            
    <p>成员
            </p>

            </th>

    <th>
            
    <p>说明
            </p>

            </th>

  </tr>
  </thead>
  <tbody>

    <tr>

      <td>
            
      <p>
              <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;::</span><span class="identifier">arity</span></code>
            </p>

            </td>

      <td>
            
      <p>一个给出 function type（函数类型）<code class="computeroutput"><span class="identifier">F</span></code> 接收的参数的个数的 integral constant expression（整常表达式）。&nbsp;
            </p>

            </td>

    </tr>

    <tr>

      <td>
            
      <p>
              <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;::</span><span class="identifier">result_type</span></code>
            </p>

            </td>

      <td>
            
      <p>
              function type（函数类型）<code class="computeroutput"><span class="identifier">F</span></code> 的返回类型。
            </p>

            </td>

    </tr>

    <tr>

      <td>
            
      <p>
              <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;::</span>arg<em class="replaceable"><code>N</code></em>_type</code>
            </p>

            </td>

      <td>
            
      <p>当 <code class="computeroutput"><span class="number">1</span> <span class="special">&lt;=</span> <span class="identifier">N</span> <span class="special">&lt;=</span> <span class="identifier">arity</span></code> of <code class="computeroutput"><span class="identifier">F</span></code> 时，function 
type（函数类型）<code class="computeroutput"><span class="identifier">F</span></code> 的第 
      <em class="replaceable"><code>N</code></em> 个参数类型。
            </p>

            </td>

    </tr>

  </tbody>
</table>
</div>

</div>

<br class="table-break">
<div class="table">
<a name="id2653391"></a>
<p class="title"><b>表&nbsp;1.13. 示例</b></p>

<div class="table-contents">
<table class="table" summary="Examples">

  <colgroup><col><col></colgroup>
  <thead><tr>

    <th>
            
    <p>表达式</p>

            </th>

    <th>
            
    <p>结果
            </p>

            </th>

  </tr>
  </thead>
  <tbody>

    <tr>

      <td>
            
      <p>
              <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">void</span> <span class="special">(</span><span class="keyword">void</span><span class="special">)&gt;::</span><span class="identifier">arity</span></code>
            </p>

            </td>

      <td>
            
      <p>一个值为 0 的 integral constant expression（整常表达式）。
            </p>

            </td>

    </tr>

    <tr>

      <td>
            
      <p>
              <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">long</span> <span class="special">(</span><span class="keyword">int</span><span class="special">)&gt;::</span><span class="identifier">arity</span></code>
            </p>

            </td>

      <td>
            
      <p>一个值为 1 的 integral constant expression（整常表达式）。
            </p>

            </td>

    </tr>

    <tr>

      <td>
            
      <p>
              <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">long</span> <span class="special">(</span><span class="keyword">int</span><span class="special">,</span> <span class="keyword">long</span><span class="special">,</span> <span class="keyword">double</span><span class="special">,</span> <span class="keyword">void</span><span class="special">*)&gt;::</span><span class="identifier">arity</span></code>
            </p>

            </td>

      <td>
            
      <p>一个值为 4 的 integral constant expression（整常表达式）。
            </p>

            </td>

    </tr>

    <tr>

      <td>
            
      <p>
              <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">void</span> <span class="special">(</span><span class="keyword">void</span><span class="special">)&gt;::</span><span class="identifier">result_type</span></code>
            </p>

            </td>

      <td>
            
      <p>类型 <code class="computeroutput"><span class="keyword">void</span></code>.
            </p>

            </td>

    </tr>

    <tr>

      <td>
            
      <p>
              <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">long</span> <span class="special">(</span><span class="keyword">int</span><span class="special">)&gt;::</span><span class="identifier">result_type</span></code>
            </p>

            </td>

      <td>
            
      <p>类型 <code class="computeroutput"><span class="keyword">long</span></code>.
            </p>

            </td>

    </tr>

    <tr>

      <td>
            
      <p>
              <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">long</span> <span class="special">(</span><span class="keyword">int</span><span class="special">)&gt;::</span><span class="identifier">arg1_type</span></code>
            </p>

            </td>

      <td>
            
      <p>类型 <code class="computeroutput"><span class="keyword">int</span></code>.
            </p>

            </td>

    </tr>

    <tr>

      <td>
            
      <p>
              <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">long</span> <span class="special">(</span><span class="keyword">int</span><span class="special">,</span> <span class="keyword">long</span><span class="special">,</span> <span class="keyword">double</span><span class="special">,</span> <span class="keyword">void</span><span class="special">*)&gt;::</span><span class="identifier">arg4_type</span></code>
            </p>

            </td>

      <td>
            
      <p>类型 <code class="computeroutput"><span class="keyword">void</span><span class="special">*</span></code>.
            </p>

            </td>

    </tr>

    <tr>

      <td>
            
      <p>
              <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">long</span> <span class="special">(</span><span class="keyword">int</span><span class="special">,</span> <span class="keyword">long</span><span class="special">,</span> <span class="keyword">double</span><span class="special">,</span> <span class="keyword">void</span><span class="special">*)&gt;::</span><span class="identifier">arg5_type</span></code>
            </p>

            </td>

      <td>
            
      <p>一个编译器错误：没有 <code class="computeroutput"><span class="identifier">arg5_type</span></code> 因为只有 4 个参数。
            </p>

            </td>

    </tr>

    <tr>

      <td>
            
      <p>
              <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">long</span> <span class="special">(*)(</span><span class="keyword">void</span><span class="special">)&gt;::</span><span class="identifier">arity</span></code>
            </p>

            </td>

      <td>
            
      <p>一个编译器错误：参数类型是一个 <span class="emphasis"><em>function pointer</em></span>，而不是一个 
      <span class="emphasis"><em>function type</em></span>。
            </p>

            </td>

    </tr>

  </tbody>
</table>
</div>

</div>

<br class="table-break">

</div>

<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%">
  <tbody>
    <tr>

      <td align="left"></td>

      <td align="right">
      <div class="copyright-footer">Copyright © 2000, 2006 Adobe Systems Inc, David Abrahams,
      Steve Cleary, Beman Dawes, Aleksey Gurtovoy, Howard Hinnant, Jesse Jones, Mat
      Marcus, Itay Maman, John Maddock, Alexander Nasonov, Thorsten Ottosen, Robert
      Ramey and Jeremy Siek
      <p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>

      </div>
      </td>

    </tr>
  </tbody>
</table>

<hr>
<div class="spirit-nav">
<a accesskey="p" href="floating_point_promotion.html"><img src="../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../reference.html"><img src="../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="has_new_operator.html"><img style="border: 0px solid ; width: 19px; height: 19px;" src="../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>

</body></html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Portability &#21487;&#31227;&#26893;&#24615;</title>
<link rel="stylesheet" href="../../../../../doc/html/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="../index.html" title="Chapter&#160;1.&#160;Range 2.0">
<link rel="up" href="../index.html" title="Chapter&#160;1.&#160;Range 2.0">
<link rel="prev" href="upgrade/upgrade_from_1_34.html" title="Upgrade from version 1.34 &#20174;&#29256;&#26412;1.34&#21319;&#32423;">
<link rel="next" href="faq.html" title="FAQ">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../boost.png"></td>
<td align="center"><a href="../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="upgrade/upgrade_from_1_34.html"><img src="../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="faq.html"><img src="../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="range.portability"></a><a class="link" href="portability.html" title="Portability &#21487;&#31227;&#26893;&#24615;"> Portability &#21487;&#31227;&#26893;&#24615;</a>
</h2></div></div></div>
<p>
      A huge effort has been made to port the library to as many compilers as possible.<br>
      &#20026;&#20102;&#23558;&#36825;&#20010;&#24211;&#31227;&#26893;&#21040;&#23613;&#21487;&#33021;&#22810;&#30340;&#32534;&#35793;&#22120;&#19978;&#65292;&#25105;&#20204;&#20316;&#20986;&#20102;&#24040;&#22823;&#30340;&#21162;&#21147;&#12290;
    </p>
<p>
      Full support for built-in arrays require that the compiler supports class template
      partial specialization. For non-conforming compilers there might be a chance
      that it works anyway thanks to workarounds in the type traits library. Visual
      C++ 6/7.0 has a limited support for arrays: as long as the arrays are of built-in
      type it should work.<br> &#20026;&#20102;&#20840;&#38754;&#25903;&#25345;&#20869;&#24314;&#25968;&#32452;&#65292;&#35201;&#27714;&#32534;&#35793;&#22120;&#25903;&#25345;&#31867;&#27169;&#26495;&#20559;&#29305;&#21270;&#12290;&#23545;&#20110;&#19981;&#31526;&#21512;&#26631;&#20934;&#30340;&#32534;&#35793;&#22120;&#65292;&#20063;&#26377;&#26426;&#20250;&#29992;
      type traits &#24211;&#26469;&#32469;&#36807;&#12290; Visual C++ 6/7.0 &#23545;&#20110;&#25968;&#32452;&#30340;&#25903;&#25345;&#26377;&#38480;&#65306;&#21482;&#35201;&#25968;&#32452;&#26159;&#20869;&#24314;&#31867;&#22411;&#30340;&#65292;&#23427;&#23601;&#21487;&#20197;&#24037;&#20316;&#12290;
    </p>
<p>
      Notice also that some compilers cannot do function template ordering properly.
      In that case one must rely of <a class="link" href="reference/concept_implementation/semantics/metafunctions.html" title="Metafunctions &#20803;&#20989;&#25968;"><code class="computeroutput"><span class="identifier">range_iterator</span></code></a> and a single function
      definition instead of overloaded versions for const and non-const arguments.
      So if one cares about old compilers, one should not pass rvalues to the functions.<br>
      &#36824;&#35201;&#27880;&#24847;&#65292;&#26377;&#20123;&#32534;&#35793;&#22120;&#19981;&#33021;&#27491;&#30830;&#25191;&#34892;&#20989;&#25968;&#27169;&#26495;&#30340;&#25490;&#24207;&#12290;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#20320;&#24517;&#39035;&#20381;&#36182;
      <a class="link" href="reference/concept_implementation/semantics/metafunctions.html" title="Metafunctions &#20803;&#20989;&#25968;"><code class="computeroutput"><span class="identifier">range_iterator</span></code></a>&#65292;&#24182;&#23450;&#20041;&#21333;&#20010;&#20989;&#25968;&#32780;&#19981;&#26159;&#20998;&#21035;&#38024;&#23545;
      const &#21644; non-const &#21442;&#25968;&#36827;&#34892;&#37325;&#36733;&#12290;&#25152;&#20197;&#22914;&#26524;&#20320;&#29992;&#30340;&#26159;&#26087;&#30340;&#32534;&#35793;&#22120;&#65292;&#23601;&#19981;&#33021;&#20256;&#36882;&#21491;&#20540;&#32473;&#20989;&#25968;&#20102;&#12290;
    </p>
<p>
      For maximum portability you should follow these guidelines:<br> &#20026;&#20102;&#26368;&#22823;&#30340;&#21487;&#31227;&#26893;&#24615;&#65292;&#20320;&#24212;&#35813;&#36981;&#20174;&#20197;&#19979;&#26041;&#38024;&#65306;
    </p>
<div class="orderedlist"><ol type="1">
<li>
        do not use built-in arrays,<br> &#19981;&#35201;&#20351;&#29992;&#20869;&#24314;&#25968;&#32452;&#65292;
      </li>
<li>
        do not pass rvalues to <a class="link" href="reference/concept_implementation/semantics/functions.html" title="Functions &#20989;&#25968;"><code class="computeroutput"><span class="identifier">begin</span></code></a><code class="computeroutput"><span class="special">()</span></code>,
        <a class="link" href="reference/concept_implementation/semantics/functions.html" title="Functions &#20989;&#25968;"><code class="computeroutput"><span class="identifier">end</span></code></a><code class="computeroutput"><span class="special">()</span></code>
        and <a class="link" href="reference/utilities/iterator_range.html" title="Class iterator_range"><code class="computeroutput"><span class="identifier">iterator_range</span></code></a> Range constructors
        and assignment operators,<br> &#19981;&#35201;&#20256;&#36882;&#21491;&#20540;&#32473; <a class="link" href="reference/concept_implementation/semantics/functions.html" title="Functions &#20989;&#25968;"><code class="computeroutput"><span class="identifier">begin</span></code></a><code class="computeroutput"><span class="special">()</span></code>,
        <a class="link" href="reference/concept_implementation/semantics/functions.html" title="Functions &#20989;&#25968;"><code class="computeroutput"><span class="identifier">end</span></code></a><code class="computeroutput"><span class="special">()</span></code>
        &#21644; <a class="link" href="reference/utilities/iterator_range.html" title="Class iterator_range"><code class="computeroutput"><span class="identifier">iterator_range</span></code></a> &#21306;&#38388;&#26500;&#36896;&#20989;&#25968;&#21644;&#36171;&#20540;&#25805;&#20316;&#31526;&#65292;
      </li>
<li>
        use <a class="link" href="reference/concept_implementation/semantics/functions.html" title="Functions &#20989;&#25968;"><code class="computeroutput"><span class="identifier">const_begin</span></code></a><code class="computeroutput"><span class="special">()</span></code>
        and <a class="link" href="reference/concept_implementation/semantics/functions.html" title="Functions &#20989;&#25968;"><code class="computeroutput"><span class="identifier">const_end</span></code></a><code class="computeroutput"><span class="special">()</span></code>
        whenever your code by intention is read-only; this will also solve most rvalue
        problems,<br> &#20351;&#29992; <a class="link" href="reference/concept_implementation/semantics/functions.html" title="Functions &#20989;&#25968;"><code class="computeroutput"><span class="identifier">const_begin</span></code></a><code class="computeroutput"><span class="special">()</span></code>
        &#21644; <a class="link" href="reference/concept_implementation/semantics/functions.html" title="Functions &#20989;&#25968;"><code class="computeroutput"><span class="identifier">const_end</span></code></a><code class="computeroutput"><span class="special">()</span></code>
        &#21482;&#35201;&#20320;&#30340;&#20195;&#30721;&#24847;&#22270;&#26159;&#21482;&#35835;&#30340;&#65307;&#36825;&#21487;&#20197;&#35299;&#20915;&#22823;&#22810;&#25968;&#30340;&#21491;&#20540;&#38382;&#39064;&#65292;
      </li>
<li>
        do not rely on ADL:<br> &#19981;&#35201;&#20381;&#36182;&#20110; ADL:
        <div class="itemizedlist"><ul type="disc">
<li>
            if you overload functions, include that header before the headers in
            this library,<br> &#22914;&#26524;&#20320;&#37325;&#36733;&#20102;&#20989;&#25968;&#65292;&#23601;&#35201;&#22312;&#26412;&#24211;&#30340;&#22836;&#25991;&#20214;&#20043;&#21069;&#21253;&#21547;&#20320;&#30340;&#22836;&#25991;&#20214;&#65292;
          </li>
<li>
            put all overloads in namespace boost. <br> &#23558;&#25152;&#26377;&#37325;&#36733;&#25918;&#20837;&#21517;&#23383;&#31354;&#38388;
            boost.
          </li>
</ul></div>
</li>
</ol></div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2003 -2010 Thorsten Ottosen, Neil Groves<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="upgrade/upgrade_from_1_34.html"><img src="../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="faq.html"><img src="../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>

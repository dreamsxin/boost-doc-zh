<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Introduction &#31616;&#20171;</title>
<link rel="stylesheet" href="../../../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="../index.html" title="Chapter&#160;1.&#160;Range 2.0">
<link rel="up" href="../index.html" title="Chapter&#160;1.&#160;Range 2.0">
<link rel="prev" href="../index.html" title="Chapter&#160;1.&#160;Range 2.0">
<link rel="next" href="concepts.html" title="Range Concepts Range&#27010;&#24565;">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../boost.png"></td>
<td align="center"><a href="../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../index.html"><img src="../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="concepts.html"><img src="../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="range.introduction"></a><a class="link" href="introduction.html" title="Introduction &#31616;&#20171;"> Introduction &#31616;&#20171;</a>
</h2></div></div></div>
<p>
      Generic algorithms have so far been specified in terms of two or more iterators.
      Two iterators would together form a range of values that the algorithm could
      work on. This leads to a very general interface, but also to a somewhat clumsy
      use of the algorithms with redundant specification of container names. Therefore
      we would like to raise the abstraction level for algorithms so they specify
      their interface in terms of <a class="link" href="concepts.html" title="Range Concepts Range&#27010;&#24565;">Ranges</a> as
      much as possible.<br> &#24403;&#21069;&#30340;&#27867;&#22411;&#31639;&#27861;&#26159;&#20381;&#25454;&#20004;&#20010;&#25110;&#22810;&#20010;&#36845;&#20195;&#22120;&#26469;&#24037;&#20316;&#30340;&#12290;&#20004;&#20010;&#36845;&#20195;&#22120;&#19968;&#36215;&#24418;&#25104;&#20102;&#31639;&#27861;&#25152;&#25805;&#20316;&#30340;&#20540;&#30340;&#21306;&#38388;&#12290;
      &#36825;&#31181;&#26041;&#27861;&#26159;&#19968;&#31181;&#38750;&#24120;&#36890;&#29992;&#30340;&#25509;&#21475;&#65292;&#20294;&#26159;&#20351;&#29992;&#31639;&#27861;&#26102;&#20063;&#26377;&#28857;&#40635;&#28902;&#65292;&#24120;&#24120;&#35201;&#37325;&#22797;&#25351;&#23450;&#23481;&#22120;&#30340;&#21517;&#23383;&#12290;
      &#22240;&#27492;&#25105;&#20204;&#24076;&#26395;&#25552;&#21319;&#31639;&#27861;&#30340;&#25277;&#35937;&#23618;&#27425;&#65292;&#20351;&#23427;&#20204;&#23613;&#21487;&#33021;&#20197; <a class="link" href="concepts.html" title="Range Concepts Range&#27010;&#24565;">Ranges</a> &#26469;&#25351;&#23450;&#25509;&#21475;&#12290;
    </p>
<p>
      The most common form of ranges used throughout the C++ community are standard
      library containers. When writing algorithms however, one often finds it desirable
      for the algorithm to accept other types that offer enough functionality to
      satisfy the needs of the generic code <span class="bold"><strong><span class="emphasis"><em>if a
      suitable layer of indirection is applied</em></span></strong></span> . For example,
      raw arrays are often suitable for use with generic code that works with containers,
      provided a suitable adapter is used. Likewise, null terminated strings can
      be treated as containers of characters, if suitably adapted.<br> C++&#31038;&#21306;&#20013;&#26368;&#24120;&#35265;&#30340;&#21306;&#38388;&#24418;&#24335;&#26159;&#26631;&#20934;&#24211;&#30340;&#23481;&#22120;&#12290;&#19981;&#36807;&#22312;&#32534;&#20889;&#31639;&#27861;&#26102;&#65292;&#20320;&#24120;&#20250;&#21457;&#29616;&#65292;<span class="bold"><strong>/&#22914;&#26524;&#26377;&#19968;&#20010;&#21512;&#36866;&#30340;&#38388;&#25509;&#23618;/</strong></span>&#65292; &#24212;&#35813;&#35753;&#31639;&#27861;&#25509;&#21463;&#20854;&#23427;&#21487;&#25552;&#20379;&#36275;&#22815;&#21151;&#33021;&#30340;&#31867;&#22411;&#65292;&#20197;&#28385;&#36275;&#27867;&#22411;&#20195;&#30721;&#30340;&#38656;&#35201;&#12290;
      &#20363;&#22914;&#65292;&#35064;&#25968;&#32452;&#24120;&#24120;&#21487;&#20197;&#19982;&#29992;&#20110;&#23481;&#22120;&#30340;&#27867;&#22411;&#20195;&#30721;&#19968;&#36215;&#20351;&#29992;&#65292;&#21482;&#35201;&#20351;&#29992;&#19968;&#20010;&#36866;&#21512;&#30340;&#36866;&#37197;&#22120;&#12290;
      &#21516;&#26679;&#30340;&#65292;null&#32467;&#23614;&#30340;&#23383;&#31526;&#20018;&#20063;&#21487;&#34987;&#35270;&#20026;&#23383;&#31526;&#23481;&#22120;&#65292;&#22914;&#26524;&#32463;&#36807;&#36866;&#24403;&#30340;&#36866;&#37197;&#12290;
    </p>
<p>
      This library therefore provides the means to adapt standard-like containers,
      null terminated strings, <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">pairs</span></code> of
      iterators, and raw arrays (and more), such that the same generic code can work
      with them all. The basic idea is to add another layer of indirection using
      <a href="../../../../../libs/mpl/doc/refmanual/metafunction.html" target="_top">metafunctions</a>
      and free-standing functions so syntactic and/or semantic differences can be
      removed.<br> &#22240;&#27492;&#36825;&#20010;&#24211;&#25552;&#20379;&#20102;&#23545;&#36817;&#20284;&#20110;&#26631;&#20934;&#30340;&#23481;&#22120;&#12289;&#20197;&#31354;&#23383;&#31526;&#32467;&#26463;&#30340;&#23383;&#31526;&#20018;&#12289;&#36845;&#20195;&#22120;&#30340;
      <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">pairs</span></code>&#65292;&#20197;&#21450;&#35064;&#25968;&#32452;(&#21450;&#20854;&#23427;)&#36827;&#34892;&#25913;&#32534;&#30340;&#26041;&#27861;&#65292;
      &#20197;&#20415;&#21516;&#19968;&#27573;&#27867;&#22411;&#20195;&#30721;&#21487;&#20197;&#21644;&#23427;&#20204;&#19968;&#36215;&#20351;&#29992;&#12290;&#22522;&#26412;&#30340;&#24819;&#27861;&#26159;&#29992;
      <a href="../../../../../libs/mpl/doc/refmanual/metafunction.html" target="_top">metafunctions</a>
      &#21644;&#29420;&#31435;&#30340;&#20989;&#25968;&#22686;&#21152;&#19968;&#20010;&#38388;&#25509;&#23618;&#65292;&#20197;&#21435;&#38500;&#35821;&#27861;&#21644;/&#25110;&#35821;&#20041;&#19978;&#30340;&#24046;&#21035;&#12290;
    </p>
<p>
      The main advantages are<br> &#20027;&#35201;&#30340;&#22909;&#22788;&#26377;&#65306;
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
          simpler implementation and specification of generic range algorithms<br>
          &#27867;&#22411;&#30340;&#21306;&#38388;&#31639;&#27861;&#30340;&#26356;&#31616;&#21333;&#30340;&#23454;&#29616;&#21644;&#35268;&#33539;
        </li>
<li class="listitem">
          more flexible, compact and maintainable client code<br> &#26356;&#28789;&#27963;&#12289;&#32039;&#20945;&#21644;&#21487;&#32500;&#25252;&#30340;&#23458;&#25143;&#20195;&#30721;
        </li>
<li class="listitem">
          safe use of built-in arrays (for legacy code; why else would you use built-in
          arrays?)<br> &#23433;&#20840;&#20351;&#29992;&#20869;&#24314;&#25968;&#32452;(&#23545;&#20110;&#36951;&#30041;&#20195;&#30721;&#65307;&#20320;&#20026;&#20160;&#20040;&#36824;&#35201;&#20351;&#29992;&#20869;&#24314;&#25968;&#25454;&#65311;)
        </li>
</ul></div>
<a name="range.introduction.example___iterate_over_the_values_in_a_map____map_____________________"></a><h4>
<a name="id5047881"></a>
      <a class="link" href="introduction.html#range.introduction.example___iterate_over_the_values_in_a_map____map_____________________">Example
      - Iterate over the values in a map &#23545;map&#20013;&#30340;&#20540;&#36827;&#34892;&#36845;&#20195;</a>
    </h4>
<p>
      
</p>
<pre class="programlisting"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">boost</span><span class="special">;</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">adaptors</span><span class="special">;</span>
<span class="identifier">for_each</span><span class="special">(</span> <span class="identifier">my_map</span> <span class="special">|</span> <span class="identifier">map_values</span><span class="special">,</span> <span class="identifier">fn</span> <span class="special">);</span>
</pre>
<p>
    </p>
<a name="range.introduction.example___iterate_over_the_keys_in_a_map____map_____________________"></a><h4>
<a name="id5045313"></a>
      <a class="link" href="introduction.html#range.introduction.example___iterate_over_the_keys_in_a_map____map_____________________">Example
      - Iterate over the keys in a map &#23545;map&#20013;&#30340;&#38190;&#36827;&#34892;&#36845;&#20195;</a>
    </h4>
<p>
      
</p>
<pre class="programlisting"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">boost</span><span class="special">;</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">adaptors</span><span class="special">;</span>
<span class="identifier">for_each</span><span class="special">(</span> <span class="identifier">my_map</span> <span class="special">|</span> <span class="identifier">map_keys</span><span class="special">,</span> <span class="identifier">fn</span> <span class="special">);</span>
</pre>
<p>
    </p>
<a name="range.introduction.example___push_the_even_values_from_a_map_in_reverse_order_into_the_container__code__phrase_role__identifier__target__phrase___code_____map_____________________________________code__phrase_role__identifier__target__phrase___code_"></a><h4>
<a name="id5045450"></a>
      <a class="link" href="introduction.html#range.introduction.example___push_the_even_values_from_a_map_in_reverse_order_into_the_container__code__phrase_role__identifier__target__phrase___code_____map_____________________________________code__phrase_role__identifier__target__phrase___code_">Example
      - Push the even values from a map in reverse order into the container <code class="computeroutput"><span class="identifier">target</span></code> &#23558;map&#20013;&#30340;&#20598;&#25968;&#20540;&#20197;&#21453;&#24207;&#25554;&#20837;&#23481;&#22120;<code class="computeroutput"><span class="identifier">target</span></code></a>
    </h4>
<p>
      
</p>
<pre class="programlisting"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">boost</span><span class="special">;</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">adaptors</span><span class="special">;</span>
<span class="comment">// Assume that is_even is a predicate that has been implemented elsewhere...
</span><span class="identifier">push_back</span><span class="special">(</span><span class="identifier">target</span><span class="special">,</span> <span class="identifier">my_map</span> <span class="special">|</span> <span class="identifier">map_values</span> <span class="special">|</span> <span class="identifier">filtered</span><span class="special">(</span><span class="identifier">is_even</span><span class="special">())</span> <span class="special">|</span> <span class="identifier">reversed</span><span class="special">);</span>
</pre>
<p>
    </p>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2003 -2010 Thorsten Ottosen, Neil Groves<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../index.html"><img src="../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="concepts.html"><img src="../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>

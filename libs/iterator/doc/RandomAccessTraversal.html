<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

  <meta name="generator" content="Docutils 0.5: http://docutils.sourceforge.net/" />


  <title>Random Access Traversal Concept</title>
  <link rel="stylesheet" href="../../../rst.css" type="text/css" />
</head>



<body>

<div class="document" id="random-access-traversal-concept">
<h1 class="title">随机访问遍历概念</h1>


<!-- Copyright David Abrahams 2006. Distributed under the Boost -->
<!-- Software License, Version 1.0. (See accompanying -->
<!-- file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt) -->
<p>一个类或内建类型 <tt class="docutils literal"><span class="pre">X</span></tt> 符合 <em>Random Access Traversal
Iterator随机访问遍历迭代器</em> 概念，如果以下表达式有效且遵从规定的语义。在下表中，<tt class="docutils literal"><span class="pre">Distance</span></tt> 是
<tt class="docutils literal"><span class="pre">iterator_traits&lt;X&gt;::difference_type</span></tt> 而 <tt class="docutils literal"><span class="pre">n</span></tt> 表示类型 <tt class="docutils literal"><span class="pre">Distance</span></tt> 的一个常量对象。</p>
















  
<table class="docutils" border="1">
  <colgroup><col width="28%" /><col width="30%" /><col width="23%" /><col width="20%" /></colgroup>
  <thead valign="bottom">
  <tr>







    <th class="head" colspan="4">随机访问遍历迭代器要求 (除了双向遍历迭代器以外)</th>








  </tr>








  <tr>







    <th class="head">表达式</th>








    <th class="head">返回类型</th>








    <th class="head">操作语义</th>








    <th class="head">断言/前提条件</th>








  </tr>








  </thead>
  <tbody valign="top">








    <tr>







      <td><tt class="docutils literal"><span class="pre">r</span> <span class="pre">+=</span> <span class="pre">n</span></tt></td>








      <td><tt class="docutils literal"><span class="pre">X&amp;</span></tt></td>








      <td>
      
      
      
      
      
      
      
      <pre class="first last literal-block">{<br />  Distance m = n;<br />  if (m &gt;= 0)<br />    while (m--)<br />      ++r;<br />  else<br />    while (m++)<br />      --r;<br />  return r;<br />}<br /></pre>








      </td>








      <td>&nbsp;</td>








    </tr>








    <tr>







      <td><tt class="docutils literal"><span class="pre">a</span> <span class="pre">+</span> <span class="pre">n</span></tt>, <tt class="docutils literal"><span class="pre">n</span> <span class="pre">+</span> <span class="pre">a</span></tt></td>








      <td><tt class="docutils literal"><span class="pre">X</span></tt></td>








      <td><tt class="docutils literal"><span class="pre">{</span> <span class="pre">X</span> <span class="pre">tmp</span> <span class="pre">=</span> <span class="pre">a;</span> <span class="pre">return</span> <span class="pre">tmp</span>
      <span class="pre">+=</span> <span class="pre">n;</span> <span class="pre">}</span></tt></td>








      <td>&nbsp;</td>








    </tr>








    <tr>







      <td><tt class="docutils literal"><span class="pre">r</span> <span class="pre">-=</span> <span class="pre">n</span></tt></td>








      <td><tt class="docutils literal"><span class="pre">X&amp;</span></tt></td>








      <td><tt class="docutils literal"><span class="pre">return</span> <span class="pre">r</span> <span class="pre">+=</span> <span class="pre">-n</span></tt></td>








      <td>&nbsp;</td>








    </tr>








    <tr>







      <td><tt class="docutils literal"><span class="pre">a</span> <span class="pre">-</span> <span class="pre">n</span></tt></td>








      <td><tt class="docutils literal"><span class="pre">X</span></tt></td>








      <td><tt class="docutils literal"><span class="pre">{</span> <span class="pre">X</span> <span class="pre">tmp</span> <span class="pre">=</span> <span class="pre">a;</span> <span class="pre">return</span> <span class="pre">tmp</span>
      <span class="pre">-=</span> <span class="pre">n;</span> <span class="pre">}</span></tt></td>








      <td>&nbsp;</td>








    </tr>








    <tr>







      <td><tt class="docutils literal"><span class="pre">b</span> <span class="pre">-</span> <span class="pre">a</span></tt></td>








      <td><tt class="docutils literal"><span class="pre">Distance</span></tt></td>








      <td><tt class="docutils literal"><span class="pre">a</span> <span class="pre">&lt;</span> <span class="pre">b</span> <span class="pre">?</span>&nbsp; <span class="pre">distance(a,b)</span>
      <span class="pre">:</span> <span class="pre">-distance(b,a)</span></tt></td>








      <td>前提：存在一个<tt class="docutils literal"><span class="pre"></span></tt>
      <tt class="docutils literal"><span class="pre">Distance</span></tt> 的值 <tt class="docutils literal"><span class="pre">n</span></tt> 使得
      <tt class="docutils literal"><span class="pre">a</span> <span class="pre">+</span> <span class="pre">n</span> <span class="pre">==</span> <span class="pre">b</span></tt>.  <tt class="docutils literal"><span class="pre">b</span>
      <span class="pre">==</span> <span class="pre">a</span> <span class="pre">+</span> <span class="pre">(b</span> <span class="pre">-</span> <span class="pre">a)</span></tt>.</td>








    </tr>








    <tr>







      <td><tt class="docutils literal"><span class="pre">a[n]</span></tt></td>








      <td>可转换为 T</td>








      <td><tt class="docutils literal"><span class="pre">*(a</span> <span class="pre">+</span> <span class="pre">n)</span></tt></td>








      <td>前提：a 是一个 <a class="reference internal" href="new-iter-concepts.html#readable-iterator">可读迭代器</a></td>








    </tr>








    <tr>







      <td><tt class="docutils literal"><span class="pre">a[n]</span> <span class="pre">=</span> <span class="pre">v</span></tt></td>








      <td>可转换为&nbsp;T</td>








      <td><tt class="docutils literal"><span class="pre">*(a</span> <span class="pre">+</span> <span class="pre">n)</span> <span class="pre">=</span> <span class="pre">v</span></tt></td>








      <td>前提：a 是一个 <a class="reference internal" href="new-iter-concepts.html#writable-iterator">可写迭代器</a></td>








    </tr>








    <tr>







      <td><tt class="docutils literal"><span class="pre">a</span> <span class="pre">&lt;</span> <span class="pre">b</span></tt></td>








      <td>可转换为&nbsp;<tt class="docutils literal"><span class="pre">bool</span></tt></td>








      <td><tt class="docutils literal"><span class="pre">b</span> <span class="pre">-</span> <span class="pre">a</span> <span class="pre">&gt;</span> <span class="pre">0</span></tt></td>








      <td><tt class="docutils literal"><span class="pre">&lt;</span></tt> 是一个全序关系</td>








    </tr>








    <tr>







      <td><tt class="docutils literal"><span class="pre">a</span> <span class="pre">&gt;</span> <span class="pre">b</span></tt></td>








      <td>可转换为&nbsp;<tt class="docutils literal"><span class="pre">bool</span></tt></td>








      <td><tt class="docutils literal"><span class="pre">b</span> <span class="pre">&lt;</span> <span class="pre">a</span></tt></td>








      <td><tt class="docutils literal"><span class="pre">&gt;</span></tt> 是一个全序关系</td>








    </tr>








    <tr>







      <td><tt class="docutils literal"><span class="pre">a</span> <span class="pre">&gt;=</span> <span class="pre">b</span></tt></td>








      <td>可转换为&nbsp;<tt class="docutils literal"><span class="pre">bool</span></tt></td>








      <td><tt class="docutils literal"><span class="pre">!(a</span> <span class="pre">&lt;</span> <span class="pre">b)</span></tt></td>








      <td>&nbsp;</td>








    </tr>








    <tr>







      <td><tt class="docutils literal"><span class="pre">a</span> <span class="pre">&lt;=</span> <span class="pre">b</span></tt></td>








      <td>可转换为&nbsp;<tt class="docutils literal"><span class="pre">bool</span></tt></td>








      <td><tt class="docutils literal"><span class="pre">!(a</span> <span class="pre">&gt;</span> <span class="pre">b)</span></tt></td>








      <td>&nbsp;</td>








    </tr>








    <tr>







      <td><tt class="docutils literal"><span class="pre">iterator_traversal&lt;X&gt;::type</span></tt></td>








      <td>可转换为&nbsp;<tt class="docutils literal"><span class="pre">random_access_traversal_tag</span></tt></td>








      <td>&nbsp;</td>








      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>
<br />
<br />
</div>

<div class="footer">
<hr class="footer" />
<a class="reference external" href="RandomAccessTraversal.rst">View document source</a>.
Generated by <a class="reference external" href="http://docutils.sourceforge.net/">Docutils</a> from <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> source.

</div>

</body>
</html>

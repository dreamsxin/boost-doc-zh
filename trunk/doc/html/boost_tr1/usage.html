<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>



  
  
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">




  
  
  
  
  <title>Usage</title>
  <link rel="stylesheet" href="../boostbook.css" type="text/css">



  
  
  <meta name="generator" content="DocBook XSL Stylesheets V1.68.1">



  
  
  <link rel="start" href="../index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">



  
  
  <link rel="up" href="../boost_tr1.html" title="Chapter&nbsp;16.&nbsp;Boost.TR1">



  
  
  <link rel="prev" href="../boost_tr1.html" title="Chapter&nbsp;16.&nbsp;Boost.TR1">



  
  
  <link rel="next" href="config.html" title=" Configuration">
</head>


<body alink="#0000ff" bgcolor="white" link="#0000ff" text="black" vlink="#840084">



<table cellpadding="2" width="100%">



  <tbody>


    <tr>


      <td valign="top"><img alt="Boost C++ Libraries" src="../../../boost.png" height="86" width="277"></td>



      <td align="center"><a href="../../../index.htm">Home</a></td>



      <td align="center"><a href="../../../libs/libraries.htm">Libraries</a></td>



      <td align="center"><a href="../../../people/people.htm">People</a></td>



      <td align="center"><a href="../../../more/faq.htm">FAQ</a></td>



      <td align="center"><a href="../../../more/index.htm">More</a></td>



    </tr>


  
  
  </tbody>
</table>



<hr>
<div class="spirit-nav">
<a accesskey="p" href="../boost_tr1.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../boost_tr1.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="config.html"><img src="../images/next.png" alt="Next"></a>
</div>



<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both;">
<a name="boost_tr1.usage"></a>用法</h2>


</div>


</div>


</div>



<div class="toc">
<dl>



  <dt><span class="section"><a href="usage.html#boost_tr1.native"> 是否使用原生的 TR1 库</a></span></dt>



  <dt><span class="section"><a href="usage.html#boost_tr1.include_style">头文件包含风格</a></span></dt>
  <dt><a href="usage.html#boost_tr1.include_style"><span class="section"><a href="usage.html#boost_tr1.usage.writing_code">编写代码</a></span></a></dt>



</dl>


</div>



<p>在使用 Boost.TR1 库之前，有两件事情你必须要决定：是否使用你的标准库中的原生 TR1 实现(如果有的话)，以及使用哪一种头文件包含风格。
    </p>



<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="boost_tr1.native"></a>是否使用原生的 TR1 库</h3>


</div>


</div>


</div>



<p>如果你的标准库实现了 TR1，而你也想使用它，而不是使用 Boost 的等价物，那么你就需要一些动作来使用它：这些动作可能是一个预处理器的定义，可能是一个特定的编译器开关，或者是一个不同的包含路径。你需要查看你的编译器文档，找到你需要做的相应动作。
      </p>



<p>已提供的 Boost 是 <a href="config.html" title=" Configuration">正确配置的</a>，所有东西都是"可以立即使用"的，为使用 Boost.TR1
        所编写的代码将包含你的标准库中的原生头文件而不是 Boost
        的头文件。
      </p>



</div>



<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="boost_tr1.include_style"></a>头文件包含风格</h3>


</div>


</div>


</div>



<p>你有两种方法来包含 Boost.TR1 头文件，例如，如果你想用 shared_ptr，则你可以写：
      </p>



<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">tr1</span><span class="special">/</span><span class="identifier">memory</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
</pre>



<p>或者：
      </p>



<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">memory</span><span class="special">&gt;</span>
</pre>



<p class="title">在其它 Boost 库中使用时，第一种方式是首选的方法。第二种方式则是符合标准的，不过要求你将 <code class="computeroutput"><span class="identifier">boost</span><span class="special">-</span><span class="identifier">install</span><span class="special">-</span><span class="identifier">path</span><span class="special">/</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">tr1</span><span class="special">/</span><span class="identifier">tr1</span></code> 添加到你的编译器的头文件查找路径中。注意，你不能将 boost/tr1/tr1 中的头文件复制到 "include" 目录下，那样做会使得它们无法工作。</p>
<div class="section" lang="en">
<div class="sidebar">

<p><span class="bold"><strong>重要说明 #1</strong></span><br>
<br>
包含路径的顺序是很重要的，如果你想这个库工作正常。如果你的编译出现错误则应怀疑是否包含路径的原因。正确的顺序是：<br>
<br>
1) 
boost-root/boost/tr1/tr1<br>
2) boost-root<br>
3) 任何其它标准库的替代品(如 STLport)。<br>
4) 
你的常规标准库。 
</p>
</div>

<div class="sidebar">

<p><span class="bold"><strong>重要说明 #2: GNU C++ 用户</strong></span></p>

<p>通常这个库是 "可以用于" GNU C++ 编译器的。 </p>


<p>不过，如果 Boost 被安装在 <code class="computeroutput"><span class="special">/</span><span class="identifier">usr</span><span class="special">/</span><span class="identifier">include</span></code> 路径下，则你可能会得到以下错误信息：</p>
<pre class="programlisting"><span class="identifier">In</span> <span class="identifier">file</span> <span class="identifier">included</span> <span class="identifier">from</span> <span class="special">/</span><span class="identifier">usr</span><span class="special">/</span><span class="identifier">include</span><span class="special">/</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">tr1</span><span class="special">/</span><span class="identifier">tuple</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">:</span><span class="number">5</span><span class="special">,</span><br>                 <span class="identifier">from</span> <span class="identifier">boost</span><span class="special">-</span><span class="identifier">failure</span><span class="special">.</span><span class="identifier">cxx</span><span class="special">:</span><span class="number">1</span><span class="special">:</span><br><span class="special">/</span><span class="identifier">usr</span><span class="special">/</span><span class="identifier">include</span><span class="special">/</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">tr1</span><span class="special">/</span><span class="identifier">detail</span><span class="special">/</span><span class="identifier">config</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">:</span><span class="number">60</span><span class="special">:</span><span class="number">26</span><span class="special">:</span> <span class="identifier">error</span><span class="special">:</span> <span class="identifier">no</span> <span class="identifier">include</span> <span class="identifier">path</span> <span class="identifier">in</span> <span class="identifier">which</span> <span class="identifier">to</span> <span class="identifier">search</span> <span class="keyword">for</span> <span class="identifier">utility</span></pre>


<p>这时请尝试在构建时定义宏 <code class="computeroutput"><span class="identifier">BOOST_TR1_DISABLE_INCLUDE_NEXT</span></code>，如果还不能使用，则将宏 <code class="computeroutput"><span class="identifier">BOOST_TR1_GCC_INCLUDE_PATH</span></code> 定义为 gcc 头文件所在的路径：这有点象 
"g++-v4" 但是在各种发布间有所不同。</p>
</div>
<div class="sidebar">
<p><span class="bold"><strong>重要说明 #3: Borland C++ 用户</strong></span> 
</p>

<p class="title">Borland 的编译器具有特定的有问题的 <code class="computeroutput"><span class="preprocessor">#include</span></code> 格式，如果你写 <code class="computeroutput"><span class="preprocessor">#include</span>&nbsp;<span class="special">&lt;</span><span class="identifier">array</span><span class="special">&gt;</span></code>，则它实际会查找名为 <code class="computeroutput"><span class="identifier">array</span><span class="special">.</span><span class="identifier">h</span></code> 的文件。为了让本库可以用于 Borland 
的编译器，你需要将包含路径设置如下：<br>
<br>
1) boost-root/boost/tr1/tr1/bcc32<br>
2) 
boost-root/boost/tr1/tr1<br>
3) boost-root<br>
4) 任何其它标准库的替代品(如 STLport)。<br>
5) 
你的常规标准库。</p>
</div>

<div class="sidebar">

<p><span class="bold"><strong>重要说明 #4: Sun C++ 用户</strong></span> 
</p>

<p>Sun 的编译器具有特别形式的 <code class="computeroutput"><span class="preprocessor">#include</span></code>, 如果你写 <code class="computeroutput"><span class="preprocessor">#include</span>&nbsp;<span class="special">&lt;</span><span class="identifier">array</span><span class="special">&gt;</span></code>，则它实际会查找名为 
<code class="computeroutput"><span class="identifier">array</span><span class="special">.</span><span class="identifier">SUNWCCh</span></code> 的文件。为了让本库可以用于 
Sun&nbsp;的编译器，你需要将包含路径设置如下：<br>
<br>
1) boost-root/boost/tr1/tr1/sun<br>
2) 
boost-root/boost/tr1/tr1<br>
3) boost-root<br>
4)&nbsp;任何其它标准库的替代品(如 
STLport)。<br>
5)&nbsp;你的常规标准库。</p>
</div>
</div>

<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="boost_tr1.usage.writing_code"></a><a class="link" title="Writing Code" href="usage.html#boost_tr1.usage.writing_code">编写代码</a> </h3>
</div>
</div>
</div>

<p>无论如何设置头文件包含路径，编写使用 
Boost.TR1 的用户代码与编写使用原生 tr1 
实现的代码是一样的。即，对类和函数的引用必须显式使用 <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">tr1</span></code> 名字空间或 使用一个
<code class="computeroutput"><span class="keyword">using</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">tr1</span></code> 语句。例如： </p>
<pre class="programlisting"><span class="identifier">std</span><span class="special">::</span><span class="identifier">tr1</span><span class="special">::</span><span class="identifier">tuple</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">&gt;</span> <span class="identifier">t</span> <span class="special">=</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">tr1</span><span class="special">::</span><span class="identifier">make_tuple</span><span class="special">(</span><span class="number">10</span><span class="special">,</span> <span class="string">"hello"</span><span class="special">);</span>
</pre>

<p>或 </p>
<pre class="programlisting"><span class="keyword">using</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">tr1</span><span class="special">;</span><br><span class="identifier">tuple</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">&gt;</span> <span class="identifier">t</span> <span class="special">=</span> <span class="identifier">make_tuple</span><span class="special">(</span><span class="number">10</span><span class="special">,</span> <span class="string">"hello"</span><span class="special">);</span>
</pre>
</div>



<div class="informaltable"><br>
</div>



</div>



</div>



<table width="100%">


  <tbody>


    <tr>



      <td align="left"></td>



      <td align="right"><small>Copyright &copy; 2005 John Maddock</small></td>



    </tr>


  
  
  </tbody>
</table>



<hr>
<div class="spirit-nav">
<a accesskey="p" href="../boost_tr1.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../boost_tr1.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="config.html"><img src="../images/next.png" alt="Next"></a>
</div>



</body>
</html>

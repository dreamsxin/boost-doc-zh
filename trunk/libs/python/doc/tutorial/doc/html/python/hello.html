<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Building Hello World</title><link rel="stylesheet" href="../../../../../../../doc/html/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.66.1">
<link rel="start" href="../index.html" title="Chapter 1. python 1.0">
<link rel="up" href="../index.html" title="Chapter 1. python 1.0">
<link rel="prev" href="../index.html" title="Chapter 1. python 1.0">
<link rel="next" href="exposing.html" title=" Exposing Classes"></head>
<body alink="#0000ff" bgcolor="white" link="#0000ff" text="black" vlink="#840084">
<table cellpadding="2" width="100%"><tbody><tr>
<td valign="top"><img alt="Boost C++ Libraries" src="../../../../../../../boost.png" height="86" width="277"></td>
<td align="center"><a href="../../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../../more/index.htm">More</a></td>
</tr></tbody></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../index.html"><img src="../../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="exposing.html"><img src="../../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div>
<h2 class="title" style="clear: both;">
<a name="python.hello"></a> Building Hello World</h2>

<h2 class="title" style="clear: both;">
<a name="python.hello"></a> 构建 Hello World</h2>

</div></div></div>
<a name="hello.from_start_to_finish"></a><h2>
<a name="id386189"></a>
      From Start To Finish
    </h2>
    
<h2>
<a name="id386189"></a>
      从头到尾
    </h2>    
    
<p>
      Now the first thing you'd want to do is to build the Hello World module and
      try it for yourself in Python. In this section, we will outline the steps necessary
      to achieve that. We will use the build tool that comes bundled with every boost
      distribution: <span class="bold"><b>bjam</b></span>.
    </p>
    
<p>    
      现在你最想做的事，可能就是构建Hello World模块，并亲自在Python中试用一下。
      在本节中，我们将概述实现该目标的必要步骤。 
      我们将使用boost发行版捆绑的构建工具：
      <span class="bold"><b>bjam</b></span>。
    </p>
    
<div class="note"><table summary="Note" border="0">
<tbody><tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../../../../../../doc/html/images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td colspan="2" align="left" valign="top">
<p>
        <span class="bold"><b>Building without bjam</b></span>
      </p>
<p>    
        <span class="bold"><b>不用bjam构建</b></span>
    </p>
    
<p>
        Besides bjam, there are of course other ways to get your module built. What's
        written here should not be taken as "the one and only way". There
        are of course other build tools apart from <tt class="literal">bjam</tt>.
      </p>
    
<p>    
            除了bjam，当然还有其他的方法来构建模块。 
            此处所述不应被视为“唯一方法”。
            除了<tt class="literal">bjam</tt>，
            当然还有其他构建工具。
    </p>
    
<p>
        Take note however that the preferred build tool for Boost.Python is bjam.
        There are so many ways to set up the build incorrectly. Experience shows
        that 90% of the "I can't build Boost.Python" problems come from
        people who had to use a different tool.
      </p>
    
<p>    
            不过请注意，Boost.Python的首选构建工具是bjam。
            构建方法不正确的可能性太大了。 
            经验表明，90%的“我无法编译Boost.Python”的问题，
            是因为他不得不使用其他工具。            
    </p>
    
</td></tr>
</tbody></table></div>
<p>
      We will skip over the details. Our objective will be to simply create the hello
      world module and run it in Python. For a complete reference to building Boost.Python,
      check out: <a href="../../../../building.html" target="_top">building.html</a>. After
      this brief <span class="emphasis"><em>bjam</em></span> tutorial, we should have built the DLLs
      and run a python program using the extension.
    </p>
    
<p>    
我们将略过细节。
我们的目标是简单地创建hello world模块，
并在Python中运行它。
有关构建Boost.Python的完整参考资料，
请查看<a href="../../../../building.html" target="_top">building.html</a>。
完成这个简短的<span class="emphasis"><em>bjam</em></span>
教程之后，我们应该构建出DLL并能运行python程序使用该扩展：
    </p>
    
<p>
      The tutorial example can be found in the directory: <tt class="literal">libs/python/example/tutorial</tt>.
      There, you can find:
    </p>
    
<p>    
      教程中的例子位于目录：
      <tt class="literal">libs/python/example/tutorial</tt>。
      其中有：
    </p>
    
<div class="itemizedlist"><ul type="disc">
<li>
        hello.cpp
      </li>
<li>
        hello.py
      </li>
<li>
        Jamroot
      </li>
</ul></div>
<p>
      The <tt class="literal">hello.cpp</tt> file is our C++ hello world example. The
      <tt class="literal">Jamroot</tt> is a minimalist <span class="emphasis"><em>bjam</em></span> script
      that builds the DLLs for us. Finally, <tt class="literal">hello.py</tt> is our Python
      program that uses the extension in <tt class="literal">hello.cpp</tt>.
    </p>
    
<p>    
<tt class="literal">hello.cpp</tt>文件，是我们的C++ hello world例程。
<tt class="literal">Jamroot</tt>是一个最小的
<span class="emphasis"><em>bjam</em></span>脚本，
它为我们构建DLL。
最后，<tt class="literal">hello.py</tt>是我们的Python程序，
它将使用<tt class="literal">hello.cpp</tt>中的扩展。
    </p>
    
<p>
      Before anything else, you should have the bjam executable in your boost directory
      or somewhere in your path such that <tt class="literal">bjam</tt> can be executed
      in the command line. Pre-built Boost.Jam executables are available for most
      platforms. The complete list of Bjam executables can be found <a href="http://sourceforge.net/project/showfiles.php?group_id=7586" target="_top">here</a>.
    </p>
    
<p>    
首先，你应该把bjam可执行文件，
放在你的boost目录，
或在系统路径的其他地方，
使<tt class="literal">bjam</tt>
可以在命令行中执行。
在大多数平台上，都有预建的Boost.Jam可执行文件。 
所有bjam可执行文件可以在
<a href="http://sourceforge.net/project/showfiles.php?group_id=7586" target="_top">这里</a>
找到。
    </p>
    
<a name="hello.let_s_jam_"></a><h2>
<a name="id386347"></a>
      Let's Jam!
    </h2>
    
<h2>让我们Jam！</h2>

<p>
      <span class="inlinemediaobject"><img src="../images/jam.png" alt="jam"></span>
    </p>
<p>
      <a href="../../../../../example/tutorial/Jamroot" target="_top">Here</a> is our minimalist
      Jamroot file. Simply copy the file and tweak <tt class="literal">use-project boost</tt>
      to where your boost root directory is and your OK.
    </p>
    
<p>    
      <a href="../../../../../example/tutorial/Jamroot" target="_top">
      这</a>是我们最小的Jamroot文件。
      只需复制该文件并将<tt class="literal">use-project boost</tt>
      更改为你的boost根目录就行了。
    </p>
    
<p>
      The comments contained in the Jamrules file above should be sufficient to get
      you going.
    </p>
    
<p>    
      上面Jamrules文件中包含的注释对你应该足够了。
    </p>
    
<a name="hello.running_bjam"></a><h2>
<a name="id386404"></a>
      Running bjam
    </h2>
    
<h2>运行bjam</h2>

<p>
      <span class="emphasis"><em>bjam</em></span> is run using your operating system's command line
      interpreter.
    </p>
    
<p>    
      <span class="emphasis"><em>bjam</em></span>通过操作系统的命令行解释器运行。
    </p>
    
<div class="blockquote"><blockquote class="blockquote">
<p>
        </p>
<p>
          Start it up.
        </p>
    
<p>    
          启动它。
    </p>
    
<p>
      </p>
</blockquote></div>
<p>
      A file called user-config.jam in your home directory is used to configure your
      tools. In Windows, your home directory can be found by typing:
    </p>
<pre class="programlisting">ECHO %HOMEDRIVE%%HOMEPATH%<br></pre>
<p>
      into a command prompt window. Your file should at least have the rules for
      your compiler and your python installation. A specific example of this on Windows
      would be:
    </p>
    
<p>    
      你的主目录下的user-config.jam文件，将用来配置工具。
      在Windows上，可以在命令提示窗口中键入：
    </p>
<pre class="programlisting">ECHO %HOMEDRIVE%%HOMEPATH%<br></pre>
<p>    
      找到你的主目录。该文件至少应该设置你的编译器和python安装。
      Windows上示例如下：
    </p>
    
<pre class="programlisting">#  MSVC configuration<br>using msvc : 8.0 ;<br><br>#  Python configuration<br>using python : 2.4 : C:/dev/tools<span class="emphasis"><em>Python</em></span> ;<br></pre>
<p>
      The first rule tells Bjam to use the MSVC 8.0 compiler and associated tools.
      The second rule provides information on Python, its version and where it is
      located. The above assumes that the Python installation is in <tt class="literal">C:/dev/tools/Python/</tt>.
      If you have one fairly "standard" python installation for your platform,
      you might not need to do this.
    </p>
    
<p>    
      第一条规则告诉Bjam使用MSVC 8.0编译器和相关工具。
      第二条规则提供了Python的信息，它的版本和它位于何处。
      上面假定Python安装于<tt class="literal">C:/dev/tools/Python/</tt>。
      如果在你的平台上具有一个相当“标准的”python安装，你可以不必配置该规则。
    </p>
    
<p>
      Now we are ready... Be sure to <tt class="literal">cd</tt> to <tt class="literal">libs/python/example/tutorial</tt>
      where the tutorial <tt class="literal">"hello.cpp"</tt> and the <tt class="literal">"Jamroot"</tt>
      is situated.
    </p>
    
<p>    
      现在我们准备好了……
      确保<tt class="literal">cd</tt>到
      <tt class="literal">libs/python/example/tutorial</tt>，
      即教程<tt class="literal">"hello.cpp"</tt>
      和<tt class="literal">"Jamroot"</tt>所在位置。
    </p>
    
<p>
      Finally:
    </p>
    
<p>    
      最后：
    </p>
    
<pre class="programlisting"><span class="identifier">bjam</span>
</pre>
<p>
      It should be building now:
    </p>
    
<p>    
      它现在应该开始构建了：
    </p>
    
<pre class="programlisting">cd C:\dev\boost\libs\python\example\tutorial<br>bjam<br>...patience...<br>...found 1101 targets...<br>...updating 35 targets...<br></pre>
<p>
      And so on... Finally:
    </p>
    
<p>    
      等等……最后：
    </p>
    
<pre class="programlisting">Creating library <span class="emphasis"><em>path-to-boost_python.dll</em></span>
   Creating library <span class="emphasis"><em>path-to-'''hello_ext'''.exp</em></span>
**passed** ... hello.test
...updated 35 targets...
</pre>
<p>
      Or something similar. If all is well, you should now have built the DLLs and
      run the Python program.
    </p>
    
<p>    
      或类似的东西。如果一切都好，你现在应该已经构建了DLL并运行了Python程序。
    </p>
    
<div class="note"><table summary="Note" border="0">
<tbody><tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../../../../../../doc/html/images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td colspan="2" align="left" valign="top"><p>
        Starting from Boost 1.35, bjam erases the generated executables (e.g. pyd
        file). To keep bjam from doing that, pass --preserve-test-targets to bjam.
      
      </p><p>  
        从Boost 1.35开始，bjam会删除生成的执行程序（例如pyd文件）。
        不想让bjam那样做，就向bjam传递 --preserve-test-targets 参数。
        
      </p></td></tr>
</tbody></table></div>
<div class="blockquote"><blockquote class="blockquote">
<p>
        </p>
<p>
          <span class="bold"><b>There you go... Have fun!</b></span>
        </p>
    
<p>    
          <span class="bold"><b>去吧……玩得开心点！</b></span>
    </p>
    
<p>
      </p>
</blockquote></div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tbody><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright © 2002-2005 Joel
      de Guzman, David Abrahams<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">
        http://www.boost.org/LICENSE_1_0.txt </a>)
      </p>
      <p>翻译：<a href="http://blog.csdn.net/jq0123">金庆</a></p>
      <p>译文更新：2008.5.28</p>
</div></td>
</tr></tbody></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../index.html"><img src="../../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="exposing.html"><img src="../../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body></html>
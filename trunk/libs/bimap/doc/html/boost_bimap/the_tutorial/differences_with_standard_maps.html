<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Differences with standard maps &#19982;&#26631;&#20934;map&#30340;&#24046;&#24322;</title>
<link rel="stylesheet" href="../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="../../index.html" title="Chapter 1. Boost.Bimap">
<link rel="up" href="../the_tutorial.html" title="The tutorial &#25351;&#21335;">
<link rel="prev" href="the_collection_of_relations_type.html" title="The collection of relations type &#20851;&#31995;&#32452;&#21512;&#30340;&#31867;&#22411;">
<link rel="next" href="useful_functions.html" title="Useful functions &#26377;&#29992;&#30340;&#20989;&#25968;">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="the_collection_of_relations_type.html"><img src="../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../the_tutorial.html"><img src="../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="useful_functions.html"><img src="../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="boost_bimap.the_tutorial.differences_with_standard_maps"></a><a class="link" href="differences_with_standard_maps.html" title="Differences with standard maps &#19982;&#26631;&#20934;map&#30340;&#24046;&#24322;">
      Differences with standard maps &#19982;&#26631;&#20934;map&#30340;&#24046;&#24322;</a>
</h3></div></div></div>
<div class="toc"><dl>
<dt><span class="section"><a href="differences_with_standard_maps.html#boost_bimap.the_tutorial.differences_with_standard_maps.insertion">
        Insertion &#25554;&#20837;&#25805;&#20316;</a></span></dt>
<dt><span class="section"><a href="differences_with_standard_maps.html#boost_bimap.the_tutorial.differences_with_standard_maps.iterator__value_type">
        iterator::value_type &#36845;&#20195;&#22120;&#30340;&#20540;&#31867;&#22411;</a></span></dt>
<dt><span class="section"><a href="differences_with_standard_maps.html#boost_bimap.the_tutorial.differences_with_standard_maps.operator_____and_at__">operator[]
        and at()</a></span></dt>
<dt><span class="section"><a href="differences_with_standard_maps.html#boost_bimap.the_tutorial.differences_with_standard_maps.complexity_of_operations">
        Complexity of operations &#21508;&#25805;&#20316;&#30340;&#22797;&#26434;&#24230;</a></span></dt>
</dl></div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_bimap.the_tutorial.differences_with_standard_maps.insertion"></a><a class="link" href="differences_with_standard_maps.html#boost_bimap.the_tutorial.differences_with_standard_maps.insertion" title="Insertion &#25554;&#20837;&#25805;&#20316;">
        Insertion &#25554;&#20837;&#25805;&#20316;</a>
</h4></div></div></div>
<p>
          Remember that a map can be interpreted as a relation between two collections.
          In bimaps we have the freedom to change both collection types, imposing
          constrains in each of them. Some insertions that we give for granted to
          success in standard maps fails with bimaps. For example:<br> &#35760;&#24471; map
          &#21487;&#20197;&#34987;&#35299;&#37322;&#20026;&#20004;&#32452;&#25968;&#25454;&#20043;&#38388;&#30340;&#20851;&#31995;&#12290;&#22312; bimap &#20013;&#65292;&#25105;&#20204;&#21487;&#20197;&#33258;&#30001;&#20462;&#25913;&#20004;&#32452;&#25968;&#25454;&#30340;&#31867;&#22411;&#65292;
          &#23545;&#21508;&#32452;&#25968;&#25454;&#21152;&#20197;&#32422;&#26463;&#12290;&#36825;&#26679;&#65292;&#26377;&#20123;&#22312;&#26631;&#20934; map &#20013;&#21487;&#20197;&#25104;&#21151;&#30340;&#25554;&#20837;&#25805;&#20316;&#22312;
          bimap &#20013;&#23601;&#20250;&#22833;&#36133;&#12290;&#20363;&#22914;&#65306;
        </p>
<pre class="programlisting"><span class="identifier">bimap</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">,</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">&gt;</span> <span class="identifier">bm</span><span class="special">;</span>

<span class="identifier">bm</span><span class="special">.</span><span class="identifier">left</span><span class="special">.</span><span class="identifier">insert</span><span class="special">(</span><span class="number">1</span><span class="special">,</span><span class="string">"orange"</span><span class="special">);</span>
<span class="identifier">bm</span><span class="special">.</span><span class="identifier">left</span><span class="special">.</span><span class="identifier">insert</span><span class="special">(</span><span class="number">2</span><span class="special">,</span><span class="string">"orange"</span><span class="special">);</span> <span class="comment">// No effect! returns make_pair(iter,false) &#26080;&#25928;&#65281;&#36820;&#22238; make_pair(iter,false)
</span></pre>
<p>
          The insertion will only succeed if it is allowed by all views of the <code class="computeroutput"><span class="identifier">bimap</span></code>. In the next snippet we define
          the right collection as a multiset, when we try to insert the same two
          elements the second insertion is allowed by the left map view because both
          values are different and it is allowed by the right map view because it
          is a non-unique collection type.<br> &#25554;&#20837;&#25805;&#20316;&#21482;&#26377;&#22312; <code class="computeroutput"><span class="identifier">bimap</span></code> &#30340;&#25152;&#26377;&#35270;&#22270;&#37117;&#20801;&#35768;&#26102;&#25165;&#33021;&#25104;&#21151;&#12290;&#22312;&#21518;&#38754;&#19968;&#27573;&#20195;&#30721;&#20013;&#65292;&#25105;&#20204;&#23558;&#21491;&#32452;&#23450;&#20041;&#20026;
          multiset&#65292; &#36825;&#26679;&#25105;&#20204;&#22312;&#23581;&#35797;&#25554;&#20837;&#19982;&#19978;&#30456;&#21516;&#30340;&#20004;&#20010;&#20803;&#32032;&#26102;&#65292;&#24038;&#26144;&#23556;&#35270;&#22270;&#22240;&#20026;&#25554;&#20837;&#30340;&#20540;&#19981;&#21516;&#32780;&#20801;&#35768;&#25554;&#20837;&#65292;
          &#21516;&#26102;&#36824;&#30001;&#20110;&#21491;&#26144;&#23556;&#35270;&#22270;&#20026;&#38750;&#21807;&#19968;&#20540;&#32452;&#21512;&#31867;&#22411;&#32780;&#20801;&#35768;&#25554;&#20837;&#12290;
        </p>
<pre class="programlisting"><span class="identifier">bimap</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">,</span> <span class="identifier">multiset_of</span><span class="special">&lt;</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">bm</span><span class="special">;</span>

<span class="identifier">bm</span><span class="special">.</span><span class="identifier">left</span><span class="special">.</span><span class="identifier">insert</span><span class="special">(</span><span class="number">1</span><span class="special">,</span><span class="string">"orange"</span><span class="special">);</span>
<span class="identifier">bm</span><span class="special">.</span><span class="identifier">left</span><span class="special">.</span><span class="identifier">insert</span><span class="special">(</span><span class="number">2</span><span class="special">,</span><span class="string">"orange"</span><span class="special">);</span> <span class="comment">// Insertion succeed! &#25554;&#20837;&#25104;&#21151;&#65281;
</span></pre>
<p>
          If we use a custom collection of relation type, the insertion has to be
          allowed by it too.<br> &#22914;&#26524;&#25105;&#20204;&#20351;&#29992;&#19968;&#20010;&#23450;&#21046;&#30340;&#20851;&#31995;&#31867;&#22411;&#32452;&#21512;&#65292;&#21017;&#25554;&#20837;&#25805;&#20316;&#20063;&#24517;&#39035;&#34987;&#23427;&#25152;&#20801;&#35768;&#12290;
        </p>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_bimap.the_tutorial.differences_with_standard_maps.iterator__value_type"></a><a class="link" href="differences_with_standard_maps.html#boost_bimap.the_tutorial.differences_with_standard_maps.iterator__value_type" title="iterator::value_type &#36845;&#20195;&#22120;&#30340;&#20540;&#31867;&#22411;">
        iterator::value_type &#36845;&#20195;&#22120;&#30340;&#20540;&#31867;&#22411;</a>
</h4></div></div></div>
<p>
          The relations stored in the Bimap will not be in most cases modifiable
          directly by iterators because both sides are used as keys of <span class="emphasis"><em>key-based</em></span>
          sets. When a <code class="computeroutput"><span class="identifier">bimap</span><span class="special">&lt;</span><span class="identifier">A</span><span class="special">,</span><span class="identifier">B</span><span class="special">&gt;</span></code> left view iterator is dereferenced
          the return type is <span class="emphasis"><em>signature-compatible</em></span> with a <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">pair</span><span class="special">&lt;</span> <span class="keyword">const</span> <span class="identifier">A</span><span class="special">,</span> <span class="keyword">const</span> <span class="identifier">B</span> <span class="special">&gt;</span></code>.
          However there are some collection types that are not <span class="emphasis"><em>key_based</em></span>,
          for example list_of. If a Bimap uses one of these collection types there
          is no problem with modifying the data of that side. The following code
          is valid:<br> &#20445;&#23384;&#22312; bimap &#20013;&#30340;&#20851;&#31995;&#36890;&#24120;&#19981;&#33021;&#36890;&#36807;&#36845;&#20195;&#22120;&#26469;&#30452;&#25509;&#20462;&#25913;&#65292;&#22240;&#20026;&#20851;&#31995;&#30340;&#20004;&#36793;&#37117;&#20250;&#34987;&#29992;&#20316;<span class="emphasis"><em>&#22522;&#20110;&#38190;</em></span>&#30340;
          set &#31867;&#22411;&#30340;&#38190;&#12290; &#24403;&#25552;&#39046;&#19968;&#20010; <code class="computeroutput"><span class="identifier">bimap</span><span class="special">&lt;</span><span class="identifier">A</span><span class="special">,</span><span class="identifier">B</span><span class="special">&gt;</span></code>
          &#30340;&#24038;&#26144;&#23556;&#35270;&#22270;&#26102;&#65292;&#36820;&#22238;&#30340;&#31867;&#22411;<span class="emphasis"><em>&#31614;&#21517;&#20860;&#23481;</em></span>&#20110;
          <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">pair</span><span class="special">&lt;</span> <span class="keyword">const</span> <span class="identifier">A</span><span class="special">,</span> <span class="keyword">const</span> <span class="identifier">B</span> <span class="special">&gt;</span></code>&#12290;
          &#19981;&#36807;&#26377;&#20123;&#32452;&#21512;&#31867;&#22411;&#24182;&#19981;&#26159;<span class="emphasis"><em>&#22522;&#20110;&#38190;</em></span>&#30340;&#65292;&#20363;&#22914;
          list_of&#12290;&#22914;&#26524;&#19968;&#20010; bimap &#20351;&#29992;&#30340;&#26159;&#36825;&#20123;&#31867;&#22411;&#65292; &#37027;&#20040;&#20462;&#25913;&#35813;&#20391;&#25968;&#25454;&#26159;&#27809;&#26377;&#38382;&#39064;&#30340;&#12290;&#22914;&#20197;&#19979;&#20195;&#30721;&#23601;&#26159;&#26377;&#25928;&#30340;&#65306;
        </p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">bimap</span><span class="special">&lt;</span> <span class="keyword">int</span><span class="special">,</span> <span class="identifier">list_of</span><span class="special">&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span> <span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">bm_type</span><span class="special">;</span>
<span class="identifier">bm_type</span> <span class="identifier">bm</span><span class="special">;</span>
<span class="identifier">bm</span><span class="special">.</span><span class="identifier">insert</span><span class="special">(</span> <span class="identifier">bm_type</span><span class="special">::</span><span class="identifier">relation</span><span class="special">(</span> <span class="number">1</span><span class="special">,</span> <span class="string">"one"</span> <span class="special">)</span> <span class="special">);</span>
<span class="special">...</span>
<span class="identifier">bm</span><span class="special">.</span><span class="identifier">left</span><span class="special">.</span><span class="identifier">find</span><span class="special">(</span><span class="number">1</span><span class="special">)-&gt;</span><span class="identifier">second</span> <span class="special">=</span> <span class="string">"1"</span><span class="special">;</span> <span class="comment">// Valid &#26377;&#25928;
</span></pre>
<p>
          In this case, when the iterator is dereferenced the return type is <span class="emphasis"><em>signature-compatible</em></span>
          with a <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">pair</span><span class="special">&lt;</span><span class="keyword">const</span> <span class="keyword">int</span><span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">&gt;</span></code>.<br> &#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#25552;&#39046;&#35813;&#36845;&#20195;&#22120;&#26102;&#65292;&#36820;&#22238;&#30340;&#31867;&#22411;<span class="emphasis"><em>&#31614;&#21517;&#20860;&#23481;</em></span>&#20110;
          <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">pair</span><span class="special">&lt;</span><span class="keyword">const</span> <span class="keyword">int</span><span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">&gt;</span></code>&#12290;
        </p>
<p>
          The following table shows the constness of the dereferenced data of each
          collection type of:<br> &#19979;&#34920;&#26174;&#31034;&#20102;&#21508;&#31181;&#32452;&#21512;&#31867;&#22411;&#30340;&#34987;&#25552;&#39046;&#25968;&#25454;&#30340;&#24120;&#37327;&#24615;&#65306;
        </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                <p>
                  Side collection type &#21333;&#20391;&#32452;&#21512;&#31867;&#22411;
                </p>
                </th>
<th>
                <p>
                  Dereferenced data &#34987;&#25552;&#39046;&#25968;&#25454;
                </p>
                </th>
</tr></thead>
<tbody>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">set_of</span></code>
                </p>
                </td>
<td>
                <p>
                  <span class="emphasis"><em>constant &#24120;&#24615;</em></span>
                </p>
                </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">multiset_of</span></code>
                </p>
                </td>
<td>
                <p>
                  <span class="emphasis"><em>constant &#24120;&#24615;</em></span>
                </p>
                </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">unordered_set_of</span></code>
                </p>
                </td>
<td>
                <p>
                  <span class="emphasis"><em>constant &#24120;&#24615;</em></span>
                </p>
                </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">unordered_multiset_of</span></code>
                </p>
                </td>
<td>
                <p>
                  <span class="emphasis"><em>constant &#24120;&#24615;</em></span>
                </p>
                </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">list_of</span></code>
                </p>
                </td>
<td>
                <p>
                  <span class="emphasis"><em>mutable &#21487;&#26356;&#25913;</em></span>
                </p>
                </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">vector_of</span></code>
                </p>
                </td>
<td>
                <p>
                  <span class="emphasis"><em>mutable &#21487;&#26356;&#25913;</em></span>
                </p>
                </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">unconstrained_set_of</span></code>
                </p>
                </td>
<td>
                <p>
                  <span class="emphasis"><em>mutable &#21487;&#26356;&#25913;</em></span>
                </p>
                </td>
</tr>
</tbody>
</table></div>
<p>
          Here are some examples. When dereferenced the iterators returns a type
          that is <span class="emphasis"><em>signature-compatible</em></span> with these types.<br>
          &#20197;&#19979;&#26159;&#19968;&#20123;&#20363;&#23376;&#12290;&#23545;&#36825;&#20123;&#36845;&#20195;&#22120;&#36827;&#34892;&#25552;&#39046;&#23558;&#36820;&#22238;&#19968;&#20010;<span class="emphasis"><em>&#31614;&#21517;&#20860;&#23481;</em></span>&#20110;&#20197;&#19979;&#31867;&#22411;&#30340;&#31867;&#22411;&#12290;
        </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                <p>
                  Bimap type Bimap&#31867;&#22411;
                </p>
                </th>
<th>
                <p>
                  Signature-compatible types &#31614;&#21517;&#20860;&#23481;&#20110;&#20197;&#19979;&#31867;&#22411;
                </p>
                </th>
</tr></thead>
<tbody>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">bimap</span><span class="special">&lt;</span><span class="identifier">A</span><span class="special">,</span><span class="identifier">B</span><span class="special">&gt;</span></code>
                </p>
                </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">iterator</span> </code> <span class="bold"><strong>-&gt;</strong></span> <code class="computeroutput"><span class="identifier">relation</span><span class="special">&lt;</span><span class="keyword">const</span>
                  <span class="identifier">A</span><span class="special">,</span><span class="keyword">const</span> <span class="identifier">B</span><span class="special">&gt;</span></code>
                </p>
                <p>
                  <code class="computeroutput"><span class="identifier">left_iterator</span> </code>
                  <span class="bold"><strong>-&gt;</strong></span> <code class="computeroutput"><span class="identifier">pair</span><span class="special">&lt;</span><span class="keyword">const</span>
                  <span class="identifier">A</span><span class="special">,</span><span class="keyword">const</span> <span class="identifier">B</span><span class="special">&gt;</span></code>
                </p>
                <p>
                  <code class="computeroutput"><span class="identifier">right_iterator</span></code>
                  <span class="bold"><strong>-&gt;</strong></span> <code class="computeroutput"><span class="identifier">pair</span><span class="special">&lt;</span><span class="keyword">const</span>
                  <span class="identifier">B</span><span class="special">,</span><span class="keyword">const</span> <span class="identifier">A</span><span class="special">&gt;</span></code>
                </p>
                </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">bimap</span><span class="special">&lt;</span><span class="identifier">multiset_of</span><span class="special">&lt;</span><span class="identifier">A</span><span class="special">&gt;,</span><span class="identifier">unordered_set_of</span><span class="special">&lt;</span><span class="identifier">B</span><span class="special">&gt;</span>
                  <span class="special">&gt;</span></code>
                </p>
                </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">iterator</span> </code> <span class="bold"><strong>-&gt;</strong></span> <code class="computeroutput"><span class="identifier">relation</span><span class="special">&lt;</span><span class="keyword">const</span>
                  <span class="identifier">A</span><span class="special">,</span><span class="keyword">const</span> <span class="identifier">B</span><span class="special">&gt;</span></code>
                </p>
                <p>
                  <code class="computeroutput"><span class="identifier">left_iterator</span> </code>
                  <span class="bold"><strong>-&gt;</strong></span> <code class="computeroutput"><span class="identifier">pair</span><span class="special">&lt;</span><span class="keyword">const</span>
                  <span class="identifier">A</span><span class="special">,</span><span class="keyword">const</span> <span class="identifier">B</span><span class="special">&gt;</span></code>
                </p>
                <p>
                  <code class="computeroutput"><span class="identifier">right_iterator</span></code>
                  <span class="bold"><strong>-&gt;</strong></span> <code class="computeroutput"><span class="identifier">pair</span><span class="special">&lt;</span><span class="keyword">const</span>
                  <span class="identifier">B</span><span class="special">,</span><span class="keyword">const</span> <span class="identifier">A</span><span class="special">&gt;</span></code>
                </p>
                </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">bimap</span><span class="special">&lt;</span><span class="identifier">set_of</span><span class="special">&lt;</span><span class="identifier">A</span><span class="special">&gt;,</span><span class="identifier">list_of</span><span class="special">&lt;</span><span class="identifier">B</span><span class="special">&gt;</span>
                  <span class="special">&gt;</span></code>
                </p>
                </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">iterator</span> </code> <span class="bold"><strong>-&gt;</strong></span> <code class="computeroutput"><span class="identifier">relation</span><span class="special">&lt;</span><span class="keyword">const</span>
                  <span class="identifier">A</span><span class="special">,</span><span class="identifier">B</span><span class="special">&gt;</span></code>
                </p>
                <p>
                  <code class="computeroutput"><span class="identifier">left_iterator</span> </code>
                  <span class="bold"><strong>-&gt;</strong></span> <code class="computeroutput"><span class="identifier">pair</span><span class="special">&lt;</span><span class="keyword">const</span>
                  <span class="identifier">A</span><span class="special">,</span><span class="identifier">B</span><span class="special">&gt;</span></code>
                </p>
                <p>
                  <code class="computeroutput"><span class="identifier">right_iterator</span></code>
                  <span class="bold"><strong>-&gt;</strong></span> <code class="computeroutput"><span class="identifier">pair</span><span class="special">&lt;</span><span class="identifier">B</span><span class="special">,</span><span class="keyword">const</span>
                  <span class="identifier">A</span><span class="special">&gt;</span></code>
                </p>
                </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">bimap</span><span class="special">&lt;</span><span class="identifier">vector_of</span><span class="special">&lt;</span><span class="identifier">A</span><span class="special">&gt;,</span><span class="identifier">set_of</span><span class="special">&lt;</span><span class="identifier">B</span><span class="special">&gt;</span>
                  <span class="special">&gt;</span></code>
                </p>
                </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">iterator</span> </code> <span class="bold"><strong>-&gt;</strong></span> <code class="computeroutput"><span class="identifier">relation</span><span class="special">&lt;</span><span class="identifier">A</span><span class="special">,</span><span class="keyword">const</span>
                  <span class="identifier">B</span><span class="special">&gt;</span></code>
                </p>
                <p>
                  <code class="computeroutput"><span class="identifier">left_iterator</span> </code>
                  <span class="bold"><strong>-&gt;</strong></span> <code class="computeroutput"><span class="identifier">pair</span><span class="special">&lt;</span><span class="identifier">A</span><span class="special">,</span><span class="keyword">const</span>
                  <span class="identifier">B</span><span class="special">&gt;</span></code>
                </p>
                <p>
                  <code class="computeroutput"><span class="identifier">right_iterator</span></code>
                  <span class="bold"><strong>-&gt;</strong></span> <code class="computeroutput"><span class="identifier">pair</span><span class="special">&lt;</span><span class="keyword">const</span>
                  <span class="identifier">B</span><span class="special">,</span><span class="identifier">A</span><span class="special">&gt;</span></code>
                </p>
                </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">bimap</span><span class="special">&lt;</span><span class="identifier">list_of</span><span class="special">&lt;</span><span class="identifier">A</span><span class="special">&gt;,</span><span class="identifier">unconstrained_set_of</span><span class="special">&lt;</span><span class="identifier">B</span><span class="special">&gt;</span>
                  <span class="special">&gt;</span></code>
                </p>
                </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">iterator</span> </code> <span class="bold"><strong>-&gt;</strong></span> <code class="computeroutput"><span class="identifier">relation</span><span class="special">&lt;</span><span class="identifier">A</span><span class="special">,</span><span class="identifier">B</span><span class="special">&gt;</span></code>
                </p>
                <p>
                  <code class="computeroutput"><span class="identifier">left_iterator</span> </code>
                  <span class="bold"><strong>-&gt;</strong></span> <code class="computeroutput"><span class="identifier">pair</span><span class="special">&lt;</span><span class="identifier">A</span><span class="special">,</span><span class="identifier">B</span><span class="special">&gt;</span></code>
                </p>
                <p>
                  <code class="computeroutput"><span class="identifier">right_iterator</span></code>
                  <span class="bold"><strong>-&gt;</strong></span> <code class="computeroutput"><span class="identifier">pair</span><span class="special">&lt;</span><span class="identifier">B</span><span class="special">,</span><span class="identifier">A</span><span class="special">&gt;</span></code>
                </p>
                </td>
</tr>
</tbody>
</table></div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_bimap.the_tutorial.differences_with_standard_maps.operator_____and_at__"></a><a class="link" href="differences_with_standard_maps.html#boost_bimap.the_tutorial.differences_with_standard_maps.operator_____and_at__" title="operator[] and at()">operator[]
        and at()</a>
</h4></div></div></div>
<p>
          <code class="computeroutput"><span class="identifier">set_of</span></code> and <code class="computeroutput"><span class="identifier">unordered_set_of</span></code> map views overload
          <code class="computeroutput"><span class="keyword">operator</span><span class="special">[]</span></code>
          to retrieve the associated data of a given key only when the other collection
          type is a mutable one. In these cases it works in the same way as the standard.<br>
          <code class="computeroutput"><span class="identifier">set_of</span></code> &#21644; <code class="computeroutput"><span class="identifier">unordered_set_of</span></code> &#26144;&#23556;&#35270;&#22270;&#37325;&#36733;&#20102;
          <code class="computeroutput"><span class="keyword">operator</span><span class="special">[]</span></code>&#65292;&#29992;&#20110;&#21462;&#20986;&#32473;&#23450;&#38190;&#20540;&#30340;&#30456;&#20851;&#32852;&#25968;&#25454;&#65292;
          &#20165;&#24403;&#21478;&#19968;&#20010;&#32452;&#21512;&#31867;&#22411;&#20026;&#21487;&#20462;&#25913;&#26102;&#21487;&#29992;&#12290;&#22312;&#27492;&#24773;&#20917;&#19979;&#23427;&#30340;&#29992;&#27861;&#19982;&#26631;&#20934;&#19968;&#26679;&#12290;
        </p>
<pre class="programlisting"><span class="identifier">bimap</span><span class="special">&lt;</span> <span class="identifier">unorderd_set_of</span><span class="special">&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">&gt;,</span> <span class="identifier">list_of</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">bm</span><span class="special">;</span>

<span class="identifier">bm</span><span class="special">.</span><span class="identifier">left</span><span class="special">[</span><span class="string">"one"</span><span class="special">]</span> <span class="special">=</span> <span class="number">1</span><span class="special">;</span> <span class="comment">// Ok
</span></pre>
<p>
          The standard defines an access function for <code class="computeroutput"><span class="identifier">map</span></code>
          and <code class="computeroutput"><span class="identifier">unordered_map</span></code>:<br>
          &#26631;&#20934;&#36824;&#20026; <code class="computeroutput"><span class="identifier">map</span></code> &#21644; <code class="computeroutput"><span class="identifier">unordered_map</span></code> &#23450;&#20041;&#20102;&#19968;&#20010;&#35775;&#38382;&#20989;&#25968;&#65306;
        </p>
<pre class="programlisting"><span class="keyword">const</span> <span class="identifier">data_type</span> <span class="special">&amp;</span> <span class="identifier">at</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">key_type</span> <span class="special">&amp;</span> <span class="identifier">k</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
      <span class="identifier">data_type</span> <span class="special">&amp;</span> <span class="identifier">at</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">key_type</span> <span class="special">&amp;</span> <span class="identifier">k</span><span class="special">);</span>
</pre>
<p>
          These functions look for a key and returns the associated data value, but
          throws a <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">out_of_range</span></code> exception if the key is
          not found.<br> &#35813;&#20989;&#25968;&#26597;&#25214;&#19968;&#20010;&#38190;&#20540;&#24182;&#36820;&#22238;&#30456;&#20851;&#32852;&#30340;&#25968;&#25454;&#20540;&#65292;&#19981;&#36807;&#22914;&#26524;&#38190;&#20540;&#26410;&#33021;&#25214;&#21040;&#65292;&#21017;&#25243;&#20986;&#19968;&#20010;
          <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">out_of_range</span></code> &#24322;&#24120;&#12290;
        </p>
<p>
          In bimaps the constant version of these functions is given for <code class="computeroutput"><span class="identifier">set_of</span></code> and <code class="computeroutput"><span class="identifier">unorderd_set_of</span></code>
          map views independently of the other collection type. The mutable version
          is only provided when the other collection type is mutable.<br> &#22312; bimap
          &#20013;&#65292;&#23545;&#20110; <code class="computeroutput"><span class="identifier">set_of</span></code> &#21644;
          <code class="computeroutput"><span class="identifier">unorderd_set_of</span></code> &#26144;&#23556;&#35270;&#22270;&#32473;&#20986;&#20102;&#35813;&#20989;&#25968;&#30340;&#24120;&#24615;&#29256;&#26412;&#65292;&#19982;&#21478;&#19968;&#32452;&#21512;&#31867;&#22411;&#26080;&#20851;&#12290;
          &#32780;&#38750;&#24120;&#24615;&#29256;&#26412;&#21017;&#21482;&#22312;&#21478;&#19968;&#32452;&#21512;&#31867;&#22411;&#20026;&#21487;&#20462;&#25913;&#26102;&#25552;&#20379;&#12290;
        </p>
<p>
          The following examples shows the behaviour of <code class="computeroutput"><span class="identifier">at</span><span class="special">(</span><span class="identifier">key</span><span class="special">)</span></code><br> &#20197;&#19979;&#20363;&#23376;&#31034;&#33539;&#20102; <code class="computeroutput"><span class="identifier">at</span><span class="special">(</span><span class="identifier">key</span><span class="special">)</span></code> &#30340;&#34892;&#20026;&#65306;
        </p>
<p>
          <a href="../../../../example/at_function_examples.cpp" target="_top">Go to source code &#23519;&#30475;&#28304;&#20195;&#30721;</a>
        </p>
<p>
          </p>
<p>
            
</p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">bimap</span><span class="special">&lt;</span> <span class="identifier">set_of</span><span class="special">&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span> <span class="special">&gt;,</span> <span class="identifier">list_of</span><span class="special">&lt;</span> <span class="keyword">int</span> <span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">bm_type</span><span class="special">;</span>
<span class="identifier">bm_type</span> <span class="identifier">bm</span><span class="special">;</span>

<span class="keyword">try</span>
<span class="special">{</span>
    <span class="identifier">bm</span><span class="special">.</span><span class="identifier">left</span><span class="special">.</span><span class="identifier">at</span><span class="special">(</span><span class="string">"one"</span><span class="special">)</span> <span class="special">=</span> <span class="number">1</span><span class="special">;</span> <span class="comment">// throws std::out_of_range
</span><span class="special">}</span>
<span class="keyword">catch</span><span class="special">(</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">out_of_range</span> <span class="special">&amp;</span> <span class="identifier">e</span> <span class="special">)</span> <span class="special">{}</span>

<span class="identifier">assert</span><span class="special">(</span> <span class="identifier">bm</span><span class="special">.</span><span class="identifier">empty</span><span class="special">()</span> <span class="special">);</span>

<span class="identifier">bm</span><span class="special">.</span><span class="identifier">left</span><span class="special">[</span><span class="string">"one"</span><span class="special">]</span> <span class="special">=</span> <span class="number">1</span><span class="special">;</span> <span class="comment">// Ok
</span>
<span class="identifier">assert</span><span class="special">(</span> <span class="identifier">bm</span><span class="special">.</span><span class="identifier">left</span><span class="special">.</span><span class="identifier">at</span><span class="special">(</span><span class="string">"one"</span><span class="special">)</span> <span class="special">==</span> <span class="number">1</span> <span class="special">);</span> <span class="comment">// Ok
</span></pre>
<p>
          </p>
<p>
        </p>
<p>
          </p>
<p>
            
</p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">bimap</span><span class="special">&lt;</span> <span class="identifier">multiset_of</span><span class="special">&lt;</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">&gt;,</span> <span class="identifier">unordered_set_of</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">bm_type</span><span class="special">;</span>
<span class="identifier">bm_type</span> <span class="identifier">bm</span><span class="special">;</span>

<span class="identifier">bm</span><span class="special">.</span><span class="identifier">right</span><span class="special">[</span><span class="number">1</span><span class="special">]</span> <span class="special">=</span> <span class="string">"one"</span><span class="special">;</span> <span class="comment">// compilation error
</span>
<span class="identifier">bm</span><span class="special">.</span><span class="identifier">right</span><span class="special">.</span><span class="identifier">insert</span><span class="special">(</span> <span class="identifier">bm_type</span><span class="special">::</span><span class="identifier">right_value_type</span><span class="special">(</span><span class="number">1</span><span class="special">,</span><span class="string">"one"</span><span class="special">)</span> <span class="special">);</span>

<span class="identifier">assert</span><span class="special">(</span> <span class="identifier">bm</span><span class="special">.</span><span class="identifier">right</span><span class="special">.</span><span class="identifier">at</span><span class="special">(</span><span class="number">1</span><span class="special">)</span> <span class="special">==</span> <span class="string">"one"</span> <span class="special">);</span> <span class="comment">// Ok
</span>
<span class="keyword">try</span>
<span class="special">{</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="identifier">bm</span><span class="special">.</span><span class="identifier">right</span><span class="special">.</span><span class="identifier">at</span><span class="special">(</span><span class="number">2</span><span class="special">);</span> <span class="comment">// throws std::out_of_range
</span><span class="special">}</span>
<span class="keyword">catch</span><span class="special">(</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">out_of_range</span> <span class="special">&amp;</span> <span class="identifier">e</span> <span class="special">)</span> <span class="special">{}</span>

<span class="identifier">bm</span><span class="special">.</span><span class="identifier">right</span><span class="special">.</span><span class="identifier">at</span><span class="special">(</span><span class="number">1</span><span class="special">)</span> <span class="special">=</span> <span class="string">"1"</span><span class="special">;</span> <span class="comment">// compilation error
</span>
</pre>
<p>
          </p>
<p>
        </p>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_bimap.the_tutorial.differences_with_standard_maps.complexity_of_operations"></a><a class="link" href="differences_with_standard_maps.html#boost_bimap.the_tutorial.differences_with_standard_maps.complexity_of_operations" title="Complexity of operations &#21508;&#25805;&#20316;&#30340;&#22797;&#26434;&#24230;">
        Complexity of operations &#21508;&#25805;&#20316;&#30340;&#22797;&#26434;&#24230;</a>
</h4></div></div></div>
<p>
          The complexity of some operations is different in bimaps. Read <a class="link" href="../reference/bimap_reference.html#complexity_signature_explanation">the
          reference</a> to find the complexity of each function.<br> &#22312; bimap
          &#20013;&#26377;&#20123;&#25805;&#20316;&#30340;&#22797;&#26434;&#24230;&#26159;&#19981;&#21516;&#30340;&#12290;&#35201;&#26597;&#30475;&#27599;&#31181;&#25805;&#20316;&#30340;&#22797;&#26434;&#24230;&#65292;&#35831;&#30475;
          <a class="link" href="../reference/bimap_reference.html#complexity_signature_explanation">&#21442;&#32771;</a>&#12290;
        </p>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright © 2006 -2007 Matias Capeletto<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="the_collection_of_relations_type.html"><img src="../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../the_tutorial.html"><img src="../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="useful_functions.html"><img src="../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>

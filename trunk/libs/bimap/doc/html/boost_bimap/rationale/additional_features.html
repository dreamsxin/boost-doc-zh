<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Additional Features &#20854;&#23427;&#29305;&#24615;</title>
<link rel="stylesheet" href="../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="../../index.html" title="Chapter&#160;1.&#160;Boost.Bimap">
<link rel="up" href="../rationale.html" title="Rationale &#21407;&#29702;">
<link rel="prev" href="../rationale.html" title="Rationale &#21407;&#29702;">
<link rel="next" href="code.html" title="Code &#20195;&#30721;">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../rationale.html"><img src="../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../rationale.html"><img src="../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="code.html"><img src="../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="boost_bimap.rationale.additional_features"></a><a class="link" href="additional_features.html" title="Additional Features &#20854;&#23427;&#29305;&#24615;"> Additional
      Features &#20854;&#23427;&#29305;&#24615;</a>
</h3></div></div></div>
<a name="boost_bimap.rationale.additional_features.n_1__n_n__hashed_maps__n_1__n_n______________"></a><h5>
<a name="id5243030"></a>
        <a class="link" href="additional_features.html#boost_bimap.rationale.additional_features.n_1__n_n__hashed_maps__n_1__n_n______________">N-1,
        N-N, hashed maps N-1, N-N, &#25955;&#21015;&#26144;&#23556;</a>
      </h5>
<p>
        This is a very interesting point of the design. The framework introduced
        in <span class="emphasis"><em>std::set theory</em></span> permits the management of the different
        constraints with a very simple and conceptual approach. It is easy both to
        remember and to learn. The idea here is to allow the user to specify the
        collection type of each key directly. In order to implement this feature,
        we have to solve two problems:<br> &#36825;&#26159;&#19968;&#20010;&#24456;&#26377;&#36259;&#30340;&#35774;&#35745;&#28857;&#12290;&#22312;
        <span class="emphasis"><em>std::set &#29702;&#35770;</em></span> &#20013;&#24341;&#29992;&#30340;&#26694;&#26550;&#20801;&#35768;&#20197;&#19968;&#20010;&#38750;&#24120;&#31616;&#21333;&#21644;&#30452;&#35266;&#30340;&#26041;&#27861;&#31649;&#29702;&#19981;&#21516;&#30340;&#32422;&#26463;&#12290;
        &#23427;&#24456;&#23481;&#26131;&#35760;&#20303;&#21644;&#23398;&#20064;&#12290;&#36825;&#37324;&#30340;&#24819;&#27861;&#26159;&#65292;&#20801;&#35768;&#29992;&#25143;&#30452;&#25509;&#25351;&#23450;&#27599;&#20010;&#38190;&#30340;&#32452;&#21512;&#31867;&#22411;&#12290;&#20026;&#20102;&#23454;&#29616;&#36825;&#19968;&#29305;&#24615;&#65292;&#25105;&#20204;&#24517;&#39035;&#35299;&#20915;&#20004;&#20010;&#38382;&#39064;&#65306;
      </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
            The index types of the <code class="computeroutput"><span class="identifier">multi_index_container</span></code>
            core now depends on the collection type used for each key.<br> <code class="computeroutput"><span class="identifier">multi_index_container</span></code> &#26680;&#24515;&#30340;&#32034;&#24341;&#31867;&#22411;&#29616;&#22312;&#20381;&#36182;&#20110;&#27599;&#20010;&#38190;&#25152;&#20351;&#29992;&#30340;&#32452;&#21512;&#31867;&#22411;&#12290;
          </li>
<li class="listitem">
            The map views now change their semantics according to the collection
            type chosen.<br> &#26144;&#23556;&#35270;&#22270;&#30340;&#35821;&#20041;&#29616;&#22312;&#26681;&#25454;&#25152;&#36873;&#25321;&#30340;&#32452;&#21512;&#31867;&#22411;&#32780;&#26377;&#25152;&#25913;&#21464;&#12290;
          </li>
</ul></div>
<p>
        Boost.Bimap relies heavily on Boost.MPL to implement all of the metaprogramming
        necessary to make this framework work. By default, if the user does not specify
        the kind of the set, a <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">set</span></code> type
        is used.<br> Boost.Bimap &#20005;&#37325;&#20381;&#36182;&#20110; Boost.MPL&#65292;&#20197;&#23454;&#29616;&#26412;&#26694;&#26550;&#25152;&#38656;&#30340;&#25152;&#26377;&#20803;&#32534;&#31243;&#12290;
        &#32570;&#30465;&#22320;&#65292;&#22914;&#26524;&#29992;&#25143;&#27809;&#26377;&#25351;&#23450; set &#30340;&#31181;&#31867;&#65292;&#21017;&#20351;&#29992; <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">set</span></code>
        &#31867;&#22411;&#12290;
      </p>
<p>
        <span class="inlinemediaobject"><img src="../../images/bimap/bimap.structures.png" alt="bimap.structures"></span>
      </p>
<a name="boost_bimap.rationale.additional_features.collection_type_of_relation_constraints____________________________"></a><h5>
<a name="id5243213"></a>
        <a class="link" href="additional_features.html#boost_bimap.rationale.additional_features.collection_type_of_relation_constraints____________________________">Collection
        type of relation constraints &#20851;&#31995;&#32452;&#21512;&#31867;&#22411;&#30340;&#32422;&#26463;</a>
      </h5>
<p>
        The constraints of the bimap set view are another very important feature.
        In general, Boost.Bimap users will base the set view type on one of the two
        collection types of their keys. It may be useful however to give this set
        other constraints or simply to order it differently. By default, Boost.Bimap
        bases the collection type of relations on the left collection type, but the
        user may choose between:<br> bimap &#38598;&#21512;&#35270;&#22270;&#30340;&#32422;&#26463;&#26159;&#21478;&#19968;&#20010;&#38750;&#24120;&#37325;&#35201;&#30340;&#29305;&#24615;&#12290;&#36890;&#24120;&#65292;Boost.Bimap
        &#30340;&#29992;&#25143;&#23558;&#38598;&#21512;&#35270;&#22270;&#31867;&#22411;&#22522;&#20110;&#38190;&#30340;&#20004;&#20010;&#32452;&#21512;&#31867;&#22411;&#20043;&#19968;&#12290; &#19981;&#36807;&#65292;&#26377;&#26102;&#20063;&#38656;&#35201;&#23545;&#36825;&#19968;&#38598;&#21512;&#32473;&#20104;&#20854;&#23427;&#32422;&#26463;&#25110;&#31616;&#21270;&#65292;&#20197;&#20351;&#20043;&#19981;&#21516;&#12290;&#32570;&#30465;&#22320;&#65292;Boost.Bimap
        &#23558;&#20851;&#31995;&#32452;&#21512;&#31867;&#22411;&#22522;&#20110;&#24038;&#32452;&#21512;&#31867;&#22411;&#65292; &#20294;&#29992;&#25143;&#21487;&#20197;&#36873;&#25321;&#20197;&#19979;&#20043;&#19968;&#65306;
      </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
            left_based
          </li>
<li class="listitem">
            right_based
          </li>
<li class="listitem">
            set_of_relation&lt;&gt;
          </li>
<li class="listitem">
            multiset_of_relation&lt;&gt;
          </li>
<li class="listitem">
            unordered_set_of_relation&lt;&gt;
          </li>
<li class="listitem">
            unordered_multiset_of_relation&lt;&gt;
          </li>
<li class="listitem">
            list_of
          </li>
<li class="listitem">
            vector_of
          </li>
</ul></div>
<p>
        In the first two cases, there are only two indices in the <code class="computeroutput"><span class="identifier">multi_index_core</span></code>,
        and for this reason, these are the preferred options. The implementation
        uses further metaprogramming to define a new index if necessary.<br> &#22312;&#21069;&#20004;&#20010;&#36873;&#25321;&#20013;&#65292;&#22312;
        <code class="computeroutput"><span class="identifier">multi_index_core</span></code> &#20013;&#21482;&#26377;&#20004;&#20010;&#32034;&#24341;&#65292;&#22240;&#27492;&#36825;&#26159;&#39318;&#36873;&#30340;&#26041;&#24335;&#12290;
        &#22914;&#26524;&#26377;&#24517;&#35201;&#65292;&#23454;&#29616;&#20250;&#29992;&#20803;&#32534;&#31243;&#26469;&#23450;&#20041;&#26032;&#30340;&#32034;&#24341;&#12290;
      </p>
<a name="boost_bimap.rationale.additional_features.tagged_______"></a><h5>
<a name="id5243361"></a>
        <a class="link" href="additional_features.html#boost_bimap.rationale.additional_features.tagged_______">Tagged
        &#26631;&#31614;</a>
      </h5>
<p>
        The idea of using tags instead of the <code class="literal">member_at::side</code>
        idiom is very appealing since code that uses it is more readable. The only
        cost is compile time. <span class="emphasis"><em>boost/bimap/tagged</em></span> is the implementation
        of a non-invasive tagged idiom. The <code class="literal">relation</code> class is
        built in such a way that even when the user uses tags, the <code class="literal">member_at::side</code>
        idiom continues to work. This is good since an user can start tagging even
        before completing the coding of the algorithm, and the untagged code continues
        to work. The development becomes a little more complicated when user-defined
        tags are included, but there are many handy metafunctions defined in the
        <code class="literal">tagged</code> idiom that help to keep things simple enough.<br>
        &#20351;&#29992;&#26631;&#20934;&#30340;&#26041;&#27861;&#26469;&#20195;&#26367; <code class="literal">member_at::side</code> &#24815;&#29992;&#27861;&#26159;&#24456;&#21560;&#24341;&#20154;&#30340;&#65292;&#22240;&#20026;&#36825;&#26679;&#30340;&#20195;&#30721;&#26356;&#26131;&#35835;&#12290;&#21807;&#19968;&#30340;&#20195;&#20215;&#26159;&#32534;&#35793;&#26102;&#38388;&#12290;
        <span class="emphasis"><em>boost/bimap/tagged</em></span> &#26159;&#19968;&#20010;&#38750;&#20405;&#20837;&#24335;&#26631;&#31614;&#24815;&#29992;&#27861;&#30340;&#23454;&#29616;&#12290;<code class="literal">relation</code>
        &#31867;&#26159;&#20197;&#36825;&#26679;&#19968;&#31181;&#26041;&#24335;&#26469;&#26500;&#24314;&#30340;&#65292;&#21363;&#20351;&#29992;&#25143;&#20351;&#29992;&#20102;&#26631;&#31614;&#65292;
        <code class="literal">member_at::side</code> &#24815;&#29992;&#27861;&#20063;&#21487;&#20197;&#32487;&#32493;&#20351;&#29992;&#12290;&#36825;&#26159;&#22909;&#20107;&#65292;&#22240;&#20026;&#29992;&#25143;&#29978;&#33267;&#21487;&#20197;&#23545;&#20043;&#21069;&#24050;&#23436;&#25104;&#30340;&#31639;&#27861;&#20195;&#30721;&#36827;&#34892;&#26631;&#31614;&#65292;&#19988;&#26410;&#26631;&#31614;&#30340;&#20195;&#30721;&#20063;&#21487;&#20197;&#32487;&#32493;&#20351;&#29992;&#12290;
        &#24403;&#21253;&#21547;&#20102;&#29992;&#25143;&#33258;&#23450;&#20041;&#26631;&#31614;&#26102;&#65292;&#24320;&#21457;&#20250;&#21464;&#24471;&#26377;&#19968;&#28857;&#22797;&#26434;&#65292;&#20294;&#26159;&#22312;
        <code class="literal">tagged</code> &#24815;&#29992;&#27861;&#20013;&#23450;&#20041;&#20102;&#24456;&#22810;&#26041;&#20415;&#30340;&#20803;&#20989;&#25968;&#65292;&#24110;&#21161;&#23558;&#20107;&#24773;&#20445;&#25345;&#22312;&#36275;&#22815;&#31616;&#21333;&#12290;
      </p>
<p>
        <span class="inlinemediaobject"><img src="../../images/bimap/tagged.png" alt="tagged"></span>
      </p>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2006 -2007 Matias Capeletto<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../rationale.html"><img src="../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../rationale.html"><img src="../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="code.html"><img src="../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>

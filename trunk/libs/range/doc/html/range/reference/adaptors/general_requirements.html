<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>General Requirements &#22522;&#26412;&#35201;&#27714;</title>
<link rel="stylesheet" href="../../../../../../../doc/html/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="../../../index.html" title="Chapter&#160;1.&#160;Range 2.0">
<link rel="up" href="../adaptors.html" title="Range Adaptors &#21306;&#38388;&#36866;&#37197;&#22120;">
<link rel="prev" href="introduction.html" title="Introduction and motivation &#20171;&#32461;&#19982;&#21160;&#26426;">
<link rel="next" href="reference.html" title="Reference &#21442;&#32771;&#25163;&#20876;">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="introduction.html"><img src="../../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../adaptors.html"><img src="../../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../../index.html"><img src="../../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="reference.html"><img src="../../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="range.reference.adaptors.general_requirements"></a><a class="link" href="general_requirements.html" title="General Requirements &#22522;&#26412;&#35201;&#27714;"> General
        Requirements &#22522;&#26412;&#35201;&#27714;</a>
</h4></div></div></div>
<p>
          In the description of generator expressions, the following notation is
          used:<br> &#22312;&#25551;&#36848;&#29983;&#25104;&#22120;&#34920;&#36798;&#24335;&#26102;&#65292;&#20351;&#29992;&#20197;&#19979;&#35760;&#21495;&#65306;
        </p>
<div class="itemizedlist"><ul type="disc">
<li>
<code class="computeroutput"><span class="identifier">fwdRng</span></code> is an expression
            of a type <code class="computeroutput"><span class="identifier">R</span></code> that models
            <code class="computeroutput"><span class="identifier">ForwardRange</span></code><br><code class="computeroutput"><span class="identifier">fwdRng</span></code> &#26159;&#19968;&#20010;&#31867;&#22411;&#20026; <code class="computeroutput"><span class="identifier">R</span></code> &#30340;&#34920;&#36798;&#24335;&#65292;&#31526;&#21512; <code class="computeroutput"><span class="identifier">ForwardRange</span></code>
</li>
<li>
<code class="computeroutput"><span class="identifier">biRng</span></code> is an expression
            of a type <code class="computeroutput"><span class="identifier">R</span></code> that models
            <code class="computeroutput"><span class="identifier">BidirectionalRange</span></code><br><code class="computeroutput"><span class="identifier">biRng</span></code> &#26159;&#19968;&#20010;&#31867;&#22411;&#20026;
            <code class="computeroutput"><span class="identifier">R</span></code> &#30340;&#34920;&#36798;&#24335;&#65292;&#31526;&#21512;
            <code class="computeroutput"><span class="identifier">BidirectionalRange</span></code>
</li>
<li>
<code class="computeroutput"><span class="identifier">rndRng</span></code> is an expression
            of a type <code class="computeroutput"><span class="identifier">R</span></code> that models
            <code class="computeroutput"><span class="identifier">RandomAccessRange</span></code><br><code class="computeroutput"><span class="identifier">rndRng</span></code> &#26159;&#19968;&#20010;&#31867;&#22411;&#20026;
            <code class="computeroutput"><span class="identifier">R</span></code> &#30340;&#34920;&#36798;&#24335;&#65292;&#31526;&#21512;
            <code class="computeroutput"><span class="identifier">RandomAccessRange</span></code>
</li>
<li>
<code class="computeroutput"><span class="identifier">pred</span></code> is an expression
            of a type that models <code class="computeroutput"><span class="identifier">UnaryPredicate</span></code><br><code class="computeroutput"><span class="identifier">pred</span></code> &#26159;&#19968;&#20010;&#31526;&#21512;
            <code class="computeroutput"><span class="identifier">UnaryPredicate</span></code> &#30340;&#31867;&#22411;&#30340;&#34920;&#36798;&#24335;
          </li>
<li>
<code class="computeroutput"><span class="identifier">bi_pred</span></code> is an expression
            of a type that models <code class="computeroutput"><span class="identifier">BinaryPredicate</span></code><br><code class="computeroutput"><span class="identifier">bi_pred</span></code> &#26159;&#19968;&#20010;&#31526;&#21512;
            <code class="computeroutput"><span class="identifier">BinaryPredicate</span></code> &#30340;&#31867;&#22411;&#30340;&#34920;&#36798;&#24335;
          </li>
<li>
<code class="computeroutput"><span class="identifier">fun</span></code> is an expression
            of a type that models <code class="computeroutput"><span class="identifier">UnaryFunction</span></code><br><code class="computeroutput"><span class="identifier">fun</span></code> &#26159;&#19968;&#20010; <code class="computeroutput"><span class="identifier">UnaryFunction</span></code> &#30340;&#31867;&#22411;&#30340;&#34920;&#36798;&#24335;
          </li>
<li>
<code class="computeroutput"><span class="identifier">value</span></code>, <code class="computeroutput"><span class="identifier">new_value</span></code> and <code class="computeroutput"><span class="identifier">old_value</span></code>
            are objects convertible to <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">range_value</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;::</span><span class="identifier">type</span></code><br><code class="computeroutput"><span class="identifier">value</span></code>, <code class="computeroutput"><span class="identifier">new_value</span></code> &#21644; <code class="computeroutput"><span class="identifier">old_value</span></code>
            &#22343;&#20026;&#21487;&#36716;&#25442;&#20026; <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">range_value</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;::</span><span class="identifier">type</span></code>
            &#30340;&#23545;&#35937;
          </li>
<li>
<code class="computeroutput"><span class="identifier">n</span><span class="special">,</span><span class="identifier">m</span></code> are integer expressions convertible
            to <code class="computeroutput"><span class="identifier">range_difference</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;::</span><span class="identifier">type</span></code><br><code class="computeroutput"><span class="identifier">n</span><span class="special">,</span><span class="identifier">m</span></code>
            &#20026;&#21487;&#36716;&#25442;&#20026; <code class="computeroutput"><span class="identifier">range_difference</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;::</span><span class="identifier">type</span></code>
            &#25972;&#25968;&#34920;&#36798;&#24335;
          </li>
</ul></div>
<p>
          Also note that <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">range_value</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;::</span><span class="identifier">type</span></code> must be implicitly convertible to
          the type arguments to <code class="computeroutput"><span class="identifier">pred</span></code>,
          <code class="computeroutput"><span class="identifier">bi_pred</span></code> and <code class="computeroutput"><span class="identifier">fun</span></code>.<br> &#36824;&#35201;&#27880;&#24847;&#65292;<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">range_value</span><span class="special">&lt;</span><span class="identifier">R</span><span class="special">&gt;::</span><span class="identifier">type</span></code> &#24517;&#39035;&#21487;&#38544;&#24335;&#36716;&#25442;&#20026; <code class="computeroutput"><span class="identifier">pred</span></code>, <code class="computeroutput"><span class="identifier">bi_pred</span></code>
          &#21644; <code class="computeroutput"><span class="identifier">fun</span></code> &#30340;&#31867;&#22411;&#21442;&#25968;&#12290;
        </p>
<p>
          Range Category in the following adaptor descriptions refers to the minimum
          range concept required by the range passed to the adaptor. The resultant
          range is a model of the same range concept as the input range unless specified
          otherwise.<br> &#20197;&#19979;&#36866;&#37197;&#22120;&#35828;&#26126;&#20013;&#30340;&#21306;&#38388;&#31867;&#21035;&#20026;&#20256;&#36882;&#32473;&#35813;&#36866;&#37197;&#22120;&#30340;&#21306;&#38388;&#25152;&#35201;&#27714;&#30340;&#26368;&#23567;&#21306;&#38388;&#27010;&#24565;&#12290;&#32467;&#26524;&#21306;&#38388;&#21017;&#20026;&#36755;&#20837;&#21306;&#38388;&#30340;&#30456;&#21516;&#21306;&#38388;&#27010;&#24565;&#65292;&#38500;&#38750;&#26377;&#29305;&#21035;&#35828;&#26126;&#12290;
        </p>
<p>
          Returned Range Category is the concept of the returned range. In some cases
          the returned range is of a lesser category than the range passed to the
          adaptor. For example, the <code class="computeroutput"><span class="identifier">filtered</span></code>
          adaptor returns only a <code class="computeroutput"><span class="identifier">ForwardRange</span></code>
          regardless of the input.<br> &#36820;&#22238;&#30340;&#21306;&#38388;&#31867;&#21035;&#26159;&#25152;&#36820;&#22238;&#21306;&#38388;&#30340;&#27010;&#24565;&#12290;&#22312;&#26576;&#20123;&#24773;&#20917;&#19979;&#65292;&#25152;&#36820;&#22238;&#30340;&#21306;&#38388;&#19982;&#20256;&#20837;&#33267;&#36866;&#37197;&#22120;&#30340;&#21306;&#38388;&#30456;&#27604;&#26159;&#20302;&#19968;&#20123;&#30340;&#31867;&#21035;&#12290;
          &#20363;&#22914;&#65292;<code class="computeroutput"><span class="identifier">filtered</span></code> &#36866;&#37197;&#22120;&#21482;&#33021;&#26681;&#25454;&#36755;&#20837;&#36820;&#22238;&#30456;&#23545;&#24212;&#30340;
          <code class="computeroutput"><span class="identifier">ForwardRange</span></code>&#12290;
        </p>
<p>
          Furthermore, the following rules apply to any expression of the form<br>
          &#21478;&#22806;&#65292;&#20197;&#19979;&#35268;&#21017;&#34987;&#24212;&#29992;&#20110;&#36825;&#31181;&#24418;&#24335;&#30340;&#34920;&#36798;&#24335; 
</p>
<pre class="programlisting"><span class="identifier">rng</span> <span class="special">|</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">adaptors</span><span class="special">::</span><span class="identifier">adaptor_generator</span>
</pre>
<p>
        </p>
<p>
          1. Applying <code class="computeroutput"><span class="keyword">operator</span><span class="special">|()</span></code>
          to a range <code class="computeroutput"><span class="identifier">R</span></code> (always left
          argument) and a range adapter <code class="computeroutput"><span class="identifier">RA</span></code>
          (always right argument) yields a new range type which may not conform to
          the same range concept as <code class="computeroutput"><span class="identifier">R</span></code>.<br>
          1. &#23558; <code class="computeroutput"><span class="keyword">operator</span><span class="special">|()</span></code>
          &#24212;&#29992;&#20110;&#21306;&#38388; <code class="computeroutput"><span class="identifier">R</span></code> (&#21482;&#33021;&#26159;&#24038;&#21442;&#25968;)
          &#21644;&#21306;&#38388;&#36866;&#37197;&#22120; <code class="computeroutput"><span class="identifier">RA</span></code> (&#21482;&#33021;&#26159;&#21491;&#21442;&#25968;)&#65292;&#23558;&#29983;&#25104;&#19968;&#20010;&#26032;&#30340;&#21306;&#38388;&#31867;&#22411;&#65292;&#21487;&#33021;&#19981;&#31526;&#21512;
          <code class="computeroutput"><span class="identifier">R</span></code> &#30340;&#21306;&#38388;&#27010;&#24565;&#12290;
        </p>
<p>
          2. The return-type of <code class="computeroutput"><span class="keyword">operator</span><span class="special">|()</span></code> is otherwise unspecified.<br> 2.
          <code class="computeroutput"><span class="keyword">operator</span><span class="special">|()</span></code>
          &#30340;&#36820;&#22238;&#31867;&#22411;&#26159;&#19981;&#30830;&#23450;&#30340;&#12290;
        </p>
<p>
          3. <code class="computeroutput"><span class="keyword">operator</span><span class="special">|()</span></code>
          is found by Argument Dependent Lookup (ADL) because a range adaptor is
          implemented in namespace <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">adaptors</span></code>.<br>
          3. <code class="computeroutput"><span class="keyword">operator</span><span class="special">|()</span></code>
          &#26159;&#29992;ADL&#26469;&#26597;&#25214;&#30340;&#65292;&#22240;&#20026;&#21306;&#38388;&#36866;&#37197;&#22120;&#30340;&#23454;&#29616;&#20301;&#20110;&#21517;&#23383;&#31354;&#38388;
          <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">adaptors</span></code> &#20013;&#12290;
        </p>
<p>
          4. <code class="computeroutput"><span class="keyword">operator</span><span class="special">|()</span></code>
          is used to add new behaviour <span class="emphasis"><em><span class="bold"><strong>lazily</strong></span></em></span>
          and never modifies its left argument.<br> 4. <code class="computeroutput"><span class="keyword">operator</span><span class="special">|()</span></code> &#29992;&#20110;<span class="emphasis"><em>*&#24310;&#36831;&#22320;*</em></span>&#22686;&#21152;&#26032;&#30340;&#34892;&#20026;&#65292;&#19981;&#20250;&#20462;&#25913;&#23427;&#30340;&#24038;&#21442;&#25968;&#12290;
        </p>
<p>
          5. All iterators extracted from the left argument are extracted using qualified
          calls to <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">begin</span><span class="special">()</span></code>
          and <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">end</span><span class="special">()</span></code>.<br>
          5. &#20174;&#24038;&#21442;&#25968;&#21462;&#24471;&#30340;&#36845;&#20195;&#22120;&#26159;&#36890;&#36807;&#23545; <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">begin</span><span class="special">()</span></code> &#21644; <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">end</span><span class="special">()</span></code> &#30340;&#38480;&#23450;&#35843;&#29992;&#33719;&#24471;&#30340;&#12290;
        </p>
<p>
          6. In addition to the <code class="computeroutput"><span class="keyword">throw</span></code>-clauses
          below, <code class="computeroutput"><span class="keyword">operator</span><span class="special">|()</span></code>
          may throw exceptions as a result of copying iterators. If such copying
          cannot throw an exception, then neither can the whole expression.<br>
          6. &#38500;&#20102; <code class="computeroutput"><span class="keyword">throw</span></code>-&#23376;&#21477;&#20197;&#22806;&#65292;<code class="computeroutput"><span class="keyword">operator</span><span class="special">|()</span></code>
          &#36824;&#21487;&#33021;&#25243;&#20986;&#24322;&#24120;&#20316;&#20026;&#36845;&#20195;&#22120;&#22797;&#21046;&#30340;&#32467;&#26524;&#12290;&#22914;&#26524;&#27492;&#31867;&#22797;&#21046;&#19981;&#20250;&#25243;&#20986;&#24322;&#24120;&#65292;&#21017;&#25972;&#20010;&#34920;&#36798;&#24335;&#20063;&#19981;&#20250;&#12290;
        </p>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2003 -2010 Thorsten Ottosen, Neil Groves<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="introduction.html"><img src="../../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../adaptors.html"><img src="../../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../../index.html"><img src="../../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="reference.html"><img src="../../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>

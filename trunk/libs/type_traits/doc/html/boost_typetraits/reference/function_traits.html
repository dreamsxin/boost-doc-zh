<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>function_traits</title>
<link rel="stylesheet" href="../../../../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="../../index.html" title="Chapter&#160;1.&#160;Boost.TypeTraits">
<link rel="up" href="../reference.html" title="Alphabetical Reference &#23383;&#27597;&#39034;&#24207;&#30340;&#21442;&#32771;">
<link rel="prev" href="floating_point_promotion.html" title="floating_point_promotion">
<link rel="next" href="has_new_operator.html" title="has_new_operator">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="floating_point_promotion.html"><img src="../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../reference.html"><img src="../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="has_new_operator.html"><img src="../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="boost_typetraits.reference.function_traits"></a><a class="link" href="function_traits.html" title="function_traits"> function_traits</a>
</h3></div></div></div>
<pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">F</span><span class="special">&gt;</span>
<span class="keyword">struct</span> <span class="identifier">function_traits</span>
<span class="special">{</span>
   <span class="keyword">static</span> <span class="keyword">const</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span>    <span class="identifier">arity</span> <span class="special">=</span> <em class="replaceable"><code>see-below</code></em><span class="special">;</span>
   <span class="keyword">typedef</span> <em class="replaceable"><code>see-below</code></em>           <span class="identifier">result_type</span><span class="special">;</span>
   <span class="keyword">typedef</span> <em class="replaceable"><code>see-below</code></em>           arg<em class="replaceable"><code>N</code></em>_type<span class="special">;</span> 
<span class="special">};</span>
</pre>
<p>
        The class template function_traits will only compile if:<br> &#36825;&#20010;&#31867;&#27169;&#26495;&#20165;&#22312;&#20197;&#19979;&#24773;&#20917;&#21487;&#32534;&#35793;&#65306;
      </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
            The compiler supports partial specialization of class templates.<br>
            &#32534;&#35793;&#22120;&#25903;&#25345;&#31867;&#27169;&#26495;&#30340;&#20559;&#29305;&#21270;&#26102;&#12290;
          </li>
<li class="listitem">
            The template argument <code class="computeroutput"><span class="identifier">F</span></code>
            is a <span class="emphasis"><em>function type</em></span>, note that this <span class="emphasis"><em><span class="bold"><strong>is not</strong></span></em></span> the same thing as a <span class="emphasis"><em>pointer
            to a function</em></span>.<br> &#27169;&#26495;&#21442;&#25968; <code class="computeroutput"><span class="identifier">F</span></code>
            &#26159;&#19968;&#20010; /&#20989;&#25968;&#31867;&#22411;/&#65292;&#27880;&#24847;&#36825;&#21644;&#19968;&#20010; /&#25351;&#21521;&#20989;&#25968;&#30340;&#25351;&#38024;/
            <span class="emphasis"><em>&#19981;&#26159;</em></span>&#19968;&#26679;&#30340;&#19996;&#35199;&#12290;
          </li>
</ul></div>
<div class="tip"><table border="0" summary="Tip">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="../../../../../../doc/src/images/tip.png"></td>
<th align="left">Tip</th>
</tr>
<tr><td align="left" valign="top"><p>
          function_traits is intended to introspect only C++ functions of the form
          R (), R( A1 ), R ( A1, ... etc. ) and not function pointers or class member
          functions. To convert a function pointer type to a suitable type use <a class="link" href="remove_pointer.html" title="remove_pointer">remove_pointer</a>.<br>
          function_traits &#21482;&#33021;&#29992;&#20110;&#24418;&#22914; R (), R( A1 ), R ( A1, ... &#31561;&#31561;)&#30340;C++&#20989;&#25968;&#65292;&#32780;&#38750;&#20989;&#25968;&#25351;&#38024;&#25110;&#31867;&#25104;&#21592;&#20989;&#25968;&#12290;
          &#35201;&#23558;&#20989;&#25968;&#25351;&#38024;&#36716;&#25442;&#20026;&#36866;&#29992;&#30340;&#31867;&#22411;&#65292;&#35831;&#20351;&#29992; <a class="link" href="remove_pointer.html" title="remove_pointer">remove_pointer</a>&#12290;
        </p></td></tr>
</table></div>
<div class="table">
<a name="id5116382"></a><p class="title"><b>Table&#160;1.12.&#160;Function Traits Members &#25104;&#21592;</b></p>
<div class="table-contents"><table class="table" summary="Function Traits Members &#25104;&#21592;">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                <p>
                  Member &#25104;&#21592;
                </p>
              </th>
<th>
                <p>
                  Description &#35828;&#26126;
                </p>
              </th>
</tr></thead>
<tbody>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="identifier">F</span><span class="special">&gt;::</span><span class="identifier">arity</span></code>
                </p>
              </td>
<td>
                <p>
                  An integral constant expression that gives the number of arguments
                  accepted by the function type <code class="computeroutput"><span class="identifier">F</span></code>.<br>
                  &#19968;&#20010;&#32473;&#20986; function type&#65288;&#20989;&#25968;&#31867;&#22411;&#65289;<code class="computeroutput"><span class="identifier">F</span></code>
                  &#25509;&#25910;&#30340;&#21442;&#25968;&#30340;&#20010;&#25968;&#30340; integral constant expression&#65288;&#25972;&#24120;&#34920;&#36798;&#24335;&#65289;&#12290;
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="identifier">F</span><span class="special">&gt;::</span><span class="identifier">result_type</span></code>
                </p>
              </td>
<td>
                <p>
                  The type returned by function type <code class="computeroutput"><span class="identifier">F</span></code>.<br>
                  function type&#65288;&#20989;&#25968;&#31867;&#22411;&#65289;<code class="computeroutput"><span class="identifier">F</span></code>
                  &#30340;&#36820;&#22238;&#31867;&#22411;&#12290;
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="identifier">F</span><span class="special">&gt;::</span>arg<em class="replaceable"><code>N</code></em>_type</code>
                </p>
              </td>
<td>
                <p>
                  The <em class="replaceable"><code>N</code></em>th argument type of function type <code class="computeroutput"><span class="identifier">F</span></code>,
                  where <code class="computeroutput"><span class="number">1</span> <span class="special">&lt;=</span>
                  <span class="identifier">N</span> <span class="special">&lt;=</span>
                  <span class="identifier">arity</span></code> of <code class="computeroutput"><span class="identifier">F</span></code>.<br> &#24403; <code class="computeroutput"><span class="number">1</span>
                  <span class="special">&lt;=</span> <span class="identifier">N</span>
                  <span class="special">&lt;=</span> <span class="identifier">arity</span></code>
                  of <code class="computeroutput"><span class="identifier">F</span></code> &#26102;&#65292;function
                  type&#65288;&#20989;&#25968;&#31867;&#22411;&#65289;F &#30340;&#31532; <em class="replaceable"><code>N</code></em> &#20010;&#21442;&#25968;&#31867;&#22411;&#12290;
                </p>
              </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="table">
<a name="id5116728"></a><p class="title"><b>Table&#160;1.13.&#160;Examples &#31034;&#20363;</b></p>
<div class="table-contents"><table class="table" summary="Examples &#31034;&#20363;">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                <p>
                  Expression &#34920;&#36798;&#24335;
                </p>
              </th>
<th>
                <p>
                  Result &#32467;&#26524;
                </p>
              </th>
</tr></thead>
<tbody>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">void</span>
                  <span class="special">(</span><span class="keyword">void</span><span class="special">)&gt;::</span><span class="identifier">arity</span></code>
                </p>
              </td>
<td>
                <p>
                  An integral constant expression that has the value 0.<br> &#19968;&#20010;&#20540;&#20026;
                  0 &#30340; integral constant expression&#65288;&#25972;&#24120;&#34920;&#36798;&#24335;&#65289;&#12290;
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">long</span>
                  <span class="special">(</span><span class="keyword">int</span><span class="special">)&gt;::</span><span class="identifier">arity</span></code>
                </p>
              </td>
<td>
                <p>
                  An integral constant expression that has the value 1.<br> &#19968;&#20010;&#20540;&#20026;
                  1 &#30340; integral constant expression&#65288;&#25972;&#24120;&#34920;&#36798;&#24335;&#65289;&#12290;
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">long</span>
                  <span class="special">(</span><span class="keyword">int</span><span class="special">,</span> <span class="keyword">long</span><span class="special">,</span> <span class="keyword">double</span><span class="special">,</span> <span class="keyword">void</span><span class="special">*)&gt;::</span><span class="identifier">arity</span></code>
                </p>
              </td>
<td>
                <p>
                  An integral constant expression that has the value 4.<br> &#19968;&#20010;&#20540;&#20026;
                  4 &#30340; integral constant expression&#65288;&#25972;&#24120;&#34920;&#36798;&#24335;&#65289;&#12290;
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">void</span>
                  <span class="special">(</span><span class="keyword">void</span><span class="special">)&gt;::</span><span class="identifier">result_type</span></code>
                </p>
              </td>
<td>
                <p>
                  The type <code class="computeroutput"><span class="keyword">void</span></code>.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">long</span>
                  <span class="special">(</span><span class="keyword">int</span><span class="special">)&gt;::</span><span class="identifier">result_type</span></code>
                </p>
              </td>
<td>
                <p>
                  The type <code class="computeroutput"><span class="keyword">long</span></code>.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">long</span>
                  <span class="special">(</span><span class="keyword">int</span><span class="special">)&gt;::</span><span class="identifier">arg1_type</span></code>
                </p>
              </td>
<td>
                <p>
                  The type <code class="computeroutput"><span class="keyword">int</span></code>.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">long</span>
                  <span class="special">(</span><span class="keyword">int</span><span class="special">,</span> <span class="keyword">long</span><span class="special">,</span> <span class="keyword">double</span><span class="special">,</span> <span class="keyword">void</span><span class="special">*)&gt;::</span><span class="identifier">arg4_type</span></code>
                </p>
              </td>
<td>
                <p>
                  The type <code class="computeroutput"><span class="keyword">void</span><span class="special">*</span></code>.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">long</span>
                  <span class="special">(</span><span class="keyword">int</span><span class="special">,</span> <span class="keyword">long</span><span class="special">,</span> <span class="keyword">double</span><span class="special">,</span> <span class="keyword">void</span><span class="special">*)&gt;::</span><span class="identifier">arg5_type</span></code>
                </p>
              </td>
<td>
                <p>
                  A compiler error: there is no <code class="computeroutput"><span class="identifier">arg5_type</span></code>
                  since there are only four arguments.<br> &#19968;&#20010;&#32534;&#35793;&#22120;&#38169;&#35823;&#65306;&#27809;&#26377;
                  <code class="computeroutput"><span class="identifier">arg5_type</span></code> &#22240;&#20026;&#21482;&#26377;
                  4 &#20010;&#21442;&#25968;&#12290;
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">function_traits</span><span class="special">&lt;</span><span class="keyword">long</span>
                  <span class="special">(*)(</span><span class="keyword">void</span><span class="special">)&gt;::</span><span class="identifier">arity</span></code>
                </p>
              </td>
<td>
                <p>
                  A compiler error: argument type is a <span class="emphasis"><em>function pointer</em></span>,
                  and not a <span class="emphasis"><em>function type</em></span>.<br> &#19968;&#20010;&#32534;&#35793;&#22120;&#38169;&#35823;&#65306;&#21442;&#25968;&#31867;&#22411;&#26159;&#19968;&#20010;
                  /function pointer/&#65292;&#32780;&#19981;&#26159;&#19968;&#20010; /function type/&#12290;
                </p>
              </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2000, 2006 Adobe Systems Inc, David Abrahams,
      Steve Cleary, Beman Dawes, Aleksey Gurtovoy, Howard Hinnant, Jesse Jones, Mat
      Marcus, Itay Maman, John Maddock, Alexander Nasonov, Thorsten Ottosen, Robert
      Ramey and Jeremy Siek<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="floating_point_promotion.html"><img src="../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../reference.html"><img src="../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="has_new_operator.html"><img src="../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>

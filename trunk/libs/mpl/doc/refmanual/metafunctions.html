<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><!-- Copyright Aleksey Gurtovoy 2006. Distributed under the Boost --><!-- Software License, Version 1.0. (See accompanying --><!-- file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt) -->




  
  
  
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />




  
  
  
  <meta name="generator" content="Docutils 0.3.6: http://docutils.sourceforge.net/" />





  
  
  
  
  
  
  
  <title>The MPL Reference Manual: Metafunctions</title><link rel="stylesheet" href="../style.css" type="text/css" /></head>

<body class="docframe refmanual">




<table class="header">



  <tbody>



    <tr class="header">



      <td class="header-group navigation-bar"><span class="navigation-group"><a href="./reverse-stable-partition.html" class="navigation-link">Prev</a>&nbsp;<a href="./metafunctions-concepts.html" class="navigation-link">Next</a></span><span class="navigation-group-separator">&nbsp;|&nbsp;</span><span class="navigation-group"><a href="./algorithms.html" class="navigation-link">Back</a>&nbsp;<a href="./data-types.html" class="navigation-link">Along</a></span><span class="navigation-group-separator">&nbsp;|&nbsp;</span><span class="navigation-group"><a href="../refmanual.html" class="navigation-link">Up</a>&nbsp;<a href="../refmanual.html" class="navigation-link">Home</a></span><span class="navigation-group-separator">&nbsp;|&nbsp;</span><span class="navigation-group"><a href="./refmanual_toc.html" class="navigation-link">Full TOC</a></span></td>




      <td class="header-group page-location"><a href="../refmanual.html" class="navigation-link">标题页</a> / <a href="./metafunctions.html" class="navigation-link">元函数</a></td>




    </tr>



  
  
  
  </tbody>
</table>



<div class="header-separator"></div>




<div class="section" id="metafunctions">
<h1><a class="toc-backref" href="../refmanual.html#id436" name="metafunctions">元函数</a></h1>




<a class="target" id="label-metafunctions" name="label-metafunctions"></a>
<p>MPL 包含了大量预定义的元函数，它们可以大致分为两类：<cite>通用元函数</cite>, 处理有条件 <a class="reference" href="./type-selection.html">类型选择</a> 以及高阶元函数 <a class="reference" href="./invocation.html">调用</a>, <a class="reference" href="./composition-and-argument-binding.html#composition">合成</a>, 以及 <a class="reference" href="./composition-and-argument-binding.html#argument-binding">参数绑定</a>, 和 <cite>数值元函数</cite>, 
封装内建和用户定义的 <a class="reference" href="./arithmetic-operations.html">算术</a>, <a class="reference" href="./comparisons.html">比较</a>, 
<a class="reference" href="./logical-operations.html">逻辑</a>, 和 <a class="reference" href="./bitwise-operations.html">位操作</a> 操作。</p>




<p>由于本就可以在编译期以常规的操作符来执行整型数值计算，看起来对上述第二类元函数的需要不太明显，但是实际上，它在使得MPL编程更为容易这一点上扮演了核心角色。具体地说，至少在两种情形下，内建的语言工具存在不足<a class="footnote-reference" href="#portability" id="id200" name="id200">[3]</a>:</p>




<ol class="arabic simple">




  <li>传递一个计算对算法。</li>




  <li>对非整型数据执行计算。</li>




</ol>




<p>第二种情形值得特别关注。与内建的严格的编译期整型算术相比，MPL的数值元函数是
<em>多态的</em>, 可以支持 <em>混合类型算术</em>。这意味着它们可以操作于不同的数值类型 — 例如有理数、定点数或复数 — 通常你可以在单个表达式中随意混合各种类型。关于MPL数值基础设施的细节请见 <a class="reference" href="./numeric-metafunction.html">数值元函数</a> 概念一节。</p>




<!-- The provided `infrastructure`__ allows easy plugging of user-defined numeric 
types
Naturally, they also , meaning that you can perform a computation on the 
arguments of different types, and the result will yeild the largest/most general 
of them. For user-defined numeric types, they provide an `infrastructure`__ that 
allows easy plugging and seemless integration with predefined library 
types. details.

__ `Numeric Metafunction`_ -->
<p>为了减少以元函数表示法取代中缀操作符表示法所带来的负面语法影响，所有数值元函数允许被传入最多 N 个参数，其中 N 由
<a class="refentry reference" href="./limit-metafunction-arity.html"><tt class="refentry literal"><span class="pre">BOOST_MPL_LIMIT_METAFUNCTION_ARITY</span></tt></a> 配置宏定义。</p>




<table class="footnote" id="portability" frame="void" rules="none">




  <colgroup><col class="label" /><col /></colgroup>
  <tbody valign="top">




    <tr>



      <td class="label"><a class="fn-backref" href="#id200" name="portability">[3]</a></td>



      <td>在编写本文档的时候(2004年早期)，还考虑到对整型常量使用内建操作符还常常带来可移植性的问题 —
许多编译器不能处理特定形式的表达式，迫使我们使用条件编译。由于MPL数值元函数根据类型来工作，且在内部封装了这些，所以可以躲开这些问题，如果你的
目标是可移植性，建议你使用数值元函数取替常规的操作符，即使会带来一点可读性下降的代价。</td>



    </tr>




  
  
  
  </tbody>
</table>




<!-- modtime: November 04, 2004 09:37:30 +0000 -->
<ul class="toc simple" id="outline">




  <li><a class="reference" href="./metafunctions-concepts.html" id="id437" name="id437">概念</a></li>




  <li><a class="reference" href="./type-selection.html" id="id445" name="id445">类型选择</a></li>




  <li><a class="reference" href="./invocation.html" id="id450" name="id450">调用</a></li>




  <li><a class="reference" href="./composition-and-argument-binding.html" id="id454" name="id454">合成与参数绑定</a></li>




  <li><a class="reference" href="./arithmetic-operations.html" id="id461" name="id461">算术操作</a></li>




  <li><a class="reference" href="./comparisons.html" id="id468" name="id468">比较</a></li>




  <li><a class="reference" href="./logical-operations.html" id="id475" name="id475">逻辑操作</a></li>




  <li><a class="reference" href="./bitwise-operations.html" id="id479" name="id479">位操作</a></li>




  <li><a class="reference" href="./trivial.html" id="id485" name="id485">平凡元函数</a></li>




  <li><a id="id1544" class="reference internal" href="./string-operations.html">字符串操作</a><span class="reference"></span></li><li><a class="reference" href="./miscellaneous.html" id="id487" name="id487">杂项</a></li>




</ul>




</div>





<div class="footer-separator"></div>




<table class="footer">



  <tbody>



    <tr class="footer">



      <td class="header-group navigation-bar"><span class="navigation-group"><a href="./reverse-stable-partition.html" class="navigation-link">Prev</a>&nbsp;<a href="./metafunctions-concepts.html" class="navigation-link">Next</a></span><span class="navigation-group-separator">&nbsp;|&nbsp;</span><span class="navigation-group"><a href="./algorithms.html" class="navigation-link">Back</a>&nbsp;<a href="./data-types.html" class="navigation-link">Along</a></span><span class="navigation-group-separator">&nbsp;|&nbsp;</span><span class="navigation-group"><a href="../refmanual.html" class="navigation-link">Up</a>&nbsp;<a href="../refmanual.html" class="navigation-link">Home</a></span><span class="navigation-group-separator">&nbsp;|&nbsp;</span><span class="navigation-group"><a href="./refmanual_toc.html" class="navigation-link">Full TOC</a></span></td>




    </tr>



  
  
  
  </tbody>
</table>



</body></html>
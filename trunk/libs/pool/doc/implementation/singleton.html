<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
  <meta http-equiv="Content-Language" content="en-us">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link href="../pool.css" rel="stylesheet" type="text/css">

  <title>singleton - Singleton</title></head>
<body>
  <img src="../../../../boost.png" alt="C++ Boost" height="86" width="276">

  <h1 align="center">singleton - Singleton 单件</h1>

  <h2>Introduction 简介</h2>

  <p>detail/singleton.hpp provides a way to access a Singleton of a class
  type. This is <strong>not</strong> a general Singleton solution! It is
  restricted in that the class type must have a default constructor.<br>detail/singleton.hpp 提供了一个访问某个类类型的 Singleton 的方法。它<strong>不是</strong>一个通用的 Singleton 方案！它被限于该类类型必须有一个缺省构造函数。</p>

  <h2>Synopsis 摘要</h2>
  <pre class="code">namespace details {<br>namespace pool {<br><br>template &lt;typename T&gt;<br>class singleton_default<br>{<br>  private:<br>    singleton_default();<br><br>  public:<br>    typedef T object_type;<br><br>    static object_type &amp; instance();<br>};<br><br>} // namespace pool<br>} // namespace details<br></pre>

  <h2>Semantics 语义</h2>

  <table summary="" align="center" border="1">
    <caption>
      <em>Symbol Table</em>
    </caption>

    <tbody><tr>
      <th>Symbol</th>

      <th>Meaning</th>
    </tr>

    <tr>
      <td class="code">T</td>

      <td>Any class with a non-throwing default constructor and non-throwing
      destructor<br>任何带有无抛出缺省构造函数和无抛出析构函数的类</td>
    </tr>
  </tbody></table><br>

  <table summary="" align="center" border="1">
    <caption>
      <em>Requirements satisfied by <span class="code">singleton_default&lt;T&gt;</span></em>
    </caption>

    <tbody><tr>
      <th>Expression</th>

      <th>Return Type</th>

      <th>Assertion/Note/Pre/Post-Condition</th>
    </tr>

    <tr>
      <td class="code">singleton_default&lt;T&gt;::instance()</td>

      <td class="code">T &amp;</td>

      <td>Returns a reference to the singleton instance<br>返回一个引向单件实例的引用</td>
    </tr>
  </tbody></table>

  <h2>Guarantees 保证</h2>

  <p>The singleton instance is guaranteed to be constructed before
  <span class="code">main()</span> begins, and destructed after <span class="code">main()</span> ends. Furthermore, it is guaranteed to be constructed
  before the first call to <span class="code">singleton_default&lt;T&gt;::instance()</span> is complete (even if
  called before <span class="code">main()</span> begins). Thus, if there are
  not multiple threads running except within <span class="code">main()</span>, and if all access to the singleton is restricted by
  mutexes, then this guarantee allows a thread-safe singleton.<br>该单件实例保证在
  <span class="code">main()</span> 开始之前完成构造，并在 <span class="code">main()</span> 结束之后析构。此外，它还保证在首次调用 <span class="code">singleton_default&lt;T&gt;::instance()</span> 之前完成构造(即使是在 <span class="code">main()</span> 开始之前调用)。因此，如果除了在 <span class="code">main()</span> 内部以外没有多线程运行，而且如果所有对该单件的访问都受限于互斥体，则可以保证这是一个线程安全的单件。</p>

  <h2>Details 细节</h2>

  <p>For details on how we provide the guarantees above, see the comments in
  the header file.<br>对于我们如何提供以上保证的有关细节，请参考该头文件中的注释。</p>

  <h2>Dependencies 相关性</h2>

  <p>None.<br>无。</p>

  <h2>Future Directions 未来的方向</h2>

  <p>This header may be replaced by a Boost singleton library.<br>该头文件可能会被一个 Boost 单件库所替代。</p>
  <hr>

  <p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-html401" alt="Valid HTML 4.01 Transitional" border="0" height="31" width="88"></a></p>

  <p>Revised 
  <!--webbot bot="Timestamp" s-type="EDITED" s-format="%d %B, %Y" startspan -->05
  December, 2006<!--webbot bot="Timestamp" endspan i-checksum="38516" --></p>

  <p><i>Copyright © 2000, 2001 Stephen Cleary (scleary AT jerviswebb DOT
  com)</i></p>

  <p><i>Distributed under the Boost Software License, Version 1.0. (See
  accompanying file <a href="../../../../LICENSE_1_0.txt">LICENSE_1_0.txt</a>
  or copy at <a href="http://www.boost.org/LICENSE_1_0.txt">http://www.boost.org/LICENSE_1_0.txt</a>)</i></p>
</body></html>
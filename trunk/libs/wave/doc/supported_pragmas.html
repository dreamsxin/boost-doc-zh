<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>

<title>Supported Pragma Directives</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="theme/style.css" rel="stylesheet" type="text/css"></head>
<body>
<table background="theme/bkd2.gif" border="0" cellspacing="2" width="100%">
  <tbody><tr> 
    <td width="21"> <h1></h1></td>
    <td width="885"> <font face="Verdana, Arial, Helvetica, sans-serif"><b><font size="6">Supported 
      Pragma Directives <br>支持的pragma指令</font></b></font></td>
    <td width="96"><a href="http://www.boost.org"><img src="theme/wave.gif" align="right" border="0" height="68" width="93"></a></td>
  </tr>
</tbody></table>
<br>
<table border="0">
  <tbody><tr> 
    <td width="10"></td>
    <td width="30"><a href="../index.html"><img src="theme/u_arr.gif" border="0"></a></td>
    <td width="30"><a href="tracing_facility.html"><img src="theme/l_arr.gif" border="0"></a></td>
    <td width="30"><a href="acknowledgements.html"><img src="theme/r_arr.gif" border="0"></a></td>
  </tr>
</tbody></table>
<blockquote>
  <p><a href="supported_pragmas.html#library_pragmas">Pragma directives supported by the Wave library &nbsp;Wave库所支持的Pragma指令</a><br>
    <a href="supported_pragmas.html#tool_pragmas">Pragma directives supported by the Wave tool &nbsp;Wave工具所支持的Pragma指令</a></p>
</blockquote>
<h2><a name="library_pragmas"></a>Pragma directives supported by the Wave library &nbsp;Wave库所支持的Pragma指令 </h2>
<p>The <tt>Wave</tt> preprocessor library natively supports the <span class="preprocessor">#pragma&nbsp;once</span> and <span class="preprocessor">#pragma&nbsp;message("...")</span> directives.<br><tt>Wave</tt> 预处理器库本身支持 <span class="preprocessor">#pragma&nbsp;once</span> 和 <span class="preprocessor">#pragma&nbsp;message("...")</span> 指令。 </p>
<p>The <span class="preprocessor">#pragma&nbsp;once</span> directive  specifies that the file in which the pragma resides will be included 
  (opened)  only once. This may be used to optimize 
  the preprocessing of larger compilation units, which include a lot of files. Note though, that the <span class="preprocessor">#pragma&nbsp;once</span> directive is supported only, if the compile time constant <tt>BOOST_WAVE_SUPPORT_PRAGMA_ONCE</tt> was given during compilation of the library.<br>指令 <span class="preprocessor">#pragma&nbsp;once</span> 指定该 pragma 所在的文件只能被包含(打开)一次。这可以用于对较大编译单元的预处理器进行优化，这些编译单元通常会包含大量文件。注意，指令 <span class="preprocessor">#pragma&nbsp;once</span> 仅当在编译本库时给定了编译期常量 <tt>BOOST_WAVE_SUPPORT_PRAGMA_ONCE</tt> 时方可支持。</p>
<p>The <span class="preprocessor">#pragma&nbsp;message(...)</span>
directive generates a remark containing the given message text. This
may be useful to generate status messages directly from the
preprocessed file. Note though, that the #pragma message(...) directive
is supported only, if the compile time constant <tt>BOOST_WAVE_SUPPORT_PRAGMA_MESSAGE</tt> was given during the compilation of the library. Note additionally, that the body of the message is preprocessed whenever the <tt>BOOST_WAVE_PREPROCESS_PRAGMA_BODY</tt> compile time constant was defined during compilation of the library.<br>指令 <span class="preprocessor">#pragma&nbsp;message(...)</span>
生成一个包含给定信息文本的标记。可用于从预处理文件直接生成状态信息。注意，指令 #pragma message(...) 仅当在编译本库时给定了编译期常量 <tt>BOOST_WAVE_SUPPORT_PRAGMA_</tt><tt>MESSAGE</tt> 时方可支持。另外还要注意，只要在编译本库时给定了编译期常量 <tt>BOOST_WAVE_</tt><tt>PREPROCESS_PRAGMA_BODY</tt><tt></tt>，信息体就会被进行预处理。 </p>
<h2><a name="tool_pragmas"></a>Pragma directives supported by the Wave tool &nbsp;Wave工具所支持的Pragma指令</h2>
<p>The Wave preprocessor tool additionally supports specific <span class="preprocessor">#pragma</span>  directives, which may be used to control some of the tools features. These <span class="preprocessor">#pragma</span> directives are implemented using the <tt>interpret_pragma()</tt> preprocessing hook (see <a href="class_reference_ctxpolicy.html#interpret_pragma">here</a>).<br>Wave 预处理器工具也支持一些专门的 <span class="preprocessor">#pragma</span>  指令，可用于控制工具的某些特性。这些 <span class="preprocessor">#pragma</span> 指令是用 <tt>interpret_pragma()</tt> 预处理钩子实现的(请见<a href="class_reference_ctxpolicy.html#interpret_pragma">这里</a>)。</p>
<p>All directives 
  described here are usable as conventional <span class="preprocessor">#pragma</span> directives and as <span class="preprocessor">operator&nbsp;_Pragma</span> (if variadics are enabled). So for instance the 
  following directives are functionally identical:<br>这里所介绍的所有指令均可用作传统的 <span class="preprocessor">#pragma</span> 指令和用作 <span class="preprocessor">operator&nbsp;_Pragma</span> (如果启用了 variadics)。因此，以下指令在功能上是一样的：</p>
<pre>    #pragma wave trace(enable)  </pre>
<p>and<br>和 </p>
<pre>    _Pragma("wave trace(enable)")</pre>
<p>All <tt>Wave</tt> specific pragma's must have the general form <tt>'wave option[(value)]'</tt>, 
  where <tt>'wave'</tt> is the specific keyword (which may be configured through the <tt>BOOST_WAVE_PRAGMA_KEYWORD</tt> compile time constant, see <a href="compiletime_config.html">here</a> for more information), <tt>'option'</tt> is the concrete 
  pragma functionality to trigger and <tt>'value'</tt> is an optional value to 
  be supplied to the <tt>'option'</tt> functionality. The following table lists 
  all possible pragma functions supported by the <tt>Wave</tt> library. For all recognised pragmas of this general form the interpret_pragma hook function from inside the <a href="class_reference_ctxpolicy.html">preprocessing_hooks</a> policy are called, so that the user of the library is responsible for the correct interpretation of these pragma's.<br>所有的 <tt>Wave</tt> 专用 pragma 必须具有一般形式 <tt>'wave option[(value)]'</tt>，其中 <tt>'wave'</tt> 为专用的关键字(可以通过编译期常量 <tt>BOOST_WAVE_PRAGMA_KEYWORD</tt> 来配置，更多信息请见<a href="compiletime_config.html">这里</a>)，<tt>'option'</tt> 为要触发的具体 
  pragma 功能，<tt>'value'</tt> 是一个可选值，提供给 <tt>'option'</tt>。下表列出了 <tt>Wave</tt> 库支持的所有 pragma 功能。对于所有具有此形式的、被识别出来的 pragmas，将会调用 <a href="class_reference_ctxpolicy.html">preprocessing_hooks</a> 策略中的 interpret_pragma 钩子，因此库用户要负责对这些 pragma 进行正确的解释。 </p>
<table align="center" border="0" width="77%">
  <tbody><tr> 
    <td colspan="3"> <p class="table_title">Supported pragma's<br>支持的 pragma</p></td>
  </tr>
  <tr> 
    <td> <p class="toc_title" width="36%">pragma option</p></td>
    <td> <p class="toc_title" width="28%">pragma value<br>pragma值</p></td>
    <td> <p class="toc_title" width="36%">description&nbsp;<br>说明</p></td>
  </tr>
  <tr> 
    <td class="table_cells" width="15%"> <p>trace</p></td>
    <td class="table_cells" width="31%"> <p>enable/on/1<br>
    disable/off/0</p></td>
    <td class="table_cells" width="54%"><p>Enable or disable the tracing of the 
        macro expansion process. This is needed, even if there is given the --trace 
        command line option, because the trace output is generated only, if there 
    is at least one trace(enable) pragma found.<br>启用或禁用对宏展开过程的跟踪。即使已经在命令行中给定 --trace 选项，也还需要这个，因为跟踪输出仅当至少找到一个 trace(enable) pragma 时才生成。</p></td>
  </tr>
  <tr> 
    <td class="table_cells"><p>stop</p></td>
    <td class="table_cells"><p>message</p></td>
    <td class="table_cells"><p>Stop the execution of <tt>Wave</tt> and print out 
        the given message. This is very helpful for direct debugging purposes.<br>停止 <tt>Wave</tt> 的执行并打印出给定的信息。对于直接的调试有用。</p></td>
  </tr>
  
  <tr> 
    <td class="table_cells"><p>system</p></td>
    <td class="table_cells"><p>command</p></td>
    <td class="table_cells"><p>Try to spawn the 'command' as a new operating system 
        command and intercept the generated stdout and stderr. The stdout output 
        of this command (if any) is retokenized and used as the replacement text 
        for the whole pragma, the stderr output is ignored. The command is considered 
        to be successful, if/when the return value is zero, otherwise an error 
        is reported. <br>
        This <span class="preprocessor">#pragma</span> is available only if the command line option -x is specified. The <tt>Wave</tt> driver will issue a remark if this command line argument is not specified and a <span class="preprocessor">#pragma&nbsp;wave&nbsp;system()</span> directive is encountered<br>尝
试 spawn 出一个新的操作系统命令 'command'，并截取生成的 stdout 和 stderr。该命令的 stdout
输出(如果有)被重新分词并用于替换掉整个 pragma
的文本，stderr&nbsp;输出则被忽略。当该命令的返回值为零时，认为命令执行成功，否则报告一个错误。<br>这个 <span class="preprocessor">#pragma</span> 仅当指定了命令行选项 -x 时有效。如果该选项未指定且遇到一个 <span class="preprocessor">#pragma&nbsp;wave&nbsp;system()</span> 指令，则 <tt>Wave</tt> 驱动器将产生一个标记。
      </p></td>
  </tr>
  <tr> 
    <td class="table_cells"><p>timer</p></td>
    <td class="table_cells"><p> restart/0<br>
        &lt;no value&gt; <br>
        suspend<br>
        resume </p></td>
    <td class="table_cells"><p>The value <tt>restart</tt> set the current elapsed 
        time to 0 and restarts the timer.</p>
      <p> If no value is provided, the current elapsed time is printed to the std::cerr 
        stream.        </p>
      <p>The values <tt>suspend</tt> and <tt>resume</tt> allow to temporarily stop 
        and resume the timing.</p>
      
      <p>值 <tt>restart</tt> 设置将当前的运行时间为 0，重新开始计时。<br>如果未提供值，则将当前运行时间打印到 std::cerr 流。<br>值 <tt>suspend</tt> 和 <tt>resume</tt> 可以临时停止和恢复计时。</p></td>
  </tr>
  <tr>
    <td class="table_cells"><p>option</p></td>
    <td class="table_cells"><p>line: [0 | 1 | push | pop]<br> 
      preserve: [0 | 1 | 2 | push | pop]<br>
      output: ["filename" | null | default | push | pop]
</p>
    </td>
    <td class="table_cells"><p>The <tt>option(line: ...)</tt> directive allows to control, whether <span class="preprocessor">#line</span>
directives will be generated in the output stream. Specify either '0'
or '1' as the option parameter. All other values will be flaged as
illegal. </p>
      <p>The <tt>option(preserve: ...)</tt> directive
allows to control the amount of whitespace generated in the output
stream. The value '0' removes any not needed whitespace, the value '1'
keeps comments only and the value '2' does not remove any whitespace.</p>
    <p>The <tt>option(output: ...)</tt>
directive allows to specify the name of the file, where the output is
generated to. Specify either a valid filename (which will be
interpreted relative to directory of the processed file), the value <tt>null</tt> to disable the output at all, or the value <tt>default</tt> to use the output as specified on the command line using the --output/-o option. </p>
    <p>The pragma values <tt>push</tt> and <tt>pop</tt> may be used for all of the options (<tt>line</tt>, <tt>preserve</tt> and <tt>output</tt>) to store and restore the current value of the corresponding option.</p>
      
    
    <p>指令 <tt>option(line: ...)</tt> 可以控制是否在输出流中生成 <span class="preprocessor">#line</span>
指令。以 '0' 或 '1' 为选项参数。所有其它值将被标志为非法。<br>指令 <tt>option(preserve: ...)</tt> 可以控制在输出流中生成的空白数量。值 '0' 删除所有非必要的空白，值 '1'
则只保留注释，值 '2' 则不删除任何空白。<br>指令 <tt>option(output: ...)</tt>
可以指定输出的文件名。要么指定一个有效的文件名(按相对于被处理文件的目录来解释)，值 <tt>null</tt> 则禁止输出，要么使用值 <tt>default</tt> 来表示在命令行中以 --output/-o 选项指定的文件。<br>pragma 值 <tt>push</tt> 和 <tt>pop</tt> 可用于以上所有选项(<tt>line</tt>, <tt>preserve</tt> 和 <tt>output</tt>)，以保存和恢复相应选项的当前值。</p><p> </p></td>
  </tr>
</tbody></table>
<p>All pragma's not listed here but flagged as <tt>'wave'</tt> are currently reported as 
  errors. The handling of all remaining pragma's depends on the compilation constant 
  <code><tt>BOOST_WAVE_RETURN_PRAGMA_DIRECTIVES</tt></code>, which allows to specify, 
  if those pragmas are left unchanged in the output stream or not. Please note, 
  that the operator _Pragma variant is always subject to full preprocessing, before 
  the pragma itself is evaluated. The #pragma variant is subject to preprocessing 
  only, if the <code><tt>BOOST_WAVE_PREPROCESS_PRAGMA_BODY</tt></code> compilation constant 
  was specified during compilation. For more information about the possible compilation 
  constants look <a href="compiletime_config.html">here</a>.<br>所有带有 <tt>'wave'</tt> 标志而又没有在上表列出的 pragma 目前都会被报告为错误。所有其它 pragma 的处理方式取决于编译常量 
  <code><tt>BOOST_WAVE_RETURN_PRAGMA_DIRECTIVES</tt></code>，该常量可以指定这些 pragma 是否按原样保留在输出流中。请注意，operator _Pragma 变体总是会在对其 pragma 被求值之前得到完全的预处理。#pragma 变体则只是在 <code><tt>BOOST_WAVE_PREPROCESS_PRAGMA_BODY</tt></code> 编译常量在编译时有被指定的情况下才会进行预处理。有关可用编译常量的更多信息，请见<a href="compiletime_config.html">这里</a>。</p>
<p>It is fairly easy to implement your own <span class="preprocessor">#pragma&nbsp;wave&nbsp;...</span> directives. All you have to do is to implement your own <tt>interpret_pragma</tt> preprocessing hook function (see <a href="class_reference_ctxpolicy.html#interpret_pragma">here</a>)
which should handle the additional directives. For an example of how to
do it, you may have a look at the Wave driver application, which
implements all of the pragma's listed above with the help of a supplied
<tt>interpret_pragma</tt> function (for instance the  <span class="preprocessor">#pragma wave timer()</span> directive).<br>要实现你自己的 <span class="preprocessor">#pragma&nbsp;wave&nbsp;...</span> 指令相当容易。你要做的就是，实现你自己的 <tt>interpret_pragma</tt> 预处理钩子函数(见<a href="class_reference_ctxpolicy.html#interpret_pragma">此</a>)，该函数用于处理新增的指令。作为一个例子，你可以看一下 Wave 驱动器程序，它提供了一个
<tt>interpret_pragma</tt> 函数，实现了以上所有列出的 pragma (例如  <span class="preprocessor">#pragma wave timer()</span> 指令)。 </p>
<table border="0">
  <tbody><tr> 
    <td width="10"></td>
    <td width="30"><a href="../index.html"><img src="theme/u_arr.gif" border="0"></a></td>
    <td width="30"><a href="tracing_facility.html"><img src="theme/l_arr.gif" border="0"></a></td>
    <td width="30"><a href="acknowledgements.html"><img src="theme/r_arr.gif" border="0"></a></td>
  </tr>
</tbody></table>
<hr size="1">
<p class="copyright">Copyright © 2003-2008 Hartmut Kaiser<br>
  <br>
<font size="2">Distributed under the Boost Software License, Version
1.0. (See accompanying file LICENSE_1_0.txt or copy at
http://www.boost.org/LICENSE_1_0.txt) </font> </p>
<span class="updated"></span>
<p class="copyright"><span class="updated">Last updated: 
  <!-- #BeginDate format:fcAm1m -->Thursday, January 11, 2007  20:14<!-- #EndDate -->
  </span>
</p>
<p>&nbsp;</p>
</body></html>
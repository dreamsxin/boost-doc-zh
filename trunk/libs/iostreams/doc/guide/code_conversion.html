<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="content-type">

    
    
  <title>Code Conversion</title>
  <link rel="stylesheet" href="../../../../boost.css">

    
  <link rel="stylesheet" href="../theme/iostreams.css">
</head>


<body>


<!-- Begin Banner -->

    
<h1 class="title">用户指南</h1>

    
<hr class="banner">

<!-- End Banner -->

<!-- Begin Nav -->

<div class="nav">
     <a href="filtering_streams.html"><img src="../../../../doc/src/images/prev.png" border="0" height="19" width="19"></a>
    <a href="guide.html"><img src="../../../../doc/src/images/up.png" border="0" height="19" width="19"></a>
    <a href="asynchronous.html"><img src="../../../../doc/src/images/next.png" border="0" height="19" width="19"></a>
</div>


<!-- End Nav -->

<a name="overview"></a>
<h2>3.5 代码转换</h2>


<hr style="margin-top: 1em;">

<p>宽字符序列与窄字符序列间的转换过程称为 <span class="term">代码转换</span>。C++标准库定义了一个 locale facet <code>std::codecvt</code>，封装了代码转换。类模板 <code>codecvt</code> 有三个模板参数，分别是 <span class="term">内部字符类型</span>, <span class="term">外部字符类型</span> 和一个保存 <span class="term">代码转换状态</span> 的类型。内部字符类型的名字是由于它表示了应用程序处理时在内存中用于保存宽字符的类型；外部字符类型的名字是由于它表示了在文件之类的外部介质中保存字符的类型。多数情况下，内部字符类型是 <code>wchar_t</code>，外部字符类型是 <code>char</code> 而代码转换状态为 <code>std::mbstate_t</code>，一个由C++标准指定的实现定义类型。
</p>


<p>流和流缓冲缺省情况下不执行代码转换。在C++标准库中定义的流和流缓冲中，只有基于文件的流会执行代码转换。要编写一个执行代码转换的流或流缓冲，请使用类模板 <a href="../classes/code_converter.html"><code>code_converter</code></a>，它使用 <code>std::codecvt</code> facet 来执行代码转换。
</p>


<!-- Begin Footer -->

<hr>
<p class="copyright">Revised
<!--webbot bot="Timestamp" S-Type="EDITED" S-Format="%d %B, %Y" startspan -->
20 May, 2004
<!--webbot bot="Timestamp" endspan i-checksum="38504" -->
</p>


<p class="copyright">&copy; Copyright <a href="http://www.kangaroologic.com" target="_top">Jonathan Turkanis</a>, 2004</p>

<p class="copyright"> 
    Distributed under the Boost Software License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt">http://www.boost.org/LICENSE_1_0.txt</a>)
</p>


<!-- End Footer -->

</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
  <meta content="text/html; charset=UTF-8" http-equiv="content-type">

    
    
  
  <title>Broken Compiler Workarounds</title><link rel="stylesheet" href="../../../../boost.css">

    
  <link rel="stylesheet" href="../theme/iostreams.css">

  <style> 
    DT A { /*text-decoration:none*/ } 
    LI A { /*text-decoration:none;*/ font: 80% Verdana, Tahoma, Arial, Helvetica, sans-serif }
  </style></head>

<body>


<!-- Begin Banner -->

    
<h1 class="title">有问题的编译器环境</h1>

    
<hr class="banner">

<!-- End Banner -->

<dl class="page-index">

  <dt><a href="#overview">简介</a></dt>

  <dt><a href="#reference">参考</a>
    </dt>
  <dl class="page-index">

      <dt><a href="#ios">1. 标准头文件 <code>&lt;ios&gt;</code></a></dt>

      <dt><a href="#streams">2. 模板化的流</a></dt>

      <dt><a href="#streambufs">3. 模板化的流缓冲</a></dt>

      <dt><a href="#streambufs">4. 字符的 Traits</a></dt>

      <dt><a href="#component_access">5.&nbsp;链中组件的访问</a></dt>

    
  </dl>

  
</dl>


<hr>

<a name="overview"></a>
<h2>简介</h2>


<p>Boost Iostreams 库包含几个宏，用于在不能支持核心语言特性且标准库的实现存在问题的编译器上工作，如不提供模板化流的编译器环境。
</p>


<a name="reference"></a>
<h2>参考</h2>


<a name="ios"></a>
<h3>1. 标准头文件 <code>&lt;ios&gt;</code></h3>


<a name="ios_headers"></a>
<h3>头文件</h3>


<dl class="page-index">

  <dt><a class="header" href="../../../../boost/iostreams/detail/ios.hpp"><code>&lt;boost/iostreams/detail/ios.hpp&gt;</code></a></dt>

</dl>


<a name="ios_synopsis"></a>
<h3>摘要</h3>


<pre class="broken_ie"><span class="preprocessor">#define</span> <a class="documented" href="#boost_iostreams_basic_ios">BOOST_IOSTREAMS_BASIC_IOS</a>(ch, tr) ...<br><span class="preprocessor">#define</span> <a class="documented" href="#boost_ios">BOOST_IOS</a> ...<br><span class="preprocessor">#define</span> <a class="documented" href="#boost_iostreams_failure">BOOST_IOSTREAMS_FAILURE</a> ...</pre>


<a name="boost_iostreams_basic_ios"></a>
<h4><code>BOOST_IOSTREAMS_BASIC_IOS</code></h4>


<p>对于支持模板化流的标准库，扩展为 <code>std::basic_ios&lt;ch, tr&gt;</code>，否则扩展为 <code>std::ios</code>&nbsp;.</p>


<a name="boost_ios"></a>
<h4><code>BOOST_IOS</code></h4>


<p>如果可以就扩展为 <code>std::ios_base</code>，否则扩展为 <code>std::ios</code>&nbsp;. 要访问嵌套类 <code>std::ios_base::failure</code>,&nbsp;使用 <a href="#boost_iostreams_failure"><code>BOOST_IOSTREAMS_FAILURE</code></a>.

<a name="boost_iostreams_failure"></a>
</p>
<h4><code>BOOST_IOSTREAMS_FAILURE</code></h4>


<p>如果可以就扩展为 <code>std::ios_base::failure</code>，否则扩展为某个合适的 <code>std::exception</code>&nbsp;派生类。</p><a name="streams"></a>
<h3>2. 模板化的流</h3>


<a name="streams_headers"></a>
<h3>头文件</h3>


<dl class="page-index">

  <dt><a class="header" href="../../../../boost/iostreams/detail/iostream.hpp"><code>&lt;boost/iostreams/detail/iostream.hpp&gt;</code></a></dt>

</dl>


<a name="streams_synopsis"></a>
<h3>摘要</h3>


<pre class="broken_ie"><span class="preprocessor">#define</span> <a class="documented" href="#boost_iostreams_basic_istream">BOOST_IOSTREAMS_BASIC_ISTREAM</a>(ch, tr) ...<br>#define <a class="documented" href="#boost_iostreams_basic_ostream">BOOST_IOSTREAMS_BASIC_OSTREAM</a>(ch, tr) ...<br>#define <a class="documented" href="#boost_iostreams_basic_iostream">BOOST_IOSTREAMS_BASIC_IOSTREAM</a>(ch, tr) ...</pre>


<a name="boost_iostreams_basic_istream"></a>
<h4><code>BOOST_IOSTREAMS_BASIC_ISTREAM</code></h4>


<p>对于支持模板化流的标准库，扩展为 <code>std::basic_istream&lt;ch, tr&gt;</code>，否则扩展为 <code>std::istream</code>&nbsp;.</p>


<a name="boost_iostreams_basic_ostream"></a>
<h4><code>BOOST_IOSTREAMS_BASIC_OSTREAM</code></h4>


<p>对于支持模板化流的标准库，扩展为 <code>std::basic_ostream&lt;ch, tr&gt;</code>，否则扩展为 <code>std::ostream</code>&nbsp;.</p>


<a name="boost_iostreams_basic_iostream"></a>
<h4><code>BOOST_IOSTREAMS_BASIC_IOSTREAM</code></h4>


<p>对于支持模板化流的标准库，扩展为 <code>std::basic_iostream&lt;ch, tr&gt;</code>，否则扩展为 <code>std::iostream</code>&nbsp;.</p>


<a name="streambufs"></a>
<h3>3. 模板化的流缓冲</h3>


<a name="streambufs_headers"></a>
<h3>头文件</h3>


<dl class="page-index">

  <dt><a class="header" href="../../../../boost/iostreams/detail/iostream.hpp"><code>&lt;boost/iostreams/detail/streambuf.hpp&gt;</code></a></dt>

</dl>


<a name="streambufs_synopsis"></a>
<h3>摘要</h3>


<pre class="broken_ie"><span class="preprocessor">#define</span> <a class="documented" href="#boost_iostreams_basic_streambuf">BOOST_IOSTREAMS_BASIC_STREAMBUF</a>(ch, tr) ...<br>#define <a class="documented" href="#boost_iostreams_pubseekoff">BOOST_IOSTREAMS_PUBSEEKOFF</a> ...<br>#define <a class="documented" href="#boost_iostreams_pubseekpos">BOOST_IOSTREAMS_PUBSEEKPOS</a> ...<br>#define <a class="documented" href="#boost_iostreams_pubsync">BOOST_IOSTREAMS_PUBSYNC</a> ...</pre>


<a name="boost_iostreams_basic_streambuf"></a>
<h4><code>BOOST_IOSTREAMS_BASIC_STREAMBUF</code></h4>


<p>对于支持 <code>std::basic_streambuf</code> 的标准库，扩展为 <code>std::basic_streambuf&lt;ch, tr&gt;</code>，否则扩展为 <code>std::streambuf</code>&nbsp;.</p>



<a name="boost_iostreams_pubseekoff"></a>
<h4><code>BOOST_IOSTREAMS_PUBSEEKOFF</code></h4>


<p>对于支持 <code>std::basic_streambuf</code><code>::pubseekoff</code> 的标准库，扩展为 <code>pubseekoff</code>，否则扩展为 <code>seekoff</code>&nbsp;.</p>


<a name="boost_iostreams_pubseekpos"></a>
<h4><code>BOOST_IOSTREAMS_PUBSEEKPOS</code></h4>


<p>对于支持 <code>std::basic_streambuf</code><code>::pubseek</code><code>pos</code> 的标准库，扩展为 <code>pubseekpos</code>，否则扩展为 <code>seekpos</code>&nbsp;.</p>


<a name="boost_iostreams_pubsync"></a>
<h4><code>BOOST_IOSTREAMS_PUBSYNC</code></h4>


<p>对于支持 <code>std::basic_streambuf</code><code>::</code><code>pubsync</code> 的标准库，扩展为 <code>pubsync</code>，否则扩展为 <code>sync</code>&nbsp;.</p>


<a name="char_traits"></a>
<h3>4. 字符 Traits</h3>


<a name="char_traits_headers"></a>
<h3>头文件</h3>


<dl class="page-index">

  <dt><a class="header" href="../../../../boost/iostreams/detail/char_traits.hpp"><code>&lt;boost/iostreams/detail/char_traits.hpp&gt;</code></a></dt>

</dl>


<a name="char_traits_synopsis"></a>
<h3>摘要</h3>


<pre class="broken_ie"><span class="preprocessor">#define</span> <a class="documented" href="#boost_iostreams_char_traits">BOOST_IOSTREAMS_CHAR_TRAITS</a>(ch) ...</pre>


<a name="boost_iostreams_char_traits"></a>
<h4><code>BOOST_IOSTREAMS_CHAR_TRAITS</code></h4>



<p>对于支持&nbsp;<code>std::char_traits</code> 的标准库，扩展为 <code>std::char_traits&lt;ch&gt;</code>，否则扩展为 <code>std::char_traits&lt;char&gt;</code> 的替代物。</p>

<a name="component_access"></a>
<h3>5.&nbsp;链中组件的访问</h3>


<a name="component_access_headers"></a>
<h3>头文件</h3>


<dl class="page-index">

  <dt><a class="header" href="../../../../boost/iostreams/chain.hpp"><code>&lt;boost/iostreams/chain.hpp&gt;</code></a></dt>

</dl>


<a name="component_access_synopsis"></a>
<h3>摘要</h3>


<pre class="broken_ie"><span class="preprocessor">#define</span> <a class="documented" href="#boost_iostreams_component_type">BOOST_IOSTREAMS_COMPONENT_TYPE</a>(chain, n) ...<br><span class="preprocessor">#define</span> <a class="documented" href="#boost_iostreams_component">BOOST_IOSTREAMS_COMPONENT</a>(chain, n, t) ...</pre>


<a name="boost_iostreams_component_type"></a>
<h4><code>BOOST_IOSTREAMS_COMPONENT_TYPE</code></h4>


<p>在不支持成员函数模板参数的显式特化的编译器中，用于替代 <code>chain.component_type(n)</code>. <code>chain</code> 可以是 <a href="../classes/filtering_stream.html"><code>filtering_stream</code></a>, <a href="../classes/filtering_streambuf.html"><code>filtering_streambuf</code></a> 或 <a href="../classes/chain.html"><code>basic_chain</code></a> 的一个实例。</p>


<p><i>该宏已经被反对使用。请使用 <code>chain.component_type(n)</code> 来替代。</i></p>


<a name="boost_iostreams_component"></a>
<h4><code>BOOST_IOSTREAMS_COMPONENT</code></h4>


<p>在不支持成员函数模板参数的显式特化的编译器中，用于替代&nbsp;<code>chain.component&lt;t&gt;(n)</code>. <code>chain</code> 可以是 <a href="../classes/filtering_stream.html"><code>filtering_stream</code></a>, <a href="../classes/filtering_streambuf.html"><code>filtering_streambuf</code></a> 或 <a href="../classes/chain.html"><code>basic_chain</code></a> 的一个实例。</p>


<hr style="margin-top: 1em;">

<!-- Begin Footer -->

<p style="margin-top: 2em;" class="copyright">Revised
<!--webbot bot="Timestamp" S-Type="EDITED" S-Format="%d %B, %Y" startspan -->
20 May, 2004
<!--webbot bot="Timestamp" endspan i-checksum="38504" -->
</p>


<p class="copyright">© Copyright <a href="http://www.kangaroologic.com" target="_top">Jonathan Turkanis</a>, 2004. Distributed under the Boost Software License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt">http://www.boost.org/LICENSE_1_0.txt</a>)
</p>


<!-- End Footer -->

</body></html>
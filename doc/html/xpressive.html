<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Chapter&nbsp;27.&nbsp;Boost.Xpressive</title><link rel="stylesheet" href="boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.74.3">
<link rel="home" href="index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">
<link rel="up" href="libraries.html" title="Part&nbsp;I.&nbsp;The Boost C++ Libraries (BoostBook Subset)">
<link rel="prev" href="variant/refs.html" title="References">
<link rel="next" href="xpressive/user_s_guide.html" title="User's Guide"></head>
<body alink="#0000ff" bgcolor="white" link="#0000ff" text="black" vlink="#840084">
<table cellpadding="2" width="100%"><tbody><tr>
<td valign="top"><img alt="Boost C++ Libraries" src="../../boost.png" height="86" width="277"></td>
<td align="center"><a href="../../index.html">Home</a></td>
<td align="center"><a href="../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../more/index.htm">More</a></td>
</tr></tbody></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="variant/refs.html"><img src="../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="libraries.html"><img src="../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="index.html"><img src="../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="xpressive/user_s_guide.html"><img src="../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="chapter" lang="en">
<div class="titlepage"><div>
<div><h2 class="title">
<a name="xpressive"></a>Chapter&nbsp;27.&nbsp;Boost.Xpressive</h2></div>
<div><div class="author"><h3 class="author">
<span class="firstname">Eric</span> <span class="surname">Niebler</span>
</h3></div></div>
<div><p class="copyright">Copyright © 2007 Eric Niebler</p></div>
<div><div class="legalnotice">
<a name="id4016081"></a><p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></div>
</div></div>
<div class="toc">
<p><b>Table of Contents 目录</b></p>
<dl>
<dt><span class="section"><a href="xpressive.html#boost_xpressive.preface">Preface 前言</a></span></dt>
<dt><span class="section"><a href="xpressive/user_s_guide.html">User's Guide 用户指南</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="xpressive/user_s_guide.html#boost_xpressive.user_s_guide.introduction">Introduction 简介</a></span></dt>
<dt><span class="section"><a href="xpressive/user_s_guide.html#boost_xpressive.user_s_guide.installing_xpressive">Installing
      xpressive 安装 xpressive</a></span></dt>
<dt><span class="section"><a href="xpressive/user_s_guide.html#boost_xpressive.user_s_guide.quick_start">Quick Start 快速入门</a></span></dt>
<dt><span class="section"><a href="xpressive/user_s_guide.html#xpressive.user_s_guide.creating_a_regex_object">Creating
      a Regex Object 创建一个Regex对象</a></span></dt>
<dt><span class="section"><a href="xpressive/user_s_guide.html#boost_xpressive.user_s_guide.matching_and_searching">Matching
      and Searching 匹配与查找</a></span></dt>
<dt><span class="section"><a href="xpressive/user_s_guide.html#boost_xpressive.user_s_guide.accessing_results">Accessing
      Results 访问结果</a></span></dt>
<dt><span class="section"><a href="xpressive/user_s_guide.html#boost_xpressive.user_s_guide.string_substitutions">String
      Substitutions 字符串替代</a></span></dt>
<dt><span class="section"><a href="xpressive/user_s_guide.html#boost_xpressive.user_s_guide.string_splitting_and_tokenization">String
      Splitting and Tokenization 字符串分拆和记号化</a></span></dt>
<dt><span class="section"><a href="xpressive/user_s_guide.html#boost_xpressive.user_s_guide.grammars_and_nested_matches">Grammars
      and Nested Matches 语法与嵌套匹配</a></span></dt>
<dt><span class="section"><a href="xpressive/user_s_guide.html#boost_xpressive.user_s_guide.semantic_actions_and_user_defined_assertions">Semantic
      Actions and User-Defined Assertions 语义动作和用户自定义断言</a></span></dt>
<dt><span class="section"><a href="xpressive/user_s_guide.html#boost_xpressive.user_s_guide.symbol_tables_and_attributes">Symbol
      Tables and Attributes 符号表和属性</a></span></dt>
<dt><span class="section"><a href="xpressive/user_s_guide.html#boost_xpressive.user_s_guide.localization_and_regex_traits">Localization
      and Regex Traits 本地化和Regex Traits</a></span></dt>
<dt><span class="section"><a href="xpressive/user_s_guide.html#boost_xpressive.user_s_guide.tips_n_tricks"> Tips 'N
      Tricks 提示</a></span></dt>
<dt><span class="section"><a href="xpressive/user_s_guide.html#boost_xpressive.user_s_guide.concepts">Concepts 概念</a></span></dt>
<dt><span class="section"><a href="xpressive/user_s_guide.html#boost_xpressive.user_s_guide.examples">Examples 示例</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="xpressive/reference.html">Reference 参考手册</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.basic_regex_hpp">Header &lt;boost/xpressive/basic_regex.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.match_results_hpp">Header &lt;boost/xpressive/match_results.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.regex_actions_hpp">Header &lt;boost/xpressive/regex_actions.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.regex_algorithms_hpp">Header &lt;boost/xpressive/regex_algorithms.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.regex_compiler_hpp">Header &lt;boost/xpressive/regex_compiler.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.regex_constants_hpp">Header &lt;boost/xpressive/regex_constants.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.regex_error_hpp">Header &lt;boost/xpressive/regex_error.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.regex_iterator_hpp">Header &lt;boost/xpressive/regex_iterator.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.regex_primitives_hpp">Header &lt;boost/xpressive/regex_primitives.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.regex_token_iterator_hpp">Header &lt;boost/xpressive/regex_token_iterator.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.regex_traits_hpp">Header &lt;boost/xpressive/regex_traits.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.sub_match_hpp">Header &lt;boost/xpressive/sub_match.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.traits.c_regex_traits_hpp">Header &lt;boost/xpressive/traits/c_regex_traits.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.traits.cpp_regex_traits_hpp">Header &lt;boost/xpressive/traits/cpp_regex_traits.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.traits.null_regex_traits_hpp">Header &lt;boost/xpressive/traits/null_regex_traits.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.xpressive_hpp">Header &lt;boost/xpressive/xpressive.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.xpressive_dynamic_hpp">Header &lt;boost/xpressive/xpressive_dynamic.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.xpressive_fwd_hpp">Header &lt;boost/xpressive/xpressive_fwd.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.xpressive_static_hpp">Header &lt;boost/xpressive/xpressive_static.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="xpressive/reference.html#header.boost.xpressive.xpressive_typeof_hpp">Header &lt;boost/xpressive/xpressive_typeof.hpp&gt;</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="boost_xpressive/acknowledgments.html">Acknowledgments 鸣谢</a></span></dt>
<dt><span class="section"><a href="xpressive/appendices.html">Appendices 附录</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="xpressive/appendices.html#boost_xpressive.appendices.appendix_1__history">Appendix
      1: History 附录1：历史</a></span></dt>
<dt><span class="section"><a href="xpressive/appendices.html#boost_xpressive.appendices.appendix_2__not_yet_implemented">Appendix
      2: Not Yet Implemented 附录2：尚未实现的</a></span></dt>
<dt><span class="section"><a href="xpressive/appendices.html#boost_xpressive.appendices.appendix_3__differences_from_boost_regex">Appendix
      3: Differences from Boost.Regex 附录3：与Boost.Regex的差异</a></span></dt>
<dt><span class="section"><a href="xpressive/appendices.html#boost_xpressive.appendices.perf"> Appendix 4: Performance
      Comparison 附录4：性能比较</a></span></dt>
<dt><span class="section"><a href="xpressive/appendices.html#xpressive.appendices.appendix_5__implementation_notes">Appendix
      5: Implementation Notes 附录5：实现说明</a></span></dt>
</dl></dd>
</dl>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both;">
<a name="boost_xpressive.preface"></a><a class="link" href="xpressive.html#boost_xpressive.preface" title="Preface">Preface 前言</a>
</h2></div></div></div>
<div class="blockquote"><blockquote class="blockquote">
<p>
        </p>
<p>
          <span class="emphasis"><em>Wife:</em></span> New Shimmer is a floor wax!<br> <span class="emphasis"><em>Husband:</em></span>
          No, new Shimmer is a dessert topping!<br> <span class="emphasis"><em>Wife:</em></span>
          It's a floor wax!<br> <span class="emphasis"><em>Husband:</em></span> It's a dessert topping!<br>
          <span class="emphasis"><em>Wife:</em></span> It's a floor wax, I'm telling you!<br> <span class="emphasis"><em>Husband:</em></span>
          It's a dessert topping, you cow!<br> <span class="emphasis"><em>Announcer:</em></span>
          Hey, hey, hey, calm down, you two. New Shimmer is both a floor wax <span class="emphasis"><em>and</em></span>
          a dessert topping!
        </p>
<p>
      </p>
</blockquote></div>
<div class="blockquote"><blockquote class="blockquote">
<p>
        </p>
<p>
          <span class="bold"><strong><span class="emphasis"><em>-- Saturday Night Live</em></span></strong></span>
        </p>
<p>
      </p>
</blockquote></div>
<a name="boost_xpressive.preface.description"></a><h3>
<a name="id4016196"></a>
      <a class="link" href="xpressive.html#boost_xpressive.preface.description">Description 描述</a>
    </h3>
<p>
      xpressive is an advanced, object-oriented regular expression template library
      for C++. Regular expressions can be written as strings that are parsed at run-time,
      or as expression templates that are parsed at compile-time. Regular expressions
      can refer to each other and to themselves recursively, allowing you to build
      arbitrarily complicated grammars out of them.<br>xpressive 是一个先进的、面向对象的、用于C++的正则表达式模板库。正则表达式可以以字符串方式编写并在运行期分析，也可以以表达式模板方式编写并在编译期分析。正则表达式可以相互引用，或者递归引用其本身，你就可以用它们来构建任意复杂的语法。
    </p>
<a name="boost_xpressive.preface.motivation"></a><h3>
<a name="id4016226"></a>
      <a class="link" href="xpressive.html#boost_xpressive.preface.motivation">Motivation 动机</a>
    </h3>
<p>
      If you need to manipulate text in C++, you have typically had two disjoint
      options: a regular expression engine or a parser generator. Regular expression
      engines (like <a href="../../libs/regex" target="_top">Boost.Regex</a>) are powerful
      and flexible; patterns are represented as strings which can be specified at
      runtime. However, that means that syntax errors are likewise not detected until
      runtime. Also, regular expressions are ill-suited to advanced text processing
      tasks such as matching balanced, nested tags. Those tasks have traditionally
      been handled by parser generators (like the <a href="http://spirit.sourceforge.net/" target="_top">Spirit
      Parser Framework</a>). These beasts are more powerful but less flexible.
      They generally don't allow you to arbitrarily modify your grammar rules on
      the fly. In addition, they don't have the exhaustive backtracking semantics
      of regular expressions, which can make it more challenging to author some types
      of patterns.<br>如果你要在C++中处理文本，通常你有两个不相交的选项：正则表达式引擎或语法分析生成器。正则表达式引擎(如 <a href="../../libs/regex" target="_top">Boost.Regex</a>)更为强大和灵活；文本的模式以字符串方式表示，可以在运行期指定。但是，这意味着语法错误同样要到运行期才能被检测。另外，正则表达式不适合于高级的文本处理任务，如匹配平衡的、嵌套的标签。那些任务传统上都是由语法分析生成器(如 <a href="http://spirit.sourceforge.net" target="_top">Spirit
      语法分析器框架</a>)来处理的。这些工具更为强大，但不够灵活。它们通常不允许你随时随意地修改你的语法规则。此外，它们不具备正则表达式的完全回溯语义，对于某些类型的模式来说，这样对作者更具有挑战性。
    </p>
<p>
      xpressive brings these two approaches seamlessly together and occupies a unique
      niche in the world of C++ text processing. With xpressive, you can choose to
      use it much as you would use <a href="../../libs/regex" target="_top">Boost.Regex</a>,
      representing regular expressions as strings. Or you can use it as you would
      use <a href="http://spirit.sourceforge.net/" target="_top">Spirit</a>, writing your
      regexes as C++ expressions, enjoying all the benefits of an embedded language
      dedicated to text manipulation. What's more, you can mix the two to get the
      benefits of both, writing regular expression <span class="emphasis"><em>grammars</em></span>
      in which some of the regular expressions are statically bound -- hard-coded
      and syntax-checked by the compiler -- and others are dynamically bound and
      specified at runtime. These regular expressions can refer to each other recursively,
      matching patterns in strings that ordinary regular expressions cannot.&nbsp;<br>xpressive 将这两种方法无缝地集合到一起，在C++的文本处理世界中占据了独特的优势。通过 xpressive，你可以选择更象使用 <a href="../../libs/regex" target="_top">Boost.Regex</a> 那样去使用它，将正则表达式表示为字符串。或者你也可以象使用 <a href="http://spirit.sourceforge.net" target="_top">Spirit</a> 那样使用它，将你的
      regexes 写为C++表达式，获得一种专用于文本处理的嵌入式语言所带来的所有好处。更重要的是，你可以混用这两种方式，从而获得两者的好处，对于那些要静态绑定的正则表达式编写正则表达式<span class="emphasis"><em>语法</em></span>&nbsp; -- 由编译器进行硬编码和语法检查 -- 其它的则动态绑定并在运行期指定。这些正则表达式可以相互递归地引用，在以前的正则表达式不能进行模式匹配的字符串中进行模式匹配。
    </p>
<a name="boost_xpressive.preface.influences_and_related_work"></a><h3>
<a name="id4016310"></a>
      <a class="link" href="xpressive.html#boost_xpressive.preface.influences_and_related_work">Influences
      and Related Work 影响和相关工作</a>
    </h3>
<p>
      The design of xpressive's interface has been strongly influenced by John Maddock's
      <a href="../../libs/regex" target="_top">Boost.Regex</a> library and his <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2003/n1429.htm" target="_top">proposal</a>
      to add regular expressions to the Standard Library. I also drew a great deal
      of inspiration from Joel de Guzman's <a href="http://spirit.sourceforge.net/" target="_top">Spirit
      Parser Framework</a>, which served as the model for static xpressive. Other
      sources of inspiration are the <a href="http://www.perl.com/pub/a/2002/06/04/apo5.html" target="_top">Perl
      6</a> redesign and <a href="http://research.microsoft.com/projects/greta" target="_top">GRETA</a>.
      (You can read a summary of the changes Perl 6 will bring to regex culture
      <a href="http://dev.perl.org/perl6/doc/design/syn/S05.html" target="_top">here</a>.)<br>xpressive 的接口设计受到 John Maddock 的
      <a href="../../libs/regex" target="_top">Boost.Regex</a> 库和他的关于增加正则表达式到标准库的<a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2003/n1429.htm" target="_top">建议书</a>的强烈影响。我还从 Joel de Guzman 的 <a href="http://spirit.sourceforge.net" target="_top">Spirit
      语法分析器框架</a>中获得大量灵感，该框架被用作静态 xpressive 的模型。其它的灵感来源还有 <a href="http://www.perl.com/pub/a/2002/06/04/apo5.html" target="_top">Perl
      6</a> 的设计和 <a href="http://research.microsoft.com/projects/greta" target="_top">GRETA</a>。(你可以在<a href="http://dev.perl.org/perl6/doc/design/syn/S05.html" target="_top">这里</a>看到关于 Perl 6 的变化所带来的 regex 文化的总结。)
    </p>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tbody><tr>
<td align="left"><p><small>Last revised: May 01, 2009 at 19:25:07 GMT</small></p></td>
<td align="right"><div class="copyright-footer"></div></td>
</tr></tbody></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="variant/refs.html"><img src="../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="libraries.html"><img src="../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="index.html"><img src="../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="xpressive/user_s_guide.html"><img src="../../doc/html/images/next.png" alt="Next"></a>
</div>
</body></html>
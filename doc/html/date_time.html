<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>







  
  
  
  
  
  
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">








  
  
  
  
  
  
  
  
  
  
  
  
  <title>Chapter&nbsp;4.&nbsp;Boost.Date_Time</title>
  <link rel="stylesheet" href="boostbook.css" type="text/css">







  
  
  
  
  
  
  <meta name="generator" content="DocBook XSL Stylesheets V1.68.1">







  
  
  
  
  
  
  <link rel="start" href="index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">







  
  
  
  
  
  
  <link rel="up" href="libraries.html" title="Part&nbsp;I.&nbsp;The Boost C++ Libraries (BoostBook Subset)">







  
  
  
  
  
  
  <link rel="prev" href="SignedInteger.html" title="Concept SignedInteger">







  
  
  
  
  
  
  <link rel="next" href="date_time/examples/general_usage_examples.html" title="General Usage Examples">
</head>


<body alink="#0000ff" bgcolor="white" link="#0000ff" text="black" vlink="#840084">







<table cellpadding="2" width="100%">







  <tbody>






    <tr>






      <td valign="top"><img alt="Boost C++ Libraries" src="../../boost.png" height="86" width="277"></td>







      <td align="center"><a href="../../index.htm">Home</a></td>







      <td align="center"><a href="../../libs/libraries.htm">Libraries</a></td>







      <td align="center"><a href="../../people/people.htm">People</a></td>







      <td align="center"><a href="../../more/faq.htm">FAQ</a></td>







      <td align="center"><a href="../../more/index.htm">More</a></td>







    </tr>






  
  
  
  
  
  
  </tbody>
</table>







<hr>
<div class="spirit-nav">
<a accesskey="p" href="SignedInteger.html"><img src="images/prev.png" alt="Prev"></a><a accesskey="u" href="libraries.html"><img src="images/up.png" alt="Up"></a><a accesskey="h" href="index.html"><img src="images/home.png" alt="Home"></a><a accesskey="n" href="date_time/examples/general_usage_examples.html"><img src="images/next.png" alt="Next"></a>
</div>







<div class="chapter" lang="en">
<div class="titlepage">
<div>
<div>
<h2 class="title">
<a name="date_time"></a>Chapter&nbsp;4.&nbsp;Boost.Date_Time</h2>






</div>







<div>
<div class="author">
<h3 class="author">
<span class="firstname">Jeff</span> <span class="surname">Garland</span>
</h3>






</div>






</div>







<div>
<p class="copyright">Copyright &copy; 2001-2005 CrystalClear Software, Inc</p>






</div>







<div>
<div class="legalnotice">
<a name="id963399"></a>
<p>Subject to the Boost Software License, Version 1.0. (See accompanying file
    <code class="filename">LICENSE_1_0.txt</code> or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)</p>







</div>






</div>







</div>






</div>







<div class="toc">
<p><b>目录</b></p>







<dl>







  <dt><span class="section"><a href="date_time.html#date_time.conceptual">概念</a></span></dt>







  <dd>
    
    
    
    
    
    
    <dl>







      <dt><span class="section"><a href="date_time.html#Motivation">动机</a></span></dt>







      <dt><span class="section"><a href="date_time.html#date_time.domain_concepts">领域概念</a></span></dt>







      <dt><span class="section"><a href="date_time.html#date_time.design_concepts">设计概念</a></span></dt>







    
    
    
    
    
    
    </dl>






  </dd>







  <dt><span class="section"><a href="date_time/examples/general_usage_examples.html">普通用法例子</a></span></dt>







  <dt><span class="section"><a href="date_time/gregorian.html">格里历</a></span></dt>







  <dd>
    
    
    
    
    
    
    <dl>







      <dt><span class="section"><a href="date_time/gregorian.html#date_time.gregorian.date_class">日期</a></span></dt>







      <dt><span class="section"><a href="date_time/gregorian.html#date_time.gregorian.date_duration">日期长度(aka Days)</a></span></dt>







      <dt><span class="section"><a href="date_time/gregorian.html#date_time.gregorian.date_period">日期段</a></span></dt>







      <dt><span class="section"><a href="date_time/gregorian.html#date_time.gregorian.date_iterators">日期迭代器</a></span></dt>







      <dt><span class="section"><a href="date_time/gregorian.html#date_time.gregorian.date_algorithms">日期生成器/算法</a></span></dt>







      <dt><span class="section"><a href="date_time/gregorian.html#date_time.gregorian.gregorian_calendar">格里历</a></span></dt>







    
    
    
    
    
    
    </dl>






  </dd>







  <dt><span class="section"><a href="date_time/posix_time.html">Posix 时间</a></span></dt>







  <dd>
    
    
    
    
    
    
    <dl>







      <dt><span class="section"><a href="date_time/posix_time.html#date_time.posix_time.ptime_class">Ptime</a></span></dt>







      <dt><span class="section"><a href="date_time/posix_time.html#date_time.posix_time.time_duration">时间长度</a></span></dt>







      <dt><span class="section"><a href="date_time/posix_time.html#date_time.posix_time.time_period">时间段</a></span></dt>







      <dt><span class="section"><a href="date_time/posix_time.html#date_time.posix_time.time_iterators">时间迭代器</a></span></dt>







    
    
    
    
    
    
    </dl>






  </dd>







  <dt><span class="section"><a href="date_time/local_time.html">本地时间</a></span></dt>







  <dd>
    
    
    
    
    
    
    <dl>







      <dt><span class="section"><a href="date_time/local_time.html#date_time.local_time.time_zone_base">时区(概要)</a></span></dt>







      <dt><span class="section"><a href="date_time/local_time.html#date_time.local_time.posix_time_zone">Posix 时区</a></span></dt>







      <dt><span class="section"><a href="date_time/local_time.html#date_time.local_time.tz_database">时区数据库</a></span></dt>







      <dt><span class="section"><a href="date_time/local_time.html#date_time.local_time.custom_time_zone">定制时区</a></span></dt>







      <dt><span class="section"><a href="date_time/local_time.html#date_time.local_time.local_date_time">本地日期时间</a></span></dt>







      <dt><span class="section"><a href="date_time/local_time.html#date_time.local_time.local_time_period">本地时间段</a></span></dt>







    
    
    
    
    
    
    </dl>






  </dd>







  <dt><span class="section"><a href="date_time/date_time_io.html">日期时间输入/输出</a></span></dt>







  <dd>
    
    
    
    
    
    
    <dl>







      <dt><span class="section"><a href="date_time/date_time_io.html#date_time.format_flags">格式化标志</a></span></dt>







      <dt><span class="section"><a href="date_time/date_time_io.html#date_time.date_facet">日期 Facet</a></span></dt>







      <dt><span class="section"><a href="date_time/date_time_io.html#date_time.date_input_facet">日期输入 Facet</a></span></dt>







      <dt><span class="section"><a href="date_time/date_time_io.html#date_time.time_facet">时间 Facet</a></span></dt>







      <dt><span class="section"><a href="date_time/date_time_io.html#date_time.time_input_facet">时间输入 Facet</a></span></dt>







      <dt><span class="section"><a href="date_time/date_time_io.html#date_time.io_objects">日期时间格式化器/分析器对象</a></span></dt>







      <dt><span class="section"><a href="date_time/date_time_io.html#date_time.io_tutorial">日期时间 IO 指南</a></span></dt>







    
    
    
    
    
    
    </dl>






  </dd>







  <dt><span class="section"><a href="date_time/serialization.html">序列化</a></span></dt>







  <dt><span class="section"><a href="date_time/details.html">详细资料</a></span></dt>







  <dd>
    
    
    
    
    
    
    <dl>







      <dt><span class="section"><a href="date_time/details.html#date_time.calculations">分析</a></span></dt>







      <dt><span class="section"><a href="date_time/details.html#date_time.design_goals">设计目标</a></span></dt>







      <dt><span class="section"><a href="date_time/details.html#date_time.tradeoffs">权衡：稳定性，可预言和近似值</a></span></dt>







      <dt><span class="section"><a href="date_time/details.html#date_time.terminology">术语</a></span></dt>







      <dt><span class="section"><a href="date_time/details.html#date_time.references">参考</a></span></dt>







      <dt><span class="section"><a href="date_time/details.html#date_time.buildinfo">构建及编译器信息</a></span></dt>







      <dt><span class="section"><a href="date_time/details.html#date_time.tests">测试</a></span></dt>







      <dt><span class="section"><a href="date_time/details.html#date_time.changes">变更历史</a></span></dt>







      <dt><span class="section"><a href="date_time/details.html#date_time.acknowledgements">鸣谢</a></span></dt>







    
    
    
    
    
    
    </dl>






  </dd>







  <dt><span class="section"><a href="date_time/examples.html">例子</a></span></dt>







  <dd>
    
    
    
    
    
    
    <dl>







      <dt><span class="section"><a href="date_time/examples.html#date_time.examples.dates_as_strings">字符串表示的日期</a></span></dt>







      <dt><span class="section"><a href="date_time/examples.html#date_time.examples.days_alive">已生活的日子</a></span></dt>







      <dt><span class="section"><a href="date_time/examples.html#date_time.examples.days_between_new_year">距离新年的日子</a></span></dt>







      <dt><span class="section"><a href="date_time/examples.html#date_time.examples.end_of_month_day">每个月的最后一天</a></span></dt>







      <dt><span class="section"><a href="date_time/examples.html#date_time.examples.localization">本地化示例</a></span></dt>







      <dt><span class="section"><a href="date_time/examples.html#date_time.examples.date_period_calc">日期段计算</a></span></dt>







      <dt><span class="section"><a href="date_time/examples.html#date_time.examples.print_holidays">打印假日</a></span></dt>







      <dt><span class="section"><a href="date_time/examples.html#date_time.examples.print_month">打印月份</a></span></dt>







      <dt><span class="section"><a href="date_time/examples.html#date_time.examples.month_add">月份加法</a></span></dt>







      <dt><span class="section"><a href="date_time/examples.html#date_time.examples.time_math">时间的算术</a></span></dt>







      <dt><span class="section"><a href="date_time/examples.html#date_time.examples.print_hours">打印小时</a></span></dt>







      <dt><span class="section"><a href="date_time/examples.html#date_time.examples.local_utc_conversion">本地时间到 UTC 的转换</a></span></dt>







      <dt><span class="section"><a href="date_time/examples.html#date_time.examples.time_periods">时间段</a></span></dt>







      <dt><span class="section"><a href="date_time/examples.html#date_time.examples.simple_time_zone">简单的时区</a></span></dt>







      <dt><span class="section"><a href="date_time/examples.html#date_time.examples.calc_rules">夏时制计算规则</a></span></dt>







      <dt><span class="section"><a href="date_time/examples.html#date_time.examples.flight">飞行时间例子</a></span></dt>







      <dt><span class="section"><a href="date_time/examples.html#date_time.examples.seconds_since_epoch">从纪元起计的秒数</a></span></dt>







    
    
    
    
    
    
    </dl>






  </dd>







  <dt><span class="section"><a href="date_time/doxy.html">库的参考</a></span></dt>







  <dd>
    
    
    
    
    
    
    <dl>







      <dt><span class="section"><a href="date_time/doxy.html#date_time_reference">日期时间的参考</a></span></dt>







      <dt><span class="section"><a href="date_time/doxy.html#gregorian_reference">格里历的参考</a></span></dt>







      <dt><span class="section"><a href="date_time/doxy.html#posix_time_reference">Posix 时间的参考</a></span></dt>







      <dt><span class="section"><a href="date_time/doxy.html#local_time_reference">本地时间的参考</a></span></dt>







    
    
    
    
    
    
    </dl>






  </dd>







</dl>







</div>







<h2>
<a name="id963423"></a>简介</h2>







<p>一组基于泛型程序概念的日期时间库。
  </p>







<p>本文档还提供了 PDF 格式。可从以下地址获得：
    </p>







<table class="simplelist" summary="Simple list" border="0">






  <tbody>






    <tr>






      <td><a href="http://www.crystalclearsoftware.com/libraries/date_time/date_time.pdf" target="_top">http://www.crystalclearsoftware.com/libraries/date_time/date_time.pdf</a></td>






    </tr>






  
  
  
  
  
  
  </tbody>
</table>







<p>
    另外，还有完整的 doxygen 引用：
    </p>







<table class="simplelist" summary="Simple list" border="0">






  <tbody>






    <tr>






      <td><a href="http://www.crystalclearsoftware.com/libraries/date_time/ref_guide/index.html" target="_top">http://www.crystalclearsoftware.com/libraries/date_time/ref_guide/index.html</a></td>






    </tr>






  
  
  
  
  
  
  </tbody>
</table>







<p>最新版本的文档在：
    </p>







<table class="simplelist" summary="Simple list" border="0">






  <tbody>






    <tr>






      <td><a href="http://www.crystalclearsoftware.com/libraries/date_time/index.html" target="_top">http://www.crystalclearsoftware.com/libraries/date_time/index.html</a></td>






    </tr>






  
  
  
  
  
  
  </tbody>
</table>







<p>
  </p>







<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both;">
<a name="date_time.conceptual"></a>概念</h2>






</div>






</div>






</div>







<div class="toc">
<dl>







  <dt><span class="section"><a href="date_time.html#Motivation">动机</a></span></dt>







  <dt><span class="section"><a href="date_time.html#date_time.domain_concepts">领域概念</a></span></dt>







  <dt><span class="section"><a href="date_time.html#date_time.design_concepts">设计概念</a></span></dt>







</dl>






</div>







<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="Motivation"></a>动机</h3>






</div>






</div>






</div>







<p>本库的动机来自于在多个项目中对多个日期时间库的使用和建立。这些日期时间库为大多数开发项目提供了基础的架构。不过，这些库中多数在它们的计算、
格式化、转换或执行其它功能的能力上有所限制。例如，许多库不能正确地处理闰秒，提供象无限这样的概念，或是提供高分辨率或网络时间源的能力。这些库还倾
向于严格规定日期和时间的表示法。这样，针对某个项目或子项目的定制策略就不可能了。 </p>







<p>在编程中使用日期和时间与在编程中使用字符串和整数几乎一样简单和自然。带有大量时间逻辑的应用程序可以通过一组健壮的操作符和计算能力得以根本性的简化。类可以提供对日期和时间进行比较、增加时间长度、从时钟取出日期和时间，以及自然地使用日期和时间间隔。 </p>







<p>开发本库的另一个动机是，将现代的C++库设计技术应用于日期时间领域。为构建时间类型真正地建立一个框架。例如，通过提供迭代器和 traits 类，来控制本库的基本属性。就作者所知而言，本库是将现代C++理念应用于日期时间库的唯一真正的尝试。 </p>







</div>







<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="date_time.domain_concepts"></a>领域概念</h3>






</div>






</div>






</div>







<p>日期时间领域有大量术语和问题。以下对你将会在本库碰到的一些概念作一个简要的介绍。 
  </p>







<p>本库支持3种基本的时间类型：
    </p>







<div class="itemizedlist">
<ul type="bullet">







  <li style="list-style-type: disc;">
    <span class="strong"><strong>时间点</strong></span> -- 在时间连续统中的一个特定位置。
      </li>







  <li style="list-style-type: disc;">
    <span class="strong"><strong>时间长度</strong></span> -- 独立于时间连续统上任意点的一段时间长度。
      </li>







  <li style="list-style-type: disc;">
    <span class="strong"><strong>时间间隔</strong></span> -- 关联于时间连续统上某个特定点的一段时间长度。也称为时间段。 
      </li>







</ul>






</div>







<p>
  </p>







<p>这些时间类型中的每一个都有一个<span class="strong"><strong>分辨率</strong></span>，它由可表示的最小时间长度定义。一个<span class="strong"><strong>时间系统</strong></span>除了提供所有这些时间类型之外，还应提供对时间点进行标注和计算的规则。<span class="strong"><strong>日历系统</strong></span>是最简单的时间系统，它的分辨率最大，为一天。<span class="strong"><strong>格里历</strong></span>系统是当今使用最广的日历系统(ISO系统基本上就是衍生自它)。不过，还有很多其它的日历系统。<span class="strong"><strong>UTC (Coordinated Universal Time)</strong></span>是一个广泛使用的民用时间系统。因为地球的自转，UTC要通过闰秒来进行调整(这不是可预测的，只是按需要进行调整)。多数<span class="strong"><strong>本地时间</strong></span>系统都基于UTC，但还要根据地球自转来进行调整，以使得各处白天的时间相似。另外，有些本地时间还包括了<span class="strong"><strong>夏时制(DST)</strong></span>的调整，在夏天的时候对白天的时间进行平移。
  </p>







<p><span class="strong"><strong>时钟设备</strong></span>是一种软件组件(绑定于某个硬件)，它提供基于某个时间系统的当前日期或时间。时钟可以按已知的分辨率测量时间，该分辨率可能高于或低于特定的时间表示法。 </p>







<p>本库提供了对日期和时间进行计算的支持。但是，时间的计算与整数的计算有点不同。如果你对于时间计算的精确性非常关注，那么你需要阅读 <a href="date_time/details.html#date_time.tradeoffs" title="Tradeoffs: Stability, Predictability, and Approximations">稳定性、可预言和近似值</a> 一节。 
  </p>







<p>
    </p>







<div class="itemizedlist">
<ul type="bullet">







  <li style="list-style-type: disc;"><a href="date_time/details.html#date_time.terminology" title="Terminology">基本术语</a></li>







  <li style="list-style-type: disc;"><a href="date_time/details.html#date_time.calculations" title="Calculations">计算</a></li>







  <li style="list-style-type: disc;"><a href="date_time/details.html#date_time.tradeoffs" title="Tradeoffs: Stability, Predictability, and Approximations">稳定性、可预言和近似值</a></li>







  <li style="list-style-type: disc;"><a href="date_time/details.html#date_time.references" title="References">参考</a></li>







</ul>






</div>







<p>
  </p>







</div>







<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="date_time.design_concepts"></a>设计概念</h3>






</div>






</div>






</div>







<p>设计该库的很大一个原因是因为看到很多有日期时间库是按照允许进行定制和扩展的风格来建立的。一个典型的例子就是，日历逻辑直接创建在日期类中。又
或者，时钟读取功能直接构建在时间类中。这些设计通常使得我们不可能扩展或修改库的行为。在更为基础的层次上，通常都假定了时间表示法的分辨率或是假定使
用了格里历。 </p>







<p>多数时候，结果是一个项目必须满足于无法得到一个完整的库，因为对时间表示法的高分辨率要求或是其它假定无法与库的实现相匹配。这是非常不幸的，因为开始这样一个库远不是一件简单的工作。 </p>







<p>由于没有好的设计，作者所知的任何一个日期时间库的设计都不够灵活。在未来的版本中，我们期望可以有更多方面的扩展性。有关本库的设计目标的信息请参见 <a href="date_time/details.html#date_time.design_goals" title="Design Goals">这里的总结</a>。 
  </p>







</div>







</div>







</div>







<table width="100%">






  <tbody>






    <tr>







      <td align="left"><small>
      
      
      
      
      
      
      <p>Last revised: June 12, 2005 at 20:53:10 GMT</p>






      </small></td>







      <td align="right"><small></small></td>







    </tr>






  
  
  
  
  
  
  </tbody>
</table>







<hr>
<div class="spirit-nav">
<a accesskey="p" href="SignedInteger.html"><img src="images/prev.png" alt="Prev"></a><a accesskey="u" href="libraries.html"><img src="images/up.png" alt="Up"></a><a accesskey="h" href="index.html"><img src="images/home.png" alt="Home"></a><a accesskey="n" href="date_time/examples/general_usage_examples.html"><img src="images/next.png" alt="Next"></a>
</div>







</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>


  
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">



  
  
  <title>Class template visitor_ptr_t</title>
  <link rel="stylesheet" href="../boostbook.css" type="text/css">


  
  <meta name="generator" content="DocBook XSL Stylesheets V1.68.1">


  
  <link rel="start" href="../index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">


  
  <link rel="up" href="../variant/reference.html#header.boost.variant.visitor_ptr.hpp" title="Header &lt;boost/variant/visitor_ptr.hpp&gt;">


  
  <link rel="prev" href="static_visitor.html" title="Class template static_visitor">


  
  <link rel="next" href="visitor_ptr.html" title="Function template visitor_ptr">
</head>


<body alink="#0000ff" bgcolor="white" link="#0000ff" text="black" vlink="#840084">


<table cellpadding="2" width="100%">


  <tbody>

    <tr>

      <td valign="top"><img alt="Boost C++ Libraries" src="../../../boost.png" height="86" width="277"></td>


      <td align="center"><a href="../../../index.htm">Home</a></td>


      <td align="center"><a href="../../../libs/libraries.htm">Libraries</a></td>


      <td align="center"><a href="../../../people/people.htm">People</a></td>


      <td align="center"><a href="../../../more/faq.htm">FAQ</a></td>


      <td align="center"><a href="../../../more/index.htm">More</a></td>


    </tr>

  
  </tbody>
</table>


<hr>
<div class="spirit-nav">
<a accesskey="p" href="static_visitor.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../variant/reference.html#header.boost.variant.visitor_ptr.hpp"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="visitor_ptr_id747849.html"><img style="border: 0px solid ; width: 19px; height: 19px;" src="../images/next.png" alt="Next"></a>
</div>


<div class="refentry" lang="en">
<a name="boost.visitor_ptr_t"></a>
<div class="titlepage"></div>


<div class="refnamediv">
<h2><span class="refentrytitle">类模板 visitor_ptr_t</span></h2>


<p>boost::visitor_ptr_t &mdash; 将一个函数指针适配为一个静态访问者。</p>


</div>


<h2 xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv-title">摘要</h2>


<div xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv">
<pre class="synopsis"><span class="bold"><strong>template</strong></span>&lt;<span class="bold"><strong>typename</strong></span> T, <span class="bold"><strong>typename</strong></span> R&gt; <br><span class="bold"><strong>class</strong></span> visitor_ptr_t : <span class="bold"><strong>public</strong></span> <a href="static_visitor.html" title="Class template static_visitor">static_visitor</a>&lt;R&gt; {<br><span class="bold"><strong>public</strong></span>:<br>&nbsp;&nbsp;<span class="emphasis"><em>// <a href="visitor_ptr_t.html#boost.visitor_ptr_tconstruct-copy-destruct">构造/复制/析构</a></em></span>
&nbsp;&nbsp;<span class="bold"><strong>explicit</strong></span> <a href="visitor_ptr_t.html#id1599752-bb">visitor_ptr_t</a>(R (*)(T));<br><br>&nbsp;&nbsp;<span class="emphasis"><em>// <a href="visitor_ptr_t.html#id1599773-bb">静态访问者接口</a></em></span>
&nbsp;&nbsp;<span class="type">R</span> <a href="visitor_ptr_t.html#id1599782-bb"><span class="bold"><strong>operator</strong></span>()</a>(<span class="emphasis"><em>unspecified-forwarding-type</em></span>);<br>&nbsp;&nbsp;<span class="bold"><strong>template</strong></span>&lt;<span class="bold"><strong>typename</strong></span> U&gt; <span class="type"><span class="bold"><strong>void</strong></span></span> <a href="visitor_ptr_t.html#id1633904-bb"><span class="bold"><strong>operator</strong></span>()</a>(<span class="bold"><strong>const</strong></span> U&amp;);<br>};</pre>

</div>


<div class="refsect1" lang="en">
<a name="id1951294"></a>
<h2>说明</h2>


<p>将在构造时给定的函数适配为类型 <code class="computeroutput">T</code> 的一个 <a href="../variant/reference.html#variant.concepts.static-visitor" title="StaticVisitor">静态访问者</a>
       ，返回类型为 <code class="computeroutput">R</code>.</p>


<div class="refsect2" lang="en">
<a name="id1951321"></a>
<h3>
<a name="boost.visitor_ptr_tconstruct-copy-destruct"></a><code class="computeroutput">visitor_ptr_t</code> 的构造/复制/析构</h3>


<div class="orderedlist">
<ol type="1">

  <li>
    
    <pre class="literallayout"><span class="bold"><strong>explicit</strong></span> <a name="id1599752-bb"></a>visitor_ptr_t(R (*)(T));</pre>


    
    <div class="variablelist">
    
    <table border="0">


      <col align="left" valign="top">
      <tbody>

        <tr>


          <td>
          <span class="term">作用：</span></td>


          <td>以给定的函数构造访问者。</td>


        </tr>

      
      </tbody>
    
    </table>

    </div>


  </li>

</ol>

</div>


</div>


<div class="refsect2" lang="en">
<a name="id1951373"></a>
<h3>
<a name="id1599773-bb"></a><code class="computeroutput">visitor_ptr_t</code> 静态访问者接口</h3>


<div class="orderedlist">
<ol type="1">

  <li>
    
    <p><a name="id1599777-bb"></a></p>


    
    <pre class="literallayout"><span class="type">R</span> <a name="id1599782-bb"></a><span class="bold"><strong>operator</strong></span>()(<span class="emphasis"><em>unspecified-forwarding-type</em></span> operand);<br><span class="bold"><strong>template</strong></span>&lt;<span class="bold"><strong>typename</strong></span> U&gt; <span class="type"><span class="bold"><strong>void</strong></span></span> <a name="id1633904-bb"></a><span class="bold"><strong>operator</strong></span>()(<span class="bold"><strong>const</strong></span> U&amp;);</pre>


    
    <div class="variablelist">
    
    <table border="0">


      <col align="left" valign="top">
      <tbody>


        <tr>


          <td>
          <span class="term">作用：</span></td>


          <td>如果传入的是类型
              <code class="computeroutput">T</code> 的一个值或引用，则调用在构造时给定的函数，并适当地转发 <code class="computeroutput">operand</code>.</td>


        </tr>


        <tr>


          <td>
          <span class="term">返回：</span></td>


          <td>返回函数调用的结果。</td>


        </tr>


        <tr>


          <td>
          <span class="term">抛出：</span></td>


          <td>接受类型
              <code class="computeroutput">T</code> 的一个值或引用的重载会在所调用的函数抛出异常时抛出。接受所有其它值的重载则总是抛出 <code class="computeroutput"><a href="bad_visit.html" title="Class bad_visit">bad_visit</a></code>.</td>


        </tr>


      
      </tbody>
    
    </table>

    </div>


  </li>

</ol>

</div>


</div>


</div>


</div>


<table width="100%">

  <tbody>

    <tr>


      <td align="left"></td>


      <td align="right"><small>Copyright &copy; 2002, 2003 Eric Friedman, Itay Maman</small></td>


    </tr>

  
  </tbody>
</table>


<hr>
<div class="spirit-nav">
<a accesskey="p" href="static_visitor.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../variant/reference.html#header.boost.variant.visitor_ptr.hpp"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="visitor_ptr_id747849.html"><img style="border: 0px solid ; width: 19px; height: 19px;" src="../images/next.png" alt="Next"></a>
</div>


</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


  <title>Class template local_date_time_base</title>
  <link rel="stylesheet" href="../../boostbook.css" type="text/css">

  <meta name="generator" content="DocBook XSL Stylesheets V1.68.1">

  <link rel="start" href="../../index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">

  <link rel="up" href="../../date_time/doxy.html#header.boost.date_time.local_time.local_date_time.hpp" title="Header &lt;boost/date_time/local_time/local_date_time.hpp&gt;">

  <link rel="prev" href="dst_not_valid.html" title="Struct dst_not_valid">

  <link rel="next" href="time_label_invalid.html" title="Struct time_label_invalid">
</head>

<body alink="#0000ff" bgcolor="white" link="#0000ff" text="black" vlink="#840084">

<table cellpadding="2" width="100%">

  <tbody>
    <tr>
      <td valign="top"><img alt="Boost C++ Libraries" src="../../../../boost.png" height="86" width="277"></td>

      <td align="center"><a href="../../../../index.htm">Home</a></td>

      <td align="center"><a href="../../../../libs/libraries.htm">Libraries</a></td>

      <td align="center"><a href="../../../../people/people.htm">People</a></td>

      <td align="center"><a href="../../../../more/faq.htm">FAQ</a></td>

      <td align="center"><a href="../../../../more/index.htm">More</a></td>

    </tr>
  </tbody>
</table>

<hr>
<div class="spirit-nav">
<a accesskey="p" href="dst_not_valid.html"><img src="../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../../date_time/doxy.html#header.boost.date_time.local_time.local_date_time.hpp"><img src="../../images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../images/home.png" alt="Home"></a><a accesskey="n" href="time_label_invalid.html"><img src="../../images/next.png" alt="Next"></a>
</div>

<div class="refentry" lang="en">
<a name="boost.local_time.local_date_time_base"></a>
<div class="titlepage"></div>

<div class="refnamediv">
<h2><span class="refentrytitle">类模板 local_date_time_base</span></h2>

<p>boost::local_time::local_date_time_base &mdash; 在某个特定时区中的 "wall-clock" 时间的表示法。 </p>

</div>

<h2 xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv-title">概要</h2>

<div xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv">
<pre class="synopsis"><span class="bold"><strong>template</strong></span>&lt;<span class="bold"><strong>typename</strong></span> utc_time_ = posix_time::ptime, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bold"><strong>typename</strong></span> tz_type = date_time::time_zone_base&lt;utc_time_,<span class="bold"><strong>char</strong></span>&gt; &gt; <br><span class="bold"><strong>class</strong></span> local_date_time_base {<br><span class="bold"><strong>public</strong></span>:<br>&nbsp;&nbsp;<span class="emphasis"><em>// types</em></span>
&nbsp;&nbsp;<span class="bold"><strong>typedef</strong></span> utc_time_&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; utc_time_type;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;<span class="bold"><strong>typedef</strong></span> utc_time_type::time_duration_type time_duration_type;<br>&nbsp;&nbsp;<span class="bold"><strong>typedef</strong></span> utc_time_type::date_type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; date_type;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;<span class="bold"><strong>typedef</strong></span> date_type::duration_type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; date_duration_type;<br>&nbsp;&nbsp;<span class="bold"><strong>typedef</strong></span> utc_time_type::time_system_type&nbsp;&nbsp; time_system_type;&nbsp;&nbsp;<br><br>&nbsp;&nbsp;<span class="emphasis"><em>// <a href="local_date_time_base.html#boost.local_time.local_date_time_baseconstruct-copy-destruct">construct/copy/destruct</a></em></span>
&nbsp;&nbsp;<a href="local_date_time_base.html#id794763-bb">local_date_time_base</a>(utc_time_type, boost::shared_ptr&lt; tz_type &gt;);<br>&nbsp;&nbsp;<a href="local_date_time_base.html#id762053-bb">local_date_time_base</a>(date_type, time_duration_type, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boost::shared_ptr&lt; tz_type &gt;, <span class="bold"><strong>bool</strong></span>);<br>&nbsp;&nbsp;<a href="local_date_time_base.html#id762095-bb">local_date_time_base</a>(date_type, time_duration_type, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boost::shared_ptr&lt; tz_type &gt;, DST_CALC_OPTIONS);<br>&nbsp;&nbsp;<a href="local_date_time_base.html#id871810-bb">local_date_time_base</a>(<span class="bold"><strong>const</strong></span> <a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a> &amp;);<br>&nbsp;&nbsp;<a href="local_date_time_base.html#id871823-bb">local_date_time_base</a>(<span class="bold"><strong>const</strong></span> boost::date_time::special_values, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boost::shared_ptr&lt; tz_type &gt; = boost::shared_ptr&lt; tz_type &gt;());<br>&nbsp;&nbsp;<a href="local_date_time_base.html#id871805-bb">~local_date_time_base</a>();<br><br>&nbsp;&nbsp;<span class="emphasis"><em>// <a href="local_date_time_base.html#id936793-bb">public member functions</a></em></span>
&nbsp;&nbsp;<span class="type">boost::shared_ptr&lt; tz_type &gt;</span> <a href="local_date_time_base.html#id936796-bb">zone</a>() <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type"><span class="bold"><strong>bool</strong></span></span> <a href="local_date_time_base.html#id936808-bb">is_dst</a>() <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type">utc_time_type</span> <a href="local_date_time_base.html#id932510-bb">utc_time</a>() <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type">utc_time_type</span> <a href="local_date_time_base.html#id932520-bb">local_time</a>() <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type">std::string</span> <a href="local_date_time_base.html#id932531-bb">to_string</a>() <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <br>&nbsp;&nbsp;<a href="local_date_time_base.html#id932548-bb">local_time_in</a>(boost::shared_ptr&lt; tz_type &gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time_duration_type = time_duration_type(0, 0, 0)) <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type">std::string</span> <a href="local_date_time_base.html#id932577-bb">zone_name</a>(<span class="bold"><strong>bool</strong></span> = false) <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type">std::string</span> <a href="local_date_time_base.html#id932602-bb">zone_abbrev</a>(<span class="bold"><strong>bool</strong></span> = false) <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type">std::string</span> <a href="local_date_time_base.html#id932626-bb">zone_as_posix_string</a>() <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type"><span class="bold"><strong>bool</strong></span></span> <a href="local_date_time_base.html#id932638-bb"><span class="bold"><strong>operator</strong></span>==</a>(<span class="bold"><strong>const</strong></span> <a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a> &amp;) <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type"><span class="bold"><strong>bool</strong></span></span> <a href="local_date_time_base.html#id932658-bb"><span class="bold"><strong>operator</strong></span>!=</a>(<span class="bold"><strong>const</strong></span> <a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a> &amp;) <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type"><span class="bold"><strong>bool</strong></span></span> <a href="local_date_time_base.html#id940017-bb"><span class="bold"><strong>operator</strong></span>&lt;</a>(<span class="bold"><strong>const</strong></span> <a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a> &amp;) <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type"><span class="bold"><strong>bool</strong></span></span> <a href="local_date_time_base.html#id940037-bb"><span class="bold"><strong>operator</strong></span>&lt;=</a>(<span class="bold"><strong>const</strong></span> <a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a> &amp;) <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type"><span class="bold"><strong>bool</strong></span></span> <a href="local_date_time_base.html#id940057-bb"><span class="bold"><strong>operator</strong></span>&gt;</a>(<span class="bold"><strong>const</strong></span> <a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a> &amp;) <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type"><span class="bold"><strong>bool</strong></span></span> <a href="local_date_time_base.html#id974168-bb"><span class="bold"><strong>operator</strong></span>&gt;=</a>(<span class="bold"><strong>const</strong></span> <a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a> &amp;) <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <a href="local_date_time_base.html#id801033-bb"><span class="bold"><strong>operator</strong></span>+</a>(<span class="bold"><strong>const</strong></span> date_duration_type &amp;) <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <a href="local_date_time_base.html#id801050-bb"><span class="bold"><strong>operator</strong></span>+=</a>(<span class="bold"><strong>const</strong></span> date_duration_type &amp;) ;<br>&nbsp;&nbsp;<span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <a href="local_date_time_base.html#id801068-bb"><span class="bold"><strong>operator</strong></span>-</a>(<span class="bold"><strong>const</strong></span> date_duration_type &amp;) <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <a href="local_date_time_base.html#id822304-bb"><span class="bold"><strong>operator</strong></span>-=</a>(<span class="bold"><strong>const</strong></span> date_duration_type &amp;) ;<br>&nbsp;&nbsp;<span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <a href="local_date_time_base.html#id822321-bb"><span class="bold"><strong>operator</strong></span>+</a>(<span class="bold"><strong>const</strong></span> time_duration_type &amp;) <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <a href="local_date_time_base.html#id822339-bb"><span class="bold"><strong>operator</strong></span>+=</a>(<span class="bold"><strong>const</strong></span> time_duration_type &amp;) ;<br>&nbsp;&nbsp;<span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <a href="local_date_time_base.html#id927144-bb"><span class="bold"><strong>operator</strong></span>-</a>(<span class="bold"><strong>const</strong></span> time_duration_type &amp;) <span class="bold"><strong>const</strong></span>;<br>&nbsp;&nbsp;<span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <a href="local_date_time_base.html#id927162-bb"><span class="bold"><strong>operator</strong></span>-=</a>(<span class="bold"><strong>const</strong></span> time_duration_type &amp;) ;<br>&nbsp;&nbsp;<span class="type">time_duration_type</span> <a href="local_date_time_base.html#id794742-bb"><span class="bold"><strong>operator</strong></span>-</a>(<span class="bold"><strong>const</strong></span> <a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a> &amp;) <span class="bold"><strong>const</strong></span>;<br><br>&nbsp;&nbsp;<span class="emphasis"><em>// <a href="local_date_time_base.html#id871841-bb">public static functions</a></em></span>
&nbsp;&nbsp;<span class="type"><span class="bold"><strong>static</strong></span> time_is_dst_result</span> <br>&nbsp;&nbsp;<a href="local_date_time_base.html#id857944-bb">check_dst</a>(date_type, time_duration_type, boost::shared_ptr&lt; tz_type &gt;) ;<br><br>&nbsp;&nbsp;<span class="emphasis"><em>// <a href="local_date_time_base.html#id927896-bb">private member functions</a></em></span>
&nbsp;&nbsp;<span class="type">utc_time_type</span> <br>&nbsp;&nbsp;<a href="local_date_time_base.html#id927899-bb">construction_adjustment</a>(utc_time_type, boost::shared_ptr&lt; tz_type &gt;, <span class="bold"><strong>bool</strong></span>) ;<br>&nbsp;&nbsp;<span class="type">std::string</span> <a href="local_date_time_base.html#id970729-bb">zone_as_offset</a>(<span class="bold"><strong>const</strong></span> time_duration_type &amp;, <span class="bold"><strong>const</strong></span> std::string &amp;) <span class="bold"><strong>const</strong></span>;<br>};</pre>
</div>

<div class="refsect1" lang="en">
<a name="id1177499"></a>
<h2>说明</h2>

<p>在某个特定时区中的 "wall-clock" 时间的表示法。Local_date_time_base
持有一个时间值(日期与距00:00的时间偏移量)以及一个时区。该时间值以UTC方式保存，并在需要时转换为 wall clock
时间。这种方法允许在不同时区及夏时制情况下的 wall-clock 时间之间的互操作。时区必须以
boost::shared_ptr&lt;time_zone_base&gt; 的形式保存。 </p>

<div class="refsect2" lang="en">
<a name="id1177505"></a>
<h3>
<a name="boost.local_time.local_date_time_baseconstruct-copy-destruct"></a><code class="computeroutput">local_date_time_base</code> 构造/复制/析构</h3>

<div class="orderedlist">
<ol type="1">

  <li>
    <pre class="literallayout"><a name="id794763-bb"></a>local_date_time_base(utc_time_type t, boost::shared_ptr&lt; tz_type &gt; tz);</pre>

    <p>该构造函数将传入的时间解释为 UTC 时间。所以例如，如果传入的时区是 UTC-5，则该时间将被向后调整5个小时。该时区可以自动计算该特定时间是否要进行夏时制调整，等等。如果这个时区共享指针为空，则时间不作调整。 
    </p>

    <div class="variablelist">
    <table border="0">

      <col align="left" valign="top">
      <tbody>
        <tr>

          <td>
          <span class="term">参数：</span></td>

          <td>
          <div class="variablelist">
          <table border="0">

            <col align="left" valign="top">
            <tbody>

              <tr>

                <td>
                <span class="term"><code class="computeroutput">t</code></span></td>

                <td>
                <p>一个 UTC 时间 </p>
                </td>

              </tr>

              <tr>

                <td>
                <span class="term"><code class="computeroutput">tz</code></span></td>

                <td>
                <p>要对 UTC 时间进行调整的时区 </p>
                </td>

              </tr>

            </tbody>
          </table>
          </div>
          </td>

        </tr>
      </tbody>
    </table>
    </div>

  </li>

  <li>
    <pre class="literallayout"><a name="id762053-bb"></a>local_date_time_base(date_type d, time_duration_type td, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boost::shared_ptr&lt; tz_type &gt; tz, <span class="bold"><strong>bool</strong></span> dst_flag);</pre>

    <p>构造一个本地时间 -- 传入的时间信息被理解为位于传入的 tz. 必须传入 DST 标志以表示该时间是否位于夏时制中。 
    </p>

    <div class="variablelist">
    <table border="0">

      <col align="left" valign="top">
      <tbody>
        <tr>

          <td>
          <span class="term">抛出：</span></td>

          <td>如果传入的时间在给定 locale 中不存在，则抛出 time_label_invalid.
这种情况通常发生在从夏时制转回标准时的期间。因为时钟向前位移一段时间(在美国是由 2 am 变为 3
am)，所以有一段时间被跳过而无效。如果在 DST 不作用的时间段传入 DST 标志，则抛出 dst_not_valid. </td>

        </tr>
      </tbody>
    </table>
    </div>

  </li>

  <li>
    <pre class="literallayout"><a name="id762095-bb"></a>local_date_time_base(date_type d, time_duration_type td, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boost::shared_ptr&lt; tz_type &gt; tz, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DST_CALC_OPTIONS calc_option);</pre>

    <p>构造一个本地时间 -- 传入的时间信息被理解为位于传入的 tz. 根据指定规则计算 DST 标志。 </p>

  </li>

  <li>
    <pre class="literallayout"><a name="id871810-bb"></a>local_date_time_base(<span class="bold"><strong>const</strong></span> <a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a> &amp; rhs);</pre>
  </li>

  <li>
    <pre class="literallayout"><a name="id871823-bb"></a>local_date_time_base(<span class="bold"><strong>const</strong></span> boost::date_time::special_values sv, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boost::shared_ptr&lt; tz_type &gt; tz = boost::shared_ptr&lt; tz_type &gt;());</pre>
  </li>

  <li>
    <pre class="literallayout"><a name="id871805-bb"></a>~local_date_time_base();</pre>
  </li>

</ol>
</div>

</div>

<div class="refsect2" lang="en">
<a name="id1177708"></a>
<h3>
<a name="id936793-bb"></a><code class="computeroutput">local_date_time_base</code> 公有成员函数</h3>

<div class="orderedlist">
<ol type="1">

  <li>
    <pre class="literallayout"><span class="type">boost::shared_ptr&lt; tz_type &gt;</span> <a name="id936796-bb"></a>zone() <span class="bold"><strong>const</strong></span>;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type"><span class="bold"><strong>bool</strong></span></span> <a name="id936808-bb"></a>is_dst() <span class="bold"><strong>const</strong></span>;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type">utc_time_type</span> <a name="id932510-bb"></a>utc_time() <span class="bold"><strong>const</strong></span>;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type">utc_time_type</span> <a name="id932520-bb"></a>local_time() <span class="bold"><strong>const</strong></span>;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type">std::string</span> <a name="id932531-bb"></a>to_string() <span class="bold"><strong>const</strong></span>;</pre>

    <p>返回形如 "2003-Aug-20 05:00:00 EDT" 的字符串。如果 time_zone 为 NULL，则时区缩写为 "UTC". 如果调用的对象是 special_value，则不包含时区缩写。 </p>

  </li>

  <li>
    <pre class="literallayout"><span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <br><a name="id932548-bb"></a>local_time_in(boost::shared_ptr&lt; tz_type &gt; new_tz, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time_duration_type td = time_duration_type(0, 0, 0)) <span class="bold"><strong>const</strong></span>;</pre>

    <p>返回给定时区中的 local_date_time_base，加上可选的 time_duration. </p>

  </li>

  <li>
    <pre class="literallayout"><span class="type">std::string</span> <a name="id932577-bb"></a>zone_name(<span class="bold"><strong>bool</strong></span> as_offset = false) <span class="bold"><strong>const</strong></span>;</pre>

    <p>可选 的 bool 参数将以偏移量返回时区(如 "+07:00" 的扩展 iso 格式)。不使用 time_zone 的类返回空串。 </p>

  </li>

  <li>
    <pre class="literallayout"><span class="type">std::string</span> <a name="id932602-bb"></a>zone_abbrev(<span class="bold"><strong>bool</strong></span> as_offset = false) <span class="bold"><strong>const</strong></span>;</pre>

    <p>可选 的 bool 参数将以偏移量返回时区(如 "+07:00" 的扩展 iso 格式)。不使用 time_zone 的类返回空串。 </p>

  </li>

  <li>
    <pre class="literallayout"><span class="type">std::string</span> <a name="id932626-bb"></a>zone_as_posix_string() <span class="bold"><strong>const</strong></span>;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type"><span class="bold"><strong>bool</strong></span></span> <a name="id932638-bb"></a><span class="bold"><strong>operator</strong></span>==(<span class="bold"><strong>const</strong></span> <a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a> &amp; rhs) <span class="bold"><strong>const</strong></span>;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type"><span class="bold"><strong>bool</strong></span></span> <a name="id932658-bb"></a><span class="bold"><strong>operator</strong></span>!=(<span class="bold"><strong>const</strong></span> <a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a> &amp; rhs) <span class="bold"><strong>const</strong></span>;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type"><span class="bold"><strong>bool</strong></span></span> <a name="id940017-bb"></a><span class="bold"><strong>operator</strong></span>&lt;(<span class="bold"><strong>const</strong></span> <a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a> &amp; rhs) <span class="bold"><strong>const</strong></span>;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type"><span class="bold"><strong>bool</strong></span></span> <a name="id940037-bb"></a><span class="bold"><strong>operator</strong></span>&lt;=(<span class="bold"><strong>const</strong></span> <a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a> &amp; rhs) <span class="bold"><strong>const</strong></span>;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type"><span class="bold"><strong>bool</strong></span></span> <a name="id940057-bb"></a><span class="bold"><strong>operator</strong></span>&gt;(<span class="bold"><strong>const</strong></span> <a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a> &amp; rhs) <span class="bold"><strong>const</strong></span>;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type"><span class="bold"><strong>bool</strong></span></span> <a name="id974168-bb"></a><span class="bold"><strong>operator</strong></span>&gt;=(<span class="bold"><strong>const</strong></span> <a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a> &amp; rhs) <span class="bold"><strong>const</strong></span>;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <a name="id801033-bb"></a><span class="bold"><strong>operator</strong></span>+(<span class="bold"><strong>const</strong></span> date_duration_type &amp; dd) <span class="bold"><strong>const</strong></span>;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <a name="id801050-bb"></a><span class="bold"><strong>operator</strong></span>+=(<span class="bold"><strong>const</strong></span> date_duration_type &amp; dd) ;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <a name="id801068-bb"></a><span class="bold"><strong>operator</strong></span>-(<span class="bold"><strong>const</strong></span> date_duration_type &amp; dd) <span class="bold"><strong>const</strong></span>;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <a name="id822304-bb"></a><span class="bold"><strong>operator</strong></span>-=(<span class="bold"><strong>const</strong></span> date_duration_type &amp; dd) ;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <a name="id822321-bb"></a><span class="bold"><strong>operator</strong></span>+(<span class="bold"><strong>const</strong></span> time_duration_type &amp; td) <span class="bold"><strong>const</strong></span>;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <a name="id822339-bb"></a><span class="bold"><strong>operator</strong></span>+=(<span class="bold"><strong>const</strong></span> time_duration_type &amp; td) ;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <a name="id927144-bb"></a><span class="bold"><strong>operator</strong></span>-(<span class="bold"><strong>const</strong></span> time_duration_type &amp; td) <span class="bold"><strong>const</strong></span>;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type"><a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a></span> <a name="id927162-bb"></a><span class="bold"><strong>operator</strong></span>-=(<span class="bold"><strong>const</strong></span> time_duration_type &amp; td) ;</pre>
  </li>

  <li>
    <pre class="literallayout"><span class="type">time_duration_type</span> <a name="id794742-bb"></a><span class="bold"><strong>operator</strong></span>-(<span class="bold"><strong>const</strong></span> <a href="local_date_time_base.html" title="Class template local_date_time_base">local_date_time_base</a> &amp; rhs) <span class="bold"><strong>const</strong></span>;</pre>
  </li>

</ol>
</div>

</div>

<div class="refsect2" lang="en">
<a name="id1178560"></a>
<h3>
<a name="id871841-bb"></a><code class="computeroutput">local_date_time_base</code> 公有静态函数</h3>

<div class="orderedlist">
<ol type="1">
  <li>
    <pre class="literallayout"><span class="type"><span class="bold"><strong>static</strong></span> time_is_dst_result</span> <br><a name="id857944-bb"></a>check_dst(date_type d, time_duration_type td, boost::shared_ptr&lt; tz_type &gt; tz) ;</pre>

    <p>判断给定的时间标签是否属于给定时区的夏时制。接受一个 date 和 time_duration 表示一个本地时间，以及相应时区，返回一个 time_is_dst_result 对象作为结果。 </p>

  </li>
</ol>
</div>

</div>

<div class="refsect2" lang="en">
<a name="id1178608"></a>
<h3>
<a name="id927896-bb"></a><code class="computeroutput">local_date_time_base</code> 私有成员函数</h3>

<div class="orderedlist">
<ol type="1">

  <li>
    <pre class="literallayout"><span class="type">utc_time_type</span> <br><a name="id927899-bb"></a>construction_adjustment(utc_time_type t, boost::shared_ptr&lt; tz_type &gt; z, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bold"><strong>bool</strong></span> dst_flag) ;</pre>

    <p>将传入的时间调整为 UTC? </p>

  </li>

  <li>
    <pre class="literallayout"><span class="type">std::string</span> <a name="id970729-bb"></a>zone_as_offset(<span class="bold"><strong>const</strong></span> time_duration_type &amp; td, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bold"><strong>const</strong></span> std::string &amp; separator) <span class="bold"><strong>const</strong></span>;</pre>

    <p>简单的格式化代码 -- 以后去掉这部分代码? </p>

  </li>

</ol>
</div>

</div>

</div>

</div>

<table width="100%">
  <tbody>
    <tr>

      <td align="left"></td>

      <td align="right"><small>Copyright &copy; 2001-2005 CrystalClear Software, Inc</small></td>

    </tr>
  </tbody>
</table>

<hr>
<div class="spirit-nav">
<a accesskey="p" href="dst_not_valid.html"><img src="../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../../date_time/doxy.html#header.boost.date_time.local_time.local_date_time.hpp"><img src="../../images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../images/home.png" alt="Home"></a><a accesskey="n" href="time_label_invalid.html"><img src="../../images/next.png" alt="Next"></a>
</div>

</body>
</html>

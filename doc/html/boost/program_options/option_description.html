<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Class option_description</title><link rel="stylesheet" href="../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="../../index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">
<link rel="up" href="../../program_options/reference.html#header.boost.program_options.options_description.hpp" title="Header &lt;boost/program_options/options_description.hpp&gt;">
<link rel="prev" href="basic_option.html" title="Class template basic_option">
<link rel="next" href="options_description_easy_init.html" title="Class options_description_easy_init"></head>
<body alink="#0000ff" bgcolor="white" link="#0000ff" text="black" vlink="#840084">
<table cellpadding="2" width="100%"><tbody><tr>
<td valign="top"><img alt="Boost C++ Libraries" src="../../../../boost.png" height="86" width="277"></td>
<td align="center"><a href="../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../more/index.htm">More</a></td>
</tr></tbody></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="basic_option.html"><img src="../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../program_options/reference.html#header.boost.program_options.options_description.hpp"><img src="../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="options_description_easy_init.html"><img src="../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="refentry" lang="en">
<a name="boost.program_options.option_description"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2><span class="refentrytitle">类&nbsp;option_description</span></h2>
<p>boost::program_options::option_description</p>
</div>
<h2 xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv-title">摘要</h2>
<div xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv"><pre class="synopsis"><span class="bold"><strong>class</strong></span> <a class="link" href="option_description.html" title="Class option_description">option_description</a> {<br><span class="bold"><strong>public</strong></span>:<br><br>  <span class="bold"><strong>enum</strong></span> <a name="boost.program_options.option_description.match_result"></a>match_result { no_match, full_match, approximate_match };<br>  <span class="emphasis"><em>// <a class="link" href="option_description.html#boost.program_options.option_descriptionconstruct-copy-destruct">构造/复制/析构</a></em></span>
  <a class="link" href="option_description.html#id2622525-bb">option_description</a>();<br>  <a class="link" href="option_description.html#id2622526-bb">option_description</a>(<span class="bold"><strong>const</strong></span> <span class="bold"><strong>char</strong></span> *, <span class="bold"><strong>const</strong></span> <a class="link" href="value_semantic.html" title="Class value_semantic">value_semantic</a> *);<br>  <a class="link" href="option_description.html#id2416345-bb">option_description</a>(<span class="bold"><strong>const</strong></span> <span class="bold"><strong>char</strong></span> *, <span class="bold"><strong>const</strong></span> <a class="link" href="value_semantic.html" title="Class value_semantic">value_semantic</a> *, <span class="bold"><strong>const</strong></span> <span class="bold"><strong>char</strong></span> *);<br>  <a class="link" href="option_description.html#id2635164-bb">~option_description</a>();<br><br>  <span class="emphasis"><em>// <a class="link" href="option_description.html#id2610220-bb">公有成员函数</a></em></span>
  <span class="type">match_result</span> <a class="link" href="option_description.html#id2610223-bb">match</a>(<span class="bold"><strong>const</strong></span> std::string &amp;, <span class="bold"><strong>bool</strong></span>) <span class="bold"><strong>const</strong></span>;<br>  <span class="type"><span class="bold"><strong>const</strong></span> std::string &amp;</span> <a class="link" href="option_description.html#id2406864-bb">key</a>(<span class="bold"><strong>const</strong></span> std::string &amp;) <span class="bold"><strong>const</strong></span>;<br>  <span class="type"><span class="bold"><strong>const</strong></span> std::string &amp;</span> <a class="link" href="option_description.html#id2459602-bb">long_name</a>() <span class="bold"><strong>const</strong></span>;<br>  <span class="type"><span class="bold"><strong>const</strong></span> std::string &amp;</span> <a class="link" href="option_description.html#id2459609-bb">description</a>() <span class="bold"><strong>const</strong></span>;<br>  <span class="type">shared_ptr&lt; <span class="bold"><strong>const</strong></span> <a class="link" href="value_semantic.html" title="Class value_semantic">value_semantic</a> &gt;</span> <a class="link" href="option_description.html#id2922166-bb">semantic</a>() <span class="bold"><strong>const</strong></span>;<br>  <span class="type">std::string</span> <a class="link" href="option_description.html#id2922180-bb">format_name</a>() <span class="bold"><strong>const</strong></span>;<br>  <span class="type">std::string</span> <a class="link" href="option_description.html#id2622513-bb">format_parameter</a>() <span class="bold"><strong>const</strong></span>;<br><br>  <span class="emphasis"><em>// <a class="link" href="option_description.html#id2635165-bb">私有成员函数</a></em></span>
  <span class="type"><a class="link" href="option_description.html" title="Class option_description">option_description</a> &amp;</span> <a class="link" href="option_description.html#id2635168-bb">set_name</a>(<span class="bold"><strong>const</strong></span> <span class="bold"><strong>char</strong></span> *) ;<br>};</pre></div>
<div class="refsect1" lang="en">
<a name="id3458698"></a><h2>说明</h2>
<p>描述一个可能的命令行/配置文件选项。有两种选项属性类型。第一种从语法上进行描述，仅用于对输入进行合法性校验。第二种则影响选项的解释，例如其缺省值或在获得值后进行调用的函数。执行分析的子程序不会使用第二种属性 -- 它们没有副作用。 </p>
<p>options_description </p>
<p>
</p>
<div class="refsect2" lang="en">
<a name="id3458715"></a><h3>
<a name="boost.program_options.option_descriptionconstruct-copy-destruct"></a><code class="computeroutput">option_description </code>公有构造/复制/析构</h3><div class="orderedlist"><ol type="1">
<li><pre class="literallayout"><a name="id2622525-bb"></a>option_description();</pre></li>
<li>
<pre class="literallayout"><a name="id2622526-bb"></a>option_description(<span class="bold"><strong>const</strong></span> <span class="bold"><strong>char</strong></span> * name, <span class="bold"><strong>const</strong></span> <a class="link" href="value_semantic.html" title="Class value_semantic">value_semantic</a> * s);</pre>
<p>以传入的数据初始化对象。</p>
<p>注：对第二个参数使用 auto_ptr 以显式传递所有权是一个好方法。不幸的是，通常需要创建派生自 'value_semantic'
的类型的对象：options_description d; d.add_options()("a",
parameter&lt;int&gt;("n")-&gt;default_value(1)); 这样，由 'parameter'
返回的静态类型应该派生自 value_semantic.</p>
<p>可惜，auto_ptr 的 derived-&gt;base 转换不能正确工作，参见
http://anubis.dkuug.dk/jtc1/sc22/wg21/docs/papers/2000/n1232.pdf
http://std.dkuug.dk/jtc1/sc22/wg21/docs/cwg_defects.html#84</p>
<p>因此，我们不得不使用普通指针。此外，用户也不希望直接使用构造函数。</p>
<p>'name' 参数按以下规则解释：</p>
<div class="itemizedlist"><ul type="disc">
<li><p>如果在 'name' 中没有 "," 字符，则为长名字。</p></li>
<li><p>否则，"," 之前的部分为长名字而其后部分为短名字。 </p></li>
</ul></div>
<p>
</p>
</li>
<li>
<pre class="literallayout"><a name="id2416345-bb"></a>option_description(<span class="bold"><strong>const</strong></span> <span class="bold"><strong>char</strong></span> * name, <span class="bold"><strong>const</strong></span> <a class="link" href="value_semantic.html" title="Class value_semantic">value_semantic</a> * s, <br>                   <span class="bold"><strong>const</strong></span> <span class="bold"><strong>char</strong></span> * description);</pre>
<p>以传入的数据初始化该类。 </p>
</li>
<li><pre class="literallayout"><a name="id2635164-bb"></a>~option_description();</pre></li>
</ol></div>
</div>
<div class="refsect2" lang="en">
<a name="id3458898"></a><h3>
<a name="id2610220-bb"></a><code class="computeroutput">option_description</code> 公有成员函数</h3>
<div class="orderedlist"><ol type="1">
<li>
<pre class="literallayout"><span class="type">match_result</span> <a name="id2610223-bb"></a>match(<span class="bold"><strong>const</strong></span> std::string &amp; option, <span class="bold"><strong>bool</strong></span> approx) <span class="bold"><strong>const</strong></span>;</pre>
<p>在输入源中给定 'option'，返回 'true' 如果 'option' 符合 *this. </p>
</li>
<li>
<pre class="literallayout"><span class="type"><span class="bold"><strong>const</strong></span> std::string &amp;</span> <a name="id2406864-bb"></a>key(<span class="bold"><strong>const</strong></span> std::string &amp; option) <span class="bold"><strong>const</strong></span>;</pre>
<p>返回标识本选项的键，特别使用 variables_map 类。'option' 参数是来自输入源的选项拼写。如果选项名包含 '*'，则返回 'option'。如果指定了长名字，则为长名字，否则为短名字前加 '-'. </p>
</li>
<li><pre class="literallayout"><span class="type"><span class="bold"><strong>const</strong></span> std::string &amp;</span> <a name="id2459602-bb"></a>long_name() <span class="bold"><strong>const</strong></span>;</pre></li>
<li><pre class="literallayout"><span class="type"><span class="bold"><strong>const</strong></span> std::string &amp;</span> <a name="id2459609-bb"></a>description() <span class="bold"><strong>const</strong></span>;</pre></li>
<li><pre class="literallayout"><span class="type">shared_ptr&lt; <span class="bold"><strong>const</strong></span> <a class="link" href="value_semantic.html" title="Class value_semantic">value_semantic</a> &gt;</span> <a name="id2922166-bb"></a>semantic() <span class="bold"><strong>const</strong></span>;</pre></li>
<li><pre class="literallayout"><span class="type">std::string</span> <a name="id2922180-bb"></a>format_name() <span class="bold"><strong>const</strong></span>;</pre></li>
<li>
<pre class="literallayout"><span class="type">std::string</span> <a name="id2622513-bb"></a>format_parameter() <span class="bold"><strong>const</strong></span>;</pre>
<p>返回参数名和属性，格式化为适合于用法信息输出。 </p>
</li>
</ol></div>
</div>
<div class="refsect2" lang="en">
<a name="id3459140"></a><h3>
<a name="id2635165-bb"></a><code class="computeroutput">option_description</code> 私有成员函数</h3>
<div class="orderedlist"><ol type="1"><li><pre class="literallayout"><span class="type"><a class="link" href="option_description.html" title="Class option_description">option_description</a> &amp;</span> <a name="id2635168-bb"></a>set_name(<span class="bold"><strong>const</strong></span> <span class="bold"><strong>char</strong></span> * name) ;</pre></li></ol></div>
</div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tbody><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright © 2002-2004 Vladimir Prus<p>Distributed under the Boost Software License, Version 1.0.
      (See accompanying file <code class="filename">LICENSE_1_0.txt</code> or copy at 
      <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></tbody></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="basic_option.html"><img src="../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../program_options/reference.html#header.boost.program_options.options_description.hpp"><img src="../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="options_description_easy_init.html"><img src="../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body></html>
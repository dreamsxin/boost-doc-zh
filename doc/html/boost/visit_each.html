<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Function template visit_each</title>

<link rel="stylesheet" href="../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="../index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">
<link rel="up" href="../signals/reference.html#header.boost.visit_each.hpp" title="Header &lt;boost/visit_each.hpp&gt;">
<link rel="prev" href="signals/scoped_connection.html" title="Class scoped_connection">
<link rel="next" href="last_value.html" title="Class template last_value">
</head>
<body style="color: black; background-color: white;" alink="#0000ff" link="#0000ff" vlink="#840084">
<table cellpadding="2" width="100%">
<tbody>
<tr>
<td valign="top"><img alt="Boost C++ Libraries" src="../../../boost.png" height="86" width="277"></td>
<td align="center"><a href="../../../index.html">Home</a></td>
<td align="center"><a href="../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/people/people.htm">People</a></td>
<td align="center"><a href="http://www.boost.org/more/faq.htm">FAQ</a></td>
<td align="center"><a href="../../../more/index.htm">More</a></td>
</tr>
</tbody>
</table>
<hr>
<div class="spirit-nav"><a accesskey="p" href="signals/scoped_connection.html"><img src="../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../signals/reference.html#header.boost.visit_each.hpp"><img src="../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="last_value.html"><img src="../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="refentry" lang="en">
<a name="boost.visit_each"></a>
<div class="titlepage"></div>
<div class="refnamediv">
<h2><span class="refentrytitle">Function template
visit_each</span></h2>
<p>boost::visit_each — Allow limited exploration of class members.</p>
<p>boost::visit_each — 允许对类成员进行有限的探测。</p>
</div>
<h2 xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv-title">Synopsis</h2>
<div xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv">
<pre class="synopsis"><span class="bold"><strong>template</strong></span>&lt;<span class="bold"><strong>typename</strong></span> Visitor, <span class="bold"><strong>typename</strong></span> T&gt; <br> <span class="type"><span class="bold"><strong>void</strong></span></span> visit_each(<span class="bold"><strong>const</strong></span> Visitor&amp; visitor, <span class="bold"><strong>const</strong></span> T&amp; t, <span class="bold"><strong>int</strong></span>);</pre>
</div>
<div class="refsect1" lang="en">
<a name="id1284439"></a>
<h2>Description</h2>
<p>The <code class="computeroutput"><a class="link" href="visit_each.html" title="Function template visit_each">visit_each</a></code>
mechanism allows a visitor to be applied to every subobject in a given
object. It is used by the Signals library to discover <code class="computeroutput"><a class="link" href="signals/trackable.html" title="Class trackable">signals::trackable</a></code>
objects within a function object, but other uses may surface if used
universally (e.g., conservative garbage collection). To fit within the <code class="computeroutput"><a class="link" href="visit_each.html" title="Function template visit_each">visit_each</a></code>
framework, a <code class="computeroutput"><a class="link" href="visit_each.html" title="Function template visit_each">visit_each</a></code>
overload must be supplied for each object type. </p>
<p><code class="computeroutput"><a class="link" href="visit_each.html" title="Function template visit_each">visit_each</a></code>
机制允许对给定对象的所有子对象应用一个观察者（visitor）。 信号库用它发现函数对象中的 <code class="computeroutput"><a class="link" href="signals/trackable.html" title="Class trackable">signals::trackable</a></code>
对象，但是如果普遍使用，可能会出现其他使用方法（例如保守垃圾收集）。 为了配合 <code class="computeroutput"><a class="link" href="visit_each.html" title="Function template visit_each">visit_each</a></code>
框架， 必须为每个对象类型提供 <code class="computeroutput"><a class="link" href="visit_each.html" title="Function template visit_each">visit_each</a></code>
重载。</p>
<div class="variablelist">
<table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<p><span class="term">Effects:</span></p>
</td>
<td>
<p><code class="computeroutput">visitor(t)</code>,
and for every subobject <code class="computeroutput">x</code>
of <code class="computeroutput">t</code>: </p>
<p><code class="computeroutput">visitor(t)</code>，
并且对 <code class="computeroutput">t</code> 的每个子对象 <code class="computeroutput">x</code>： </p>
<div class="itemizedlist">
<ul type="disc">
<li>
<p>If <code class="computeroutput">x</code>
is a reference, <code class="computeroutput">visit_each(visitor,
<a class="link" href="reference_wrapper.html#boost.ref_id281731">ref</a>(x),
0)</code></p>
<p>如果 <code class="computeroutput">x</code>
是个引用，
<code class="computeroutput">visit_each(visitor,
<a class="link" href="reference_wrapper.html#boost.ref_id281731">ref</a>(x),
0)</code></p>
</li>
<li>
<p>Otherwise, <code class="computeroutput">visit_each(visitor,
x, 0)</code></p>
<p>否则，<code class="computeroutput">visit_each(visitor,
x, 0)</code></p>
</li>
</ul>
</div>
<p> </p>
</td>
</tr>
<tr>
<td>
<p><span class="term">Notes:</span></p>
</td>
<td>
<p>The third parameter is <code class="computeroutput">long</code>
for the fallback version of <a class="link" href="visit_each.html" title="Function template visit_each">visit_each</a>
and the argument supplied to this third paramter must always be 0. The
third parameter is an artifact of the widespread lack of proper
function template ordering, and will be removed in the future.</p>
<p>Library authors will be expected to add additional
overloads that specialize the T argument for their classes, so that
subobjects can be visited.</p>
<p>Calls to visit_each are required to be unqualified, to
enable argument-dependent lookup.</p>
<p> 对于 <a class="link" href="visit_each.html" title="Function template visit_each">visit_each</a>
的后备版本，第三个参数是 <code class="computeroutput">long</code>，
并且该参数必须为 0。 第三个参数是因为普遍缺乏正确的函数模板次序而人为设置的， 它将在未来被删除。 </p>
<p>库的作者将会添加额外的重载，为他们的类特化参数 T， 使其子对象可以被访问。 </p>
<p>对 visit_each 的调用要求是非限定的，以开启参数相关的查找 （argument-dependent
lookup）。</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%">
<tbody>
<tr>
<td align="left"></td>
<td align="right">
<div class="copyright-footer">Copyright &#169; 2001-2004
Douglas Gregor
<p>翻译：<a href="http://blog.csdn.net/jq0123">金庆</a></p>
<p>译文更新：2008.7.8</p>
<p>Use, modification and distribution is subject to the
Boost Software License, Version 1.0. (See accompanying file <code class="filename">LICENSE_1_0.txt</code> or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)</p>
</div>
</td>
</tr>
</tbody>
</table>
<hr>
<div class="spirit-nav"><a accesskey="p" href="signals/scoped_connection.html"><img src="../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../signals/reference.html#header.boost.visit_each.hpp"><img src="../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="last_value.html"><img src="../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body></html>
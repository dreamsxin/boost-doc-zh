<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


  <title>Function get</title>
  <link rel="stylesheet" href="../boostbook.css" type="text/css">

  <meta name="generator" content="DocBook XSL Stylesheets V1.73.2">

  <link rel="start" href="../index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">

  <link rel="up" href="../variant/reference.html#header.boost.variant.get.hpp" title="Header &lt;boost/variant/get.hpp&gt;">

  <link rel="prev" href="bad_get.html" title="Class bad_get">

  <link rel="next" href="bad_visit.html" title="Class bad_visit">
</head>

<body alink="#0000ff" bgcolor="white" link="#0000ff" text="black" vlink="#840084">

<table cellpadding="2" width="100%">
  <tbody>
    <tr>

      <td valign="top"><img alt="Boost C++ Libraries" src="../../../boost.png" height="86" width="277"></td>

      <td align="center"><a href="../../../index.html">Home</a></td>

      <td align="center"><a href="../../../libs/libraries.htm">Libraries</a></td>

      <td align="center"><a href="http://www.boost.org/people/people.htm">People</a></td>

      <td align="center"><a href="http://www.boost.org/more/faq.htm">FAQ</a></td>

      <td align="center"><a href="../../../more/index.htm">More</a></td>

    </tr>
  </tbody>
</table>

<hr>
<div class="spirit-nav">
<a accesskey="p" href="bad_get.html"><img src="../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../variant/reference.html#header.boost.variant.get.hpp"><img src="../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="bad_visit.html"><img src="../../../doc/html/images/next.png" alt="Next"></a>
</div>

<div class="refentry" lang="en">
<div class="refnamediv">
<h2><span class="refentrytitle">函数 get</span></h2>

<p>boost::get &mdash; </p>

<p>从给定的 <code class="computeroutput"><a title="Class template variant" href="variant.html">variant</a></code> 中取出指定类型的值。</p>

<p></p>
</div>

<h2 class="refsynopsisdiv-title" xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision">摘要</h2>

<div class="refsynopsisdiv" xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision">
<pre class="synopsis"><span class="bold"><strong>template</strong></span>&lt;<span class="bold"><strong>typename</strong></span> U, <span class="bold"><strong>typename</strong></span> T1, <span class="bold"><strong>typename</strong></span> T2, ..., <span class="bold"><strong>typename</strong></span> TN&gt; <br>&nbsp;&nbsp;<span class="type">U *</span> get(<a title="Class template variant" href="variant.html">variant</a>&lt;T1, T2, ..., TN&gt; * operand);<br><span class="bold"><strong>template</strong></span>&lt;<span class="bold"><strong>typename</strong></span> U, <span class="bold"><strong>typename</strong></span> T1, <span class="bold"><strong>typename</strong></span> T2, ..., <span class="bold"><strong>typename</strong></span> TN&gt; <br>&nbsp;&nbsp;<span class="type"><span class="bold"><strong>const</strong></span> U *</span> get(<span class="bold"><strong>const</strong></span> <a title="Class template variant" href="variant.html">variant</a>&lt;T1, T2, ..., TN&gt; * operand);<br><span class="bold"><strong>template</strong></span>&lt;<span class="bold"><strong>typename</strong></span> U, <span class="bold"><strong>typename</strong></span> T1, <span class="bold"><strong>typename</strong></span> T2, ..., <span class="bold"><strong>typename</strong></span> TN&gt; <br>&nbsp;&nbsp;<span class="type">U &amp;</span> get(<a title="Class template variant" href="variant.html">variant</a>&lt;T1, T2, ..., TN&gt; &amp; operand);<br><span class="bold"><strong>template</strong></span>&lt;<span class="bold"><strong>typename</strong></span> U, <span class="bold"><strong>typename</strong></span> T1, <span class="bold"><strong>typename</strong></span> T2, ..., <span class="bold"><strong>typename</strong></span> TN&gt; <br>&nbsp;&nbsp;<span class="type"><span class="bold"><strong>const</strong></span> U &amp;</span> get(<span class="bold"><strong>const</strong></span> <a title="Class template variant" href="variant.html">variant</a>&lt;T1, T2, ..., TN&gt; &amp; operand);</pre>
</div>

<div class="refsect1" lang="en"><a name="id1950502"></a>
<h2>说明</h2>

<p><code class="computeroutput">get</code> 函数取出给定 <code class="computeroutput"><a title="Class template variant" href="variant.html">variant</a></code> 
中的内容，该过程是运行期检查的、类型安全的。该函数仅在内容的类型为 <code class="computeroutput">U</code> 
时成功返回，关于失败的情况描述如下。</p>

<p><span class="bold"><strong>警告：</strong></span>在 <code class="computeroutput">operand</code> 或其内容销毁后(例如，给定的 <code class="computeroutput"><a title="Class template variant" href="variant.html">variant</a></code> 
被赋予另一个不同类型的值)，返回的引用将变为无效。因此，在使用返回的引用时必须特别小心谨慎。</p>

<div class="variablelist">
<table border="0">

  <colgroup><col align="left" valign="top"></colgroup><tbody>

    <tr>

      <td><span class="term">说明：</span></td>

      <td>作为类型安全保证的一部分，<code class="computeroutput">get</code> 保持 <code class="computeroutput">const</code>-正确性。因此，只要 <code class="computeroutput">operand</code> 或其内容是 <code class="computeroutput">const</code>-限定的，则类型 <code class="computeroutput">U</code> 
必须也是 <code class="computeroutput">const</code>-限定的。不过反之则不然：即使 <code class="computeroutput">operand</code> 及其内容不是 <code class="computeroutput">const</code>-限定的，类型 <code class="computeroutput">U</code> 
也可以是 <code class="computeroutput">const</code>-限定的。</td>
    </tr>

    <tr>

      <td><span class="term">返回：</span></td>

      <td>如果传入的是一个指针，则 <code class="computeroutput">get</code> 在其内容的类型为 <code class="computeroutput">U</code> 时返回该内容值的指针；否则返回一个空指针。如果传入的是<code class="computeroutput"></code>一个引用，则 <code class="computeroutput">get</code> 
在其内容的类型为 <code class="computeroutput">U</code> 时返回该内容值的引用；否则抛出一个异常(见后)。</td>
    </tr>

    <tr>

      <td><span class="term">抛出：</span></td>

      <td>接受一个 <code class="computeroutput"><a title="Class template variant" href="variant.html">variant</a></code> 指针的重载不会抛出；接受一个 <code class="computeroutput"><a title="Class template variant" href="variant.html">variant</a></code> 引用的重载在所含内容不是类型 <code class="computeroutput">U</code> 时抛出 <code class="computeroutput"><a title="Class bad_get" href="bad_get.html">bad_get</a></code><code class="computeroutput"></code>.</td>
    </tr>

    <tr>

      <td><span class="term">原理：</span></td>

      <td>虽然使用 <code class="computeroutput"><a title="Function apply_visitor" href="apply_visitor.html">apply_visitor</a></code> 的访问机制由于更好的安全性而更为常用，但在某些情况下使用 
      <code class="computeroutput">get</code>&nbsp;则更为方便。</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%">
  <tbody>
    <tr>

      <td align="left"></td>

      <td align="right">
      <div class="copyright-footer">Copyright &copy; 2002, 2003 Eric Friedman, Itay Maman
      <p>Permission to copy, use, sell and distribute this software
    is granted provided this copyright notice appears in all copies.
    Permission to modify the code and to distribute modified code is
    granted provided this copyright notice appears in all copies, and
    a notice that the code was modified is included with the copyright
    notice.</p>

      <p> This software is provided "as is" without express or
    implied warranty, and with no claim as to its suitability for any
    purpose.</p>

      </div>
      </td>

    </tr>
  </tbody>
</table>

<hr>
<div class="spirit-nav">
<a accesskey="p" href="bad_get.html"><img src="../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../variant/reference.html#header.boost.variant.get.hpp"><img src="../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="bad_visit.html"><img src="../../../doc/html/images/next.png" alt="Next"></a>
</div>

</body>
</html>

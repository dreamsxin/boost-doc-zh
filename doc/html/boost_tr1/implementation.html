<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


  <title>Implementation</title>
  <link rel="stylesheet" href="../boostbook.css" type="text/css">

  <meta name="generator" content="DocBook XSL Stylesheets V1.68.1">

  <link rel="start" href="../index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">

  <link rel="up" href="../boost_tr1.html" title="Chapter&nbsp;16.&nbsp;Boost.TR1">

  <link rel="prev" href="header_list.html" title=" TR1 By Header">

  <link rel="next" href="testing.html" title=" Testing">
</head>

<body alink="#0000ff" bgcolor="white" link="#0000ff" text="black" vlink="#840084">

<table cellpadding="2" width="100%">

  <tbody>
    <tr>
      <td valign="top"><img alt="Boost C++ Libraries" src="../../../boost.png" height="86" width="277"></td>

      <td align="center"><a href="../../../index.htm">Home</a></td>

      <td align="center"><a href="../../../libs/libraries.htm">Libraries</a></td>

      <td align="center"><a href="../../../people/people.htm">People</a></td>

      <td align="center"><a href="../../../more/faq.htm">FAQ</a></td>

      <td align="center"><a href="../../../more/index.htm">More</a></td>

    </tr>
  </tbody>
</table>

<hr>
<div class="spirit-nav">
<a accesskey="p" href="header_list.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../boost_tr1.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="testing.html"><img src="../images/next.png" alt="Next"></a>
</div>

<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both;">
<a name="boost_tr1.implementation"></a>实现</h2>
</div>
</div>
</div>

<p>如果 Boost.TR1 <a href="config.html" title=" Configuration">被配置</a> 为使用你的标准库中的原生 TR1 实现，则它不需要做多少事情：它只是包含适当的头文件就行了。
    </p>

<p>如果 Boost.TR1 使用了某个组件的 Boost 实现，则它需要包含适当的 Boost 头文件并使用声明将所需的名字导入到 <code class="computeroutput"><span class="keyword">namespace</span>&nbsp;<span class="identifier">std</span><span class="special">::</span><span class="identifier">tr1</span></code>
      中。注意，只有作为标准部分的声明会被导入：本实现有意非常严格地没有将所有 Boost-特有的扩展引入到 <code class="computeroutput"><span class="keyword">namespace</span>&nbsp;<span class="identifier">std</span><span class="special">::</span><span class="identifier">tr1</span></code>，这是为了能够捕获用户代码中的任何可移植性错误。如果你真的需要使用 Boost-特有的扩展，则你应当直接包含 Boost 头文件，则改用 <code class="computeroutput"><span class="keyword">namespace</span>&nbsp;<span class="identifier">boost</span><span class="special">::</span></code> 中的声明。注意，本实现的风格并不是完全符合标准的，它不能将用户自定义的 TR1 组件的模板特化增加到 <code class="computeroutput"><span class="keyword">namespace</span>&nbsp;<span class="identifier">std</span><span class="special">::</span><span class="identifier">tr1</span></code> 中。还有一到两个 Boost 库尚未完全符合标准，任何与标准不符的地方都已在 <a href="subject_list.html" title=" TR1 By Subject">"TR1 的分类"一节</a> 中说明。不过幸好，这些不符合标准的行为在实际中极少会用到。
    </p>

<p>如果你使用标准的头文件包含(在 <code class="computeroutput"><span class="identifier">boost</span><span class="special">/</span><span class="identifier">tr1</span><span class="special">/</span><span class="identifier">tr1</span></code> 中)，则这些头文件名有时可能与现有的标准库头文件冲突(例如 <code class="computeroutput"><span class="identifier">shared_ptr</span></code> 已增加到现有的标准库头文件 <code class="computeroutput"><span class="special">&lt;</span><span class="identifier">memory</span><span class="special">&gt;</span></code> 中而不是它自己的头文件)。这些头文件可以用以下两种方法之一前转到现有的标准库头文件：对于
      gcc，使用 <code class="computeroutput"><span class="preprocessor">#include_next</span></code>,
      而对于其它编译器则使用宏 <code class="computeroutput"><span class="identifier">BOOST_TR1_STD_HEADER</span><span class="special">(</span><span class="identifier">header</span><span class="special">)</span></code>
      (在 <a href="../../../boost/tr1/detail/config.hpp%22" target="_top">boost/tr1/detail/config.hpp</a> 中定义)，它将扩展为 <code class="computeroutput"><span class="preprocessor">#include</span>&nbsp;<span class="special">&lt;../</span><span class="identifier">include</span><span class="special">/</span><span class="identifier">header</span><span class="special">&gt;</span></code>.
      对于大多数编译器，这样就可以直接使用，但是这意味着这些头文件<span style="font-weight: bold;">不能</span>被放在名为"include"且已在你的编译器搜索路径中的目录下。
    </p>

</div>

<table width="100%">
  <tbody>
    <tr>

      <td align="left"></td>

      <td align="right"><small>Copyright &copy; 2005 John Maddock</small></td>

    </tr>
  </tbody>
</table>

<hr>
<div class="spirit-nav">
<a accesskey="p" href="header_list.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../boost_tr1.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="testing.html"><img src="../images/next.png" alt="Next"></a>
</div>

</body>
</html>

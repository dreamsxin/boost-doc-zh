<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>How to Access Data in a Property Tree &#22914;&#20309;&#35775;&#38382;&#23646;&#24615;&#26641;&#20013;&#30340;&#25968;&#25454;</title>
<link rel="stylesheet" href="../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="../index.html" title="Boost C++&#24211; BoostBook &#25991;&#26723;&#23376;&#38598;">
<link rel="up" href="../property_tree.html" title="Chapter 14. Boost.PropertyTree">
<link rel="prev" href="parsers.html" title="How to Populate a Property Tree &#22914;&#20309;&#22635;&#20805;&#23646;&#24615;&#26641;">
<link rel="next" href="../property_tree/appendices_______.html" title="Appendices &#38468;&#24405;">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../boost.png"></td>
<td align="center"><a href="../../../index.html">Home</a></td>
<td align="center"><a href="../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="parsers.html"><img src="../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../property_tree.html"><img src="../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="../property_tree/appendices_______.html"><img src="../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="boost_propertytree.accessing"></a><a class="link" href="accessing.html" title="How to Access Data in a Property Tree &#22914;&#20309;&#35775;&#38382;&#23646;&#24615;&#26641;&#20013;&#30340;&#25968;&#25454;"> How to Access Data in a
    Property Tree &#22914;&#20309;&#35775;&#38382;&#23646;&#24615;&#26641;&#20013;&#30340;&#25968;&#25454;</a>
</h2></div></div></div>
<p>
      Property tree resembles (almost is) a standard container with value type of
      <code class="computeroutput"><span class="identifier">pair</span><span class="special">&lt;</span><span class="identifier">string</span><span class="special">,</span> <span class="identifier">ptree</span><span class="special">&gt;</span></code>.
      It has the usual member functions, such as <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5270779-bb">insert</a></code>,
      <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4865168-bb">push_back</a></code>,
      <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5212679-bb">find</a></code>,
      <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5270848-bb">erase</a></code>,
      etc. These can of course be used to populate and access the tree. For example
      the following code adds key <code class="computeroutput"><span class="string">"pi"</span></code>
      with data (almost) equal to mathematical <span class="emphasis"><em>pi</em></span> value:
    </p>
<p>
      &#23646;&#24615;&#26641;&#31867;&#20284;&#20110;(&#20960;&#20046;&#23601;&#26159;)&#19968;&#20010;&#20540;&#31867;&#22411;&#20026; <code class="computeroutput"><span class="identifier">pair</span><span class="special">&lt;</span><span class="identifier">string</span><span class="special">,</span> <span class="identifier">ptree</span><span class="special">&gt;</span></code>
      &#30340;&#26631;&#20934;&#23481;&#22120;&#12290;&#23427;&#20855;&#26377;&#36890;&#24120;&#30340;&#25104;&#21592;&#20989;&#25968;&#65292; &#22914; <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5270779-bb">insert</a></code>,
      <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4865168-bb">push_back</a></code>,
      <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5212679-bb">find</a></code>,
      <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5270848-bb">erase</a></code>,
      &#31561;&#31561;&#12290; &#36825;&#20123;&#20989;&#25968;&#24403;&#28982;&#37117;&#21487;&#20197;&#29992;&#20110;&#22635;&#20805;&#21644;&#35775;&#38382;&#26641;&#20013;&#30340;&#25968;&#25454;&#12290;&#20363;&#22914;&#20197;&#19979;&#20195;&#30721;&#22686;&#21152;&#19968;&#20010;&#38190;&#20540;
      <code class="computeroutput"><span class="string">"pi"</span></code>&#65292; &#25152;&#24102;&#30340;&#25968;&#25454;(&#20960;&#20046;)&#31561;&#20110;&#25968;&#23398;&#30340;
      <span class="emphasis"><em>pi</em></span> &#20540;&#65306;
    </p>
<pre class="programlisting"><code class="computeroutput"><a class="link" href="../boost/property_tree/ptree.html" title="Type definition ptree">ptree</a></code> <span class="identifier">pt</span><span class="special">;</span>
<span class="identifier">pt</span><span class="special">.</span><code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4865168-bb">push_back</a></code><span class="special">(</span><code class="computeroutput"><a class="link" href="../boost/property_tree/ptree.html" title="Type definition ptree">ptree</a></code><span class="special">::</span><code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#boost.property_tree.basic_ptree.value_type">value_type</a></code><span class="special">(</span><span class="string">"pi"</span><span class="special">,</span> <code class="computeroutput"><a class="link" href="../boost/property_tree/ptree.html" title="Type definition ptree">ptree</a></code><span class="special">(</span><span class="string">"3.14159"</span><span class="special">)));</span>
</pre>
<p>
      To find the value of <code class="computeroutput"><span class="identifier">pi</span></code> we
      might do the following:
    </p>
<p>
      &#35201;&#26597;&#25214; <code class="computeroutput"><span class="identifier">pi</span></code> &#30340;&#20540;&#65292;&#25105;&#20204;&#21487;&#20197;&#36825;&#26679;&#20570;&#65306;
    </p>
<pre class="programlisting"><code class="computeroutput"><a class="link" href="../boost/property_tree/ptree.html" title="Type definition ptree">ptree</a></code><span class="special">::</span><code class="computeroutput">const_iterator</code> <span class="identifier">it</span> <span class="special">=</span> <span class="identifier">pt</span><span class="special">.</span><code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5212679-bb">find</a></code><span class="special">(</span><span class="string">"pi"</span><span class="special">);</span>
<span class="keyword">double</span> <span class="identifier">pi</span> <span class="special">=</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">lexical_cast</span><span class="special">&lt;</span><span class="keyword">double</span><span class="special">&gt;(</span><span class="identifier">it</span><span class="special">-&gt;</span><span class="identifier">second</span><span class="special">.</span><span class="identifier">_ptree_data__</span><span class="special">());</span>
</pre>
<p>
      This looks quite cumbersome, and would be even more so if <code class="computeroutput"><span class="identifier">pi</span></code>
      value was not stored so near the top of the tree, and we cared just a little
      bit more about errors. Fortunately, there is another, correct way of doing
      it:
    </p>
<p>
      &#36825;&#30475;&#36215;&#26469;&#38750;&#24120;&#31528;&#37325;&#65292;&#32780;&#19988;&#22914;&#26524; <code class="computeroutput"><span class="identifier">pi</span></code>
      &#20540;&#19981;&#26159;&#34987;&#23384;&#20648;&#22312;&#38752;&#36817;&#26641;&#30340;&#39030;&#31471;&#20301;&#32622;&#21017;&#26356;&#26159;&#22914;&#27492;&#65292; &#32780;&#25105;&#20204;&#20851;&#24515;&#30340;&#21482;&#27604;&#38169;&#35823;&#22810;&#19968;&#28857;&#12290;&#24184;&#22909;&#65292;&#25105;&#20204;&#26377;&#21478;&#19968;&#20010;&#27491;&#30830;&#30340;&#26041;&#27861;&#26469;&#20570;&#36825;&#20214;&#20107;&#65306;
    </p>
<pre class="programlisting"><span class="identifier">ptree</span> <span class="identifier">pt</span><span class="special">;</span>
<span class="identifier">pt</span><span class="special">.</span><code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code><span class="special">(</span><span class="string">"pi"</span><span class="special">,</span> <span class="number">3.14159</span><span class="special">);</span>                <span class="comment">// put double
</span><span class="keyword">double</span> <span class="identifier">pi</span> <span class="special">=</span> <span class="identifier">pt</span><span class="special">.</span><code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code><span class="special">&lt;</span><span class="keyword">double</span><span class="special">&gt;(</span><span class="string">"pi"</span><span class="special">);</span>     <span class="comment">// get double
</span></pre>
<p>
      It doesn't get simpler than that. Basically, there are 2 families of member
      functions, <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code>
      and <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code>,
      which allow intuitive access to data stored in the tree (direct children or
      not).
    </p>
<p>
      &#27809;&#26377;&#20160;&#20040;&#27604;&#36825;&#26356;&#31616;&#21333;&#20102;&#12290;&#22522;&#26412;&#19978;&#65292;&#25105;&#20204;&#26377;2&#20010;&#25104;&#21592;&#20989;&#25968;&#26063;&#65292;<code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code> &#21644; <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code>, &#23427;&#20204;&#21487;&#20197;&#30452;&#35266;&#22320;&#35775;&#38382;&#26641;&#20013;&#30340;&#25968;&#25454;(&#30452;&#25509;&#25110;&#38750;&#30452;&#25509;&#30340;&#23376;&#33410;&#28857;)&#12290;
    </p>
<a name="boost_propertytree.accessing.three_ways_of_getting_data____________________________"></a><h4>
<a name="id5742240"></a>
      <a class="link" href="accessing.html#boost_propertytree.accessing.three_ways_of_getting_data____________________________">Three
      Ways of Getting Data &#33719;&#21462;&#25968;&#25454;&#30340;&#19977;&#31181;&#26041;&#27861;</a>
    </h4>
<p>
      There are three versions of get: get, get (default-value version), and get_optional,
      which differ by failure handling strategy. All versions take path specifier,
      which determines in which key to search for a value. It can be a single key,
      or a path to key, where path elements are separated with a special character
      (a '.' if not specified differently). For example debug.logging.errorlevel
      might be a valid path with dot as a separator.
    </p>
<p>
      &#26377;&#19977;&#20010;&#29256;&#26412;&#30340; get: get, get (&#32570;&#30465;&#20540;&#29256;&#26412;), &#20197;&#21450; get_optional, &#23427;&#30340;&#22833;&#36133;&#22788;&#29702;&#31574;&#30053;&#26377;&#25152;&#19981;&#21516;&#12290;
      &#25152;&#26377;&#29256;&#26412;&#22343;&#25509;&#21463;&#36335;&#24452;&#25351;&#23450;&#31526;&#65292;&#29992;&#20110;&#30830;&#23450;&#22312;&#21738;&#20010;&#38190;&#20013;&#26597;&#25214;&#20540;&#12290;&#23427;&#21487;&#20197;&#26159;&#21333;&#20010;&#38190;&#20540;&#65292;&#25110;&#26159;&#21040;&#38190;&#20540;&#30340;&#36335;&#24452;&#65292;
      &#36335;&#24452;&#20013;&#30340;&#21508;&#20803;&#32032;&#29992;&#19968;&#20010;&#29305;&#23450;&#23383;&#31526;(&#33509;&#26410;&#29305;&#21035;&#25351;&#23450;&#23601;&#26159;'.')&#20998;&#38548;&#12290;&#20363;&#22914;
      debug.logging.errorlevel &#23601;&#21487;&#33021;&#26159;&#19968;&#20010;&#20197;&#28857;&#21495;&#20316;&#20026;&#20998;&#38548;&#31526;&#30340;&#26377;&#25928;&#36335;&#24452;&#12290;
    </p>
<div class="orderedlist"><ol type="1">
<li>
        The throwing version (<code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code>)
        &#25243;&#20986;&#29256;&#26412;&#30340;(<code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code>):
        
<pre class="programlisting"><code class="computeroutput"><a class="link" href="../boost/property_tree/ptree.html" title="Type definition ptree">ptree</a></code> <span class="identifier">pt</span><span class="special">;</span>
<span class="comment">/* ... */</span>
<span class="keyword">float</span> <span class="identifier">v</span> <span class="special">=</span> <span class="identifier">pt</span><span class="special">.</span><code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code><span class="special">&lt;</span><span class="keyword">float</span><span class="special">&gt;(</span><span class="string">"a.path.to.float.value"</span><span class="special">);</span>
</pre>
        This call locates the proper node in the tree and tries to translate its
        data string to a float value. If that fails, exception is thrown. If path
        does not exist, it will be <code class="computeroutput"><a class="link" href="../boost/property_tree/ptree_bad_path.html" title="Class ptree_bad_path">ptree_bad_path</a></code>
        exception. If value could not be translated, it will be <code class="computeroutput"><a class="link" href="../boost/property_tree/ptree_bad_data.html" title="Class ptree_bad_data">ptree_bad_data</a></code>.
        Both of them derive from <code class="computeroutput"><a class="link" href="../boost/property_tree/ptree_error.html" title="Class ptree_error">ptree_error</a></code>
        to make common handling possible.<br> &#36825;&#20010;&#35843;&#29992;&#23450;&#20301;&#33267;&#26641;&#20013;&#30340;&#27491;&#30830;&#33410;&#28857;&#65292;&#24182;&#23581;&#35797;&#23558;&#20854;&#25968;&#25454;&#23383;&#31526;&#20018;&#32763;&#35793;&#20026;&#28014;&#28857;&#20540;&#12290;&#22914;&#26524;&#22833;&#36133;&#21017;&#25243;&#20986;&#24322;&#24120;&#12290;
        &#22914;&#26524;&#36335;&#24452;&#19981;&#23384;&#22312;&#65292;&#21017;&#26159; <code class="computeroutput"><a class="link" href="../boost/property_tree/ptree_bad_path.html" title="Class ptree_bad_path">ptree_bad_path</a></code>
        &#24322;&#24120;&#12290;&#22914;&#26524;&#20540;&#19981;&#33021;&#34987;&#32763;&#35793;&#65292;&#21017;&#26159; <code class="computeroutput"><a class="link" href="../boost/property_tree/ptree_bad_data.html" title="Class ptree_bad_data">ptree_bad_data</a></code>
        &#24322;&#24120;&#12290; &#36825;&#20004;&#20010;&#24322;&#24120;&#22343;&#27966;&#29983;&#33258; <code class="computeroutput"><a class="link" href="../boost/property_tree/ptree_error.html" title="Class ptree_error">ptree_error</a></code>&#65292;&#21487;&#20197;&#19968;&#21516;&#22788;&#29702;&#12290;
      </li>
<li>
        The default-value version (<code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code>)
        &#32570;&#30465;&#20540;&#29256;&#26412;&#30340;(<code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code>):
        
<pre class="programlisting"><code class="computeroutput"><a class="link" href="../boost/property_tree/ptree.html" title="Type definition ptree">ptree</a></code> <span class="identifier">pt</span><span class="special">;</span>
<span class="comment">/* ... */</span>
<span class="keyword">float</span> <span class="identifier">v</span> <span class="special">=</span> <span class="identifier">pt</span><span class="special">.</span><code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code><span class="special">(</span><span class="string">"a.path.to.float.value"</span><span class="special">,</span> <span class="special">-</span><span class="number">1.f</span><span class="special">);</span>
</pre>
        It will do the same as above, but if it fails, it will return the default
        value specified by second parameter (here -1.f) instead of throwing. This
        is very useful in common situations where one wants to allow omitting of
        some keys. Note that type specification needed in throwing version is normally
        not necessary here, because type is determined by the default value parameter.<br>
        &#20854;&#20316;&#29992;&#19982;&#19978;&#19968;&#20010;&#29256;&#26412;&#30456;&#21516;&#65292;&#19981;&#36807;&#22914;&#26524;&#25805;&#20316;&#22833;&#36133;&#23558;&#36820;&#22238;&#30001;&#31532;&#20108;&#20010;&#21442;&#25968;&#25152;&#25351;&#23450;&#30340;&#32570;&#30465;&#20540;(&#22312;&#36825;&#37324;&#26159;-1.f)&#65292;
        &#32780;&#38750;&#25243;&#20986;&#24322;&#24120;&#12290;&#22312;&#37027;&#20123;&#20801;&#35768;&#24573;&#30053;&#26576;&#20123;&#38190;&#30340;&#19968;&#33324;&#24773;&#20917;&#19979;&#65292;&#36825;&#20010;&#29256;&#26412;&#38750;&#24120;&#26377;&#29992;&#12290;
        &#27880;&#24847;&#65292;&#22312;&#25243;&#20986;&#29256;&#26412;&#20013;&#24517;&#39035;&#25351;&#23450;&#31867;&#22411;&#32780;&#22312;&#27492;&#29256;&#26412;&#20013;&#21017;&#19981;&#24517;&#65292;&#22240;&#20026;&#31867;&#22411;&#21487;&#20197;&#36890;&#36807;&#32570;&#30465;&#20540;&#21442;&#25968;&#26469;&#25512;&#26029;&#12290;
      </li>
<li>
        The optional version (<code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4897930-bb">get_optional</a></code>)
        &#21487;&#36873;&#29256;&#26412;&#30340;(<code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4897930-bb">get_optional</a></code>):
        
<pre class="programlisting"><code class="computeroutput"><a class="link" href="../boost/property_tree/ptree.html" title="Type definition ptree">ptree</a></code> <span class="identifier">pt</span><span class="special">;</span>
<span class="comment">/* ... */</span>
<span class="identifier">boost</span><span class="special">::</span><span class="identifier">optional</span><span class="special">&lt;</span><span class="keyword">float</span><span class="special">&gt;</span> <span class="identifier">v</span> <span class="special">=</span> <span class="identifier">pt</span><span class="special">.</span><code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4897930-bb">get_optional</a></code><span class="special">&lt;</span><span class="keyword">float</span><span class="special">&gt;(</span><span class="string">"a.path.to.float.value"</span><span class="special">);</span>
</pre>
        This version uses boost::optional class to handle extraction failure. On
        successful extraction, it will return boost::optional initialized with extracted
        value. Otherwise, it will return uninitialized boost::optional.<br> &#36825;&#20010;&#29256;&#26412;&#20351;&#29992;
        boost::optional &#31867;&#26469;&#22788;&#29702;&#33719;&#21462;&#25968;&#25454;&#30340;&#22833;&#36133;&#12290;&#24403;&#25104;&#21151;&#33719;&#21462;&#26102;&#65292;
        &#23427;&#23558;&#36820;&#22238;&#30001;&#33719;&#24471;&#20540;&#21021;&#22987;&#21270;&#30340; boost::optional&#12290;&#21542;&#21017;&#65292;&#23427;&#23558;&#36820;&#22238;&#26410;&#21021;&#22987;&#21270;&#30340;
        boost::optional&#12290;
      </li>
</ol></div>
<p>
      To retrieve value from this tree (not some subkey), use <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4900427-bb">get_value</a></code>,
      <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4900427-bb">get_value</a></code>
      (default-value version), and <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4626709-bb">get_value_optional</a></code>.
      They have identical semantics to <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code>
      functions, except they don't take the <code class="computeroutput"><a class="link" href="../boost/property_tree/path.html" title="Type definition path">path</a></code>
      parameter. Don't call <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code>
      with and empty <code class="computeroutput"><a class="link" href="../boost/property_tree/path.html" title="Type definition path">path</a></code>
      to do this as it will try to extract contents of subkey with empty name.
    </p>
<p>
      &#35201;&#20174;&#26641;&#20013;(&#19981;&#26159;&#26576;&#20010;&#23376;&#38190;)&#33719;&#21462;&#20540;&#65292;&#35831;&#29992; <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4900427-bb">get_value</a></code>,
      <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4900427-bb">get_value</a></code>
      (&#32570;&#30465;&#20540;&#29256;&#26412;)&#65292; &#21644; <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4626709-bb">get_value_optional</a></code>&#12290;&#23427;&#20204;&#20855;&#26377;&#19982;
      <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code> &#20989;&#25968;&#30456;&#21516;&#30340;&#35821;&#20041;&#65292;&#38500;&#20102;&#19968;&#28857;&#65292;
      &#23427;&#20204;&#19981;&#25509;&#21463; <code class="computeroutput"><a class="link" href="../boost/property_tree/path.html" title="Type definition path">path</a></code>
      &#21442;&#25968;&#12290;&#19981;&#35201;&#29992;&#31354;&#30340; <code class="computeroutput"><a class="link" href="../boost/property_tree/path.html" title="Type definition path">path</a></code>
      &#26469;&#35843;&#29992; <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code>&#65292;&#36825;&#26679;&#20570;&#23558;&#20250;&#21462;&#20986;&#24102;&#26377;&#31354;&#21517;&#30340;&#23376;&#38190;&#30340;&#20869;&#23481;&#12290;
    </p>
<p>
      To use separator character other than default '<code class="literal">.</code>', each
      of the <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code>
      versions has another form, which takes an additional parameter in front of
      path. This parameter of type <code class="computeroutput"><span class="keyword">char</span><span class="special">/</span><span class="keyword">wchar_t</span></code> specifies
      the separating character. This is a lifesaving device for those who may have
      dots in their keys:
    </p>
<p>
      &#35201;&#20351;&#29992;&#32570;&#30465;&#20998;&#38548;&#31526; '<code class="literal">.</code>' &#20197;&#22806;&#30340;&#20854;&#23427;&#20998;&#38548;&#31526;&#65292;&#21017;&#27599;&#20010;
      <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code> &#29256;&#26412;&#37117;&#26377;&#19968;&#20010;&#20854;&#23427;&#30340;&#26684;&#24335;&#65292;
      &#23427;&#22312;&#36335;&#24452;&#20043;&#21069;&#25509;&#21463;&#22810;&#19968;&#20010;&#21442;&#25968;&#12290;&#35813;&#21442;&#25968;&#30340;&#31867;&#22411;&#20026; <code class="computeroutput"><span class="keyword">char</span><span class="special">/</span><span class="keyword">wchar_t</span></code>&#65292;&#32473;&#23450;&#29992;&#20110;&#20998;&#38548;&#30340;&#23383;&#31526;&#12290;
      &#20197;&#19979;&#36866;&#29992;&#20110;&#37027;&#20123;&#22312;&#38190;&#21517;&#20013;&#24102;&#26377;&#28857;&#21495;&#30340;&#24773;&#20917;&#65306;
    </p>
<pre class="programlisting"><span class="identifier">pt</span><span class="special">.</span><span class="identifier">get</span><span class="special">&lt;</span><span class="keyword">float</span><span class="special">&gt;(</span><span class="char">'/'</span><span class="special">,</span> <span class="string">"p.a.t.h/t.o/v.a.l.u.e"</span><span class="special">);</span>
<span class="identifier">pt</span><span class="special">.</span><span class="identifier">get</span><span class="special">(</span><span class="char">'/'</span><span class="special">,</span> <span class="string">"p.a.t.h/t.o/v.a.l.u.e"</span><span class="special">,</span> <span class="number">0</span><span class="special">,</span> <span class="identifier">NULL</span><span class="special">);</span>
<span class="identifier">pt</span><span class="special">.</span><span class="identifier">get_optional</span><span class="special">&lt;</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">&gt;(</span><span class="char">'/'</span><span class="special">,</span> <span class="string">"p.a.t.h/t.o/v.a.l.u.e"</span><span class="special">);</span>
</pre>
<a name="boost_propertytree.accessing.one_way_of_putting_data____________________________"></a><h4>
<a name="id5743219"></a>
      <a class="link" href="accessing.html#boost_propertytree.accessing.one_way_of_putting_data____________________________">One
      Way of Putting Data &#20889;&#20837;&#25968;&#25454;&#30340;&#19968;&#31181;&#26041;&#27861;</a>
    </h4>
<p>
      To complement <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code>,
      there is a <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code>
      function. Contrary to <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code>,
      it has only one variant. The reason is, there is no need to handle put failures
      so often (normally, <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code>
      will only fail if conversion of the supplied value to <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#boost.property_tree.basic_ptree.data_type">data_type</a></code>
      fails or the system runs out of memory. In the former case, <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code>
      will throw <code class="computeroutput"><a class="link" href="../boost/property_tree/ptree_bad_data.html" title="Class ptree_bad_data">ptree_bad_data</a></code>).
      Sample usage of <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code>
      might appear as:
    </p>
<p>
      &#30456;&#23545;&#20110; <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code>&#65292;&#26377;&#19968;&#20010;
      <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code> &#20989;&#25968;&#12290;&#19982;
      <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code> &#30456;&#27604;&#65292;&#23427;&#21482;&#26377;&#19968;&#20010;&#29256;&#26412;&#12290;
      &#21407;&#22240;&#26159;&#65292;&#36890;&#24120;&#27809;&#26377;&#24517;&#35201;&#22788;&#29702;&#20889;&#20837;&#30340;&#22833;&#36133;(&#36890;&#24120;&#65292;<code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code>
      &#20165;&#24403;&#20174;&#32473;&#23450;&#20540;&#21040; <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#boost.property_tree.basic_ptree.data_type">data_type</a></code>
      &#30340;&#36716;&#25442;&#22833;&#36133;&#65292;&#25110;&#31995;&#32479;&#20869;&#23384;&#28322;&#20986;&#26102;&#25165;&#20250;&#22833;&#36133;&#12290;&#23545;&#20110;&#21069;&#19968;&#31181;&#24773;&#20917;&#65292;<code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code> &#23558;&#25243;&#20986; <code class="computeroutput"><a class="link" href="../boost/property_tree/ptree_bad_data.html" title="Class ptree_bad_data">ptree_bad_data</a></code>)&#12290; &#20197;&#19979;&#20026;
      <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code> &#30340;&#20351;&#29992;&#20363;&#23376;&#65306;
    </p>
<pre class="programlisting"><code class="computeroutput"><a class="link" href="../boost/property_tree/ptree.html" title="Type definition ptree">ptree</a></code> <span class="identifier">pt</span><span class="special">;</span>
<span class="identifier">pt</span><span class="special">.</span><code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code><span class="special">(</span><span class="string">"a.path.to.float.value"</span><span class="special">,</span> <span class="number">3.14f</span><span class="special">);</span>
</pre>
<p>
      Calling <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code>
      will insert a new value at specified path, so that a call to <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code>
      specifying the same path will retrieve it. Further, <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code>
      will insert any missing path elements during path traversal. For example, calling
      <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a><span class="special">(</span><span class="string">"key1.key2.key3"</span><span class="special">,</span> <span class="number">3.14f</span><span class="special">)</span></code>
      on an empty tree will insert three new children: <code class="computeroutput"><span class="identifier">key1</span></code>,
      <code class="computeroutput"><span class="identifier">key1</span><span class="special">.</span><span class="identifier">key2</span></code> and <code class="computeroutput"><span class="identifier">key1</span><span class="special">.</span><span class="identifier">key2</span><span class="special">.</span><span class="identifier">key3</span></code>. The last one will receive a string
      <code class="computeroutput"><span class="string">"3.14"</span></code> as data, while
      the two former ones will have empty data strings. <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code>
      always inserts new keys at the back of the existing sequences.
    </p>
<p>
      &#35843;&#29992; <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code>
      &#23558;&#22312;&#25351;&#23450;&#36335;&#24452;&#25554;&#20837;&#19968;&#20010;&#26032;&#20540;&#65292;&#27492;&#21518;&#23545;&#21516;&#19968;&#36335;&#24452;&#35843;&#29992; <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4952447-bb">get</a></code> &#23558;&#21462;&#22238;&#35813;&#20540;&#12290;
      &#32780;&#19988;&#65292;<code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code>
      &#20250;&#22312;&#36335;&#24452;&#36941;&#21382;&#26399;&#38388;&#25554;&#20837;&#25152;&#26377;&#19981;&#23384;&#22312;&#30340;&#36335;&#24452;&#12290;&#20363;&#22914;&#65292;&#23545;&#19968;&#26869;&#31354;&#26641;&#35843;&#29992;
      <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a><span class="special">(</span><span class="string">"key1.key2.key3"</span><span class="special">,</span> <span class="number">3.14f</span><span class="special">)</span></code>
      &#23558;&#25554;&#20837;&#19977;&#20010;&#26032;&#30340;&#23376;&#33410;&#28857;&#65306;<code class="computeroutput"><span class="identifier">key1</span></code>,
      <code class="computeroutput"><span class="identifier">key1</span><span class="special">.</span><span class="identifier">key2</span></code> &#21644; <code class="computeroutput"><span class="identifier">key1</span><span class="special">.</span><span class="identifier">key2</span><span class="special">.</span><span class="identifier">key3</span></code>&#12290;&#26368;&#21518;&#19968;&#20010;&#23376;&#33410;&#28857;&#23558;&#25509;&#25910;&#19968;&#20010;&#23383;&#31526;&#20018;
      <code class="computeroutput"><span class="string">"3.14"</span></code> &#20316;&#20026;&#25968;&#25454;&#65292;&#32780;&#21069;&#20004;&#20010;&#21017;&#20026;&#31354;&#25968;&#25454;&#20018;&#12290;
      <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code> &#24635;&#26159;&#23558;&#26032;&#30340;&#38190;&#25554;&#20837;&#21040;&#24050;&#26377;&#24207;&#21015;&#30340;&#26411;&#31471;&#12290;
    </p>
<p>
      Similar to <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4900427-bb">get_value</a></code>,
      there is also a <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4626767-bb">put_value</a></code>
      function. It does the same for this property tree what <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code>
      does for its children. Thus, it does not require <code class="computeroutput"><a class="link" href="../boost/property_tree/path.html" title="Type definition path">path</a></code>:
    </p>
<p>
      &#31867;&#20284;&#20110; <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4900427-bb">get_value</a></code>&#65292;&#20063;&#26377;&#19968;&#20010;
      <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id4626767-bb">put_value</a></code>
      &#20989;&#25968;&#12290; &#23427;&#23545;&#20110;&#23646;&#24615;&#26641;&#30340;&#20316;&#29992;&#19982; <code class="computeroutput"><a class="link" href="../boost/property_tree/basic_ptree.html#id5224647-bb">put</a></code>
      &#23545;&#20110;&#23376;&#33410;&#28857;&#30340;&#20316;&#29992;&#19968;&#26679;&#12290;&#22240;&#27492;&#65292;&#23427;&#19981;&#38656;&#35201; <code class="computeroutput"><a class="link" href="../boost/property_tree/path.html" title="Type definition path">path</a></code>&#65306;
    </p>
<pre class="programlisting"><code class="computeroutput"><a class="link" href="../boost/property_tree/ptree.html" title="Type definition ptree">ptree</a></code> <span class="identifier">pt</span><span class="special">;</span>
<span class="identifier">pt</span><span class="special">.</span><span class="identifier">__ptree_put_own__</span><span class="special">(</span><span class="number">3.14f</span><span class="special">);</span>
</pre>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright © 2008 Marcin Kalicinski<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="parsers.html"><img src="../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../property_tree.html"><img src="../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="../property_tree/appendices_______.html"><img src="../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>

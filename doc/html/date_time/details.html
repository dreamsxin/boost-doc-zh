<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <title>Details</title><link rel="stylesheet" href="../boostbook.css" type="text/css">















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <meta name="generator" content="DocBook XSL Stylesheets V1.68.1">















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <link rel="start" href="../index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <link rel="up" href="../date_time.html" title="Chapter&nbsp;4.&nbsp;Boost.Date_Time">















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <link rel="prev" href="serialization.html" title="Serialization">















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <link rel="next" href="examples.html" title="Examples"></head>

<body alink="#0000ff" bgcolor="white" link="#0000ff" text="black" vlink="#840084">















<table cellpadding="2" width="100%">















  <tbody>














    <tr>














      <td valign="top"><img alt="Boost C++ Libraries" src="../../../boost.png" height="86" width="277"></td>















      <td align="center"><a href="../../../index.htm">Home</a></td>















      <td align="center"><a href="../../../libs/libraries.htm">Libraries</a></td>















      <td align="center"><a href="../../../people/people.htm">People</a></td>















      <td align="center"><a href="../../../more/faq.htm">FAQ</a></td>















      <td align="center"><a href="../../../more/index.htm">More</a></td>















    </tr>














  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>















<hr>
<div class="spirit-nav">
<a accesskey="p" href="serialization.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../date_time.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="examples.html"><img src="../images/next.png" alt="Next"></a>
</div>















<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both;">
<a name="date_time.details"></a>具体细节</h2>














</div>














</div>














</div>















<div class="toc">
<dl>















  <dt><span class="section"><a href="details.html#date_time.calculations">运算</a></span></dt>















  <dt><span class="section"><a href="details.html#date_time.design_goals">设计目标</a></span></dt>















  <dt><span class="section"><a href="details.html#date_time.tradeoffs">折衷：稳定性、可预言性和近似值</a></span></dt>















  <dt><span class="section"><a href="details.html#date_time.terminology">术语</a></span></dt>















  <dt><span class="section"><a href="details.html#date_time.references">参考</a></span></dt>















  <dt><span class="section"><a href="details.html#date_time.buildinfo">构建与编译器信息</a></span></dt>















  <dt><span class="section"><a href="details.html#date_time.tests">测试</a></span></dt>















  <dt><span class="section"><a href="details.html#date_time.changes">变更历史</a></span></dt>















  <dt><span class="section"><a href="details.html#date_time.acknowledgements">鸣谢</a></span></dt>















</dl>














</div>















<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="date_time.calculations"></a>运算</h3>














</div>














</div>














</div>















<p>
    <a href="details.html#timepoints">时间点</a> -- 
    <a href="details.html#durations">时长</a> -- 
    <a href="details.html#intervals">时间间隔(时间段)</a> -- 
    <a href="details.html#special_value_handling">特殊值的处理</a>
  </p>















<a name="timepoints"></a>
<h3>
<a name="id1006586"></a>时间点</h3>















<p>本节描述一些用于时间点的基本算术规则。通常，时间点支持以下与时长的基本算术操作：
    </p>















<pre class="programlisting">      时间点 + 时长  --&gt; 时间点<br>      时间点 - 时长  --&gt; 时间点<br>      时间点 - 时间点 --&gt; 时长<br>    </pre>















<p>
    和普通的算术类型不同，以下操作是未定义的：
    </p>















<pre class="programlisting">      时长 + 时间点  --&gt; 未定义<br>      时长 - 时间点  --&gt; 未定义<br>      时间点 + 时间点 --&gt; 未定义<br>    </pre>















<p>
  </p>















<a name="durations"></a>
<h3>
<a name="id1006624"></a>时长</h3>















<p>时长表示一段时间的长度，它的值可正可负。它通常会与另一个时长或者简单的整数值进行运算。以下描述了这些运算：
    </p>















<pre class="programlisting">      时长 + 时长  --&gt; 时长<br>      时长 - 时长  --&gt; 时长<br>      <br>      时长 * 整数   --&gt; 时长<br>      整数  * 时长  --&gt; 时长<br>      时长 / 整数   --&gt; 时长  (整数除法规则)<br>    </pre>















<p>
  </p>















<a name="intervals"></a>
<h3>
<a name="id1006642"></a>时间间隔 (时间段)</h3>















<p>时间间隔对于简化日期和时间的很多'运算'是非常有用的。下面描述了基于半开区间的时间段所提供的操作。以下操作基于两个输入时间段计算得到新的时间段： </p>















<pre class="programlisting">时间段与时间段的交集运算 --&gt; 时间段 <br>  (如果不相交则为空时间段)<br>时间段与时间段的合并运算 --&gt; 时间段 <br>  (如果不相交则为空时间段)<br>时间段位移一定时长      --&gt; 时间段 <br>  (将开始时间点和结束时间点位移一定时长)<br>    </pre>















<p>另外，时间段支持多种查询操作，返回布尔类型的结果。第一组操作是与另一个时间段进行运算： </p>















<pre class="programlisting">  时间段 == 时间段      --&gt; bool<br>  时间段 &lt; 时间段       --&gt; bool (true 如果 lhs.last &lt;= rhs.begin)<br>  时间段 与 时间段 相交  --&gt; bool<br>  时间段 包含 时间段     --&gt; bool<br>  时间段 与 时间段 相邻  --&gt; bool <br>    </pre>















<p>以下是与时间点之间的运算：
    </p>















<pre class="programlisting">  时间段 包含 时间点     --&gt; bool<br>  时间段 早于 时间点     --&gt; bool<br>  时间段 晚于 时间点     --&gt; bool <br>    </pre>















<p>
  </p>















<a name="special_value_handling"></a>
<h3>
<a name="id1006706"></a>特殊值的处理</h3>















<p>让时长和时间点类型支持象无效日期时间(NADT)和无限时长这样的特殊值，对于很多时间运算的问题来说是很有用的。通常，象无效日期时间(NADT)和无限时长这样的特殊值同样遵循浮点数的规则。注意，你可以将系统配置为以抛出异常来替代 NADT 的结果。 </p>















<pre class="programlisting">  时间点(NADT) + 时长 --&gt; 时间点(NADT)<br>  时间点(∞) + 时长    --&gt; 时间点(∞)<br>  时间点 + 时长(∞)    --&gt; 时间点(∞)<br>  时间点 - 时长(∞)    --&gt; 时间点(-∞)<br>    </pre>















<p>同时对正无限和负无限进行运算时，本库将产生以下结果： </p>















<pre class="programlisting">  时间点(+∞) + 时长(-∞) --&gt; NADT<br>  时长(+∞) + 时长(-∞)   --&gt; NADT<br>  时长(±∞) * 零时长     --&gt; NADT<br>  <br>  时长(∞) * 整数(非零)  --&gt; 时长(∞)<br>  时长(+∞) * -整数     --&gt; 时长(-∞)<br>  时长(∞) / 整数       --&gt; 时长(∞)<br>    </pre>















<p>
  </p>















</div>















<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="date_time.design_goals"></a>设计目标</h3>














</div>














</div>














</div>















<div class="informaltable">
<table class="table">















  <colgroup><col><col></colgroup>
  <thead>
  <tr>















    <th rowspan="2" valign="top">分类</th>















    <th>说明</th>















  </tr>















  <tr>














    <th>功能</th>














  </tr>















  </thead>
  <tbody>















    <tr>















      <td rowspan="2" valign="top">接口</td>















      <td>提供对日期和时间进行操作的具体类</td>















    </tr>















    <tr>














      <td> 
	    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <div class="itemizedlist">
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <ul type="bullet">















        <li style="list-style-type: disc;">date, time, date_duration, time_duration, date_period, time_period, 等等</li>















        <li style="list-style-type: disc;">支持无限 - 正无限、负无限</li>















        <li style="list-style-type: disc;">时间和日期区间上的迭代器</li>















        <li style="list-style-type: disc;">允许日期和时间的实现尽可能分离</li>















      
      
      
      
      
      
      
      
      
      
      
      
      
      
      </ul>














      </div>















	  </td>














    </tr>















    <tr>















      <td rowspan="2" valign="top">运算</td>















      <td>提供高效执行时间运算的基础 </td>















    </tr>















    <tr>














      <td> 
	    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <div class="itemizedlist">
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <ul type="bullet">















        <li style="list-style-type: disc;">日期之间的天数 </li>















        <li style="list-style-type: disc;">时间长度 </li>















        <li style="list-style-type: disc;">日期和时间一起的长度 </li>















      
      
      
      
      
      
      
      
      
      
      
      
      
      
      </ul>














      </div>















	  </td>














    </tr>















    <tr>















      <td rowspan="2" valign="top">表示的灵活性</td>















      <td>提供最大的可重用性和灵活性</td>















    </tr>















    <tr>














      <td>
	    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <div class="itemizedlist">
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <ul type="bullet">















        <li style="list-style-type: disc;">基于 traits 的内容表示法定制，用于控制对象大小和精度</li>















        <li style="list-style-type: disc;">可以使用不同的纪元和精度(如：秒或微秒，从2000年开始或从1700年开始)</li>















        <li style="list-style-type: disc;">可选配置唯一的历法表示法(格里历或其它)</li>















        <li style="list-style-type: disc;">可使用儒略历天数，以及它与格里历/儒略历日期间的转换。</li>















        <li style="list-style-type: disc;">可以进行包括闰秒在内的灵活调整</li>















      
      
      
      
      
      
      
      
      
      
      
      
      
      
      </ul>














      </div>















	  </td>














    </tr>















    <tr>















      <td rowspan="2" valign="top">日期运算</td>















      <td>提供日期运算的工具</td>















    </tr>















    <tr>














      <td> 
	    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <div class="itemizedlist">
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <ul type="bullet">















        <li style="list-style-type: disc;">提供复杂事件如假日计算的基础</li>















        <li style="list-style-type: disc;">历法到历法间的转换</li>















        <li style="list-style-type: disc;">提供了扩展新历法系统的能力</li>















      
      
      
      
      
      
      
      
      
      
      
      
      
      
      </ul>














      </div>














 
	  </td>














    </tr>















    <tr>















      <td rowspan="2" valign="top">时间运算</td>















      <td>提供对时间进行操作的具体类</td>















    </tr>















    <tr>














      <td> 
	    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <div class="itemizedlist">
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <ul type="bullet">















        <li style="list-style-type: disc;">提供处理跨时区问题的能力</li>















        <li style="list-style-type: disc;">提供夏令时调整的能力</li>















      
      
      
      
      
      
      
      
      
      
      
      
      
      
      </ul>














      </div>














 
	  </td>














    </tr>















    <tr>















      <td rowspan="2" valign="top">时钟接口</td>















      <td>提供取出当前时间的类</td>















    </tr>















    <tr>














      <td> 
	    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <div class="itemizedlist">
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <ul type="bullet">















        <li style="list-style-type: disc;">访问网络时间源/高精度时间源 </li>















        <li style="list-style-type: disc;">将当前的日期时间设置到各个组装类中 </li>















      
      
      
      
      
      
      
      
      
      
      
      
      
      
      </ul>














      </div>














 
	  </td>














    </tr>















    <tr>















      <td rowspan="2" valign="top">I/O 接口</td>















      <td>提供时间的输入输出，包括</td>















    </tr>















    <tr>














      <td> 
	    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <div class="itemizedlist">
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <ul type="bullet">















        <li style="list-style-type: disc;">多语言支持 </li>















        <li style="list-style-type: disc;">提供符合 ISO8601 的时间 facet </li>















        <li style="list-style-type: disc;">对不同的本地行为使用 I/O facets </li>















      
      
      
      
      
      
      
      
      
      
      
      
      
      
      </ul>














      </div>














 
	  </td>














    </tr>















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>














</div>















</div>















<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="date_time.tradeoffs"></a>折衷：稳定性、可预言性和近似值</h3>














</div>














</div>














</div>















<h2>
<a name="id1007082"></a>不可避免的折衷
  </h2>















<p>本库尽最大努力提供用户可能想要的所有东西，但是还是存在一些<span style="font-style: italic;">任何</span>时间程序库都会遇到的固有的限制。尤其是，用户必须在任何应用都想得到的以下三种能力中选择两个： </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;">与 wall-clock 时间的精确吻合</li>















  <li style="list-style-type: disc;">精确的数学，如：时长计算</li>















  <li style="list-style-type: disc;">处理未来时间点的能力</li>















</ul>














</div>















<p>有的程序库可能暗中许诺提供所有三种能力，但是如果你真的对它们进行测试，就会发现同时只能有两个为真。这种限制不是任何特定程序库的设计或实现上的不足；而是由国际标准所定义的不同时间系统所造成的结果。我们来看看以下三种情形： </p>















<p>如果你想精确吻合 wall-clock 时间，你就必须使用 UTC 或本地时间。如果你通过将两个 UTC
时间相减来计算得到一个时长，并且希望结果精确到秒，那么这两个时间必须不能是很远的未来，因为闰秒会影响结果而只能确定未来大约6个月的时间。对于本地
时间，未来时长的计算应该限制在一个小时内，因为相关机构可以在未来改变 DST 规则。 </p>















<p>如果你想处理未来的 wall-clock 时间，你就不能(一般而言)精确计算时长，原因同上。 </p>















<p>如果你想精确计算未来时间，你就必须使用 TAI 或其它等价物，但是从 TAI 到 UTC 或本地时间的映射是依赖于闰秒的，所以你无法与
wall-clock 时间精确吻合。 </p>















<h2>
<a name="id1007148"></a>
   稳定性、可预言性和近似值
  </h2>















<p>以下是一些基本理论，有助于解释到底发生了什么事。记住，一个表示时间的类型，就象任何抽象数据类型(ADT)一样，是一组值加上在这些值上的操作。 </p>















<h3>
<a name="id1007161"></a>
   稳定性
  </h3>















<p>如果对应于某个给定值的位组合不会随时间而变化，就说这个类型的表示法是<span style="font-style: italic;">稳定的</span>。一个具有不稳定表示法的类型对于任何人都不会有太大用处，所以我们应该强调，任何时间类的程序库都应该只使用稳定的表示法。 </p>















<p>如果对于特定操作数进行操作所得到的结果不会随时间而变化，就说这个类型的操作是稳定的，。 </p>















<h3>
<a name="id1007184"></a>可预言性
  </h3>















<p>集合通常被分为两类：良好定义的和不良定义的。由于类型也是一种集合，所以我们将这些定义扩展用于类型。对于任意类型 T, 必须存在一个谓词 <span class="emphasis"><em>is_member( x )</em></span> 用于判定某个值 x 是否为类型 T 的成员。这个谓词必须返回 <span class="emphasis"><em>true, false,</em></span> 或 <span class="emphasis"><em>dont_know</em></span>. 
  </p>















<p>如果对于所有 x, is_member( x ) 的返回值要么是 true 要么是 false, 那么我们就说集合 T 是<span style="font-style: italic;">良好定义</span>的。 
  </p>















<p>如果对于某个 x, is_member( x ) 返回 dont_know, 则我们说集合 T 是<span style="font-style: italic;">不良定义</span>的。 
  </p>















<p>这些是在数学上常用的规则。但是，由于时间类型的特殊性质，需要改进这一观点并创建以下第三种类别： </p>















<p>对于时间类型 T, 必须存在一个谓词 <span class="emphasis"><em>is_member( x, t )</em></span>
用于判定某个值 x 是否为 T 的成员。参数 t
表示对该谓词进行求值时的时间。对于每个 x<sub>i</sub>, 必然存在一个时间 t<sub>i</sub> 和一个值 v 满足： 
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;">v = true 或 v = false, 且</li>















  <li style="list-style-type: disc;">对于所有 t &lt; t<sub>i</sub>, is_member( x<sub>i</sub>, t ) 返回 dont_know, 且</li>















  <li style="list-style-type: disc;">对于所有 t &gt;= t<sub>i</sub>, is_member( x<sub>i</sub>, t ) 返回 v.</li>















</ul>














</div>















<p>
    t<sub>i</sub> 是我们可以“找出” x<sub>i</sub> 是否为 T 的成员的时间。现在我们可以为时间类型定义第三种类别：
  </p>















<p>如果对于所有 x<sub>i</sub>, t<sub>i</sub> = 负无限，则我们说类型 T 是<span style="font-style: italic;">可预言的</span>。 
  </p>















<p>如果对于某些 x<sub>i</sub>, t<sub>i</sub> = 正无限，则我们说类型 T 是<span style="font-style: italic;">不良形式的</span>。 
  </p>















<p>否则，我们说类型 T 是<span style="font-style: italic;">不可预言的</span>(这意味着对于某些 x<sub>i</sub>, t<sub>i</sub> 是一个有限值)。 
  </p>















<p>不良形式的集合实际上没有什么用，所以我们后面将不再讨论它。坦白地说，以上定义表明了，可预言类型的所有值都是提前可知的，而不可预言类型的某些值则在某个特定时间之前是不可知的。 </p>















<h3>
<a name="id1007342"></a>操作的稳定性
  </h3>















<p>可预言类型有几个重要的特点： 
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;">它们的元素与连续整数集合之间存在一种顺序不变的映射关系，且</li>















  <li style="list-style-type: disc;">对它们的值所进行的时长操作是稳定的</li>















</ul>














</div>















<p> 
  </p>















<p> 这些特性的实际效果是，可以用简单的整数减法来实现时长的运算。可预言类型的例子有：TAI 时间点和格里历日期。 </p>















<p>不可预言类型则刚好具有相反的特点： 
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;">它们的元素与连续整数集合之间不存在顺序不变的映射关系，且</li>















  <li style="list-style-type: disc;">对它们的值所进行的时长操作是不稳定的 </li>















</ul>














</div>















<p> 
  </p>















<p>不可预言类型的例子有：UTC 时间点和本地时间时间点。
  </p>















<p>我们可以进一步说，由不可预言类型组成的区间可以是可预言的，而对于在此区间内的值进行操作也将是稳定的。例如，从1970-01-01到现在的 UTC 时间点所组成的区间就是可预言的，所以在此区间内的时长运算也是稳定的。 </p>















<h3>
<a name="id1007406"></a>近似值
  </h3>















<p>以上限制是一个要解决的问题，因为象 UTC 和本地时间这些时间类型实际上是不可预言的，因而对它们的操作有时候是不稳定的。而实际上我们经常需要执行这类操作，如计算用本地时间表示的未来两个时间点之间的长度。 </p>















<p>本库可以做到的最好情况是提供一个近似值，这一点通常都是可能的，而且对于大多数用途而言也已足够。当然文档中必须要指明什么时候得到的结果是一个
近似值(因而是不稳定的)，并说明可能的误差有多大。不可预言类型集合上的运算，在很多方面上类似于浮点数的运算，得到的结果只是精确值的一个近似。而可
预言类型集合上的运算则类似于整数运算，其结果总是精确的。 </p>















<p>在需要精确结果或不能容忍不稳定性的情形下，用户必须能够指明这一点，然后程序库会在用户请求一个运算而无法得到精确、稳定的结果时抛出异常。 </p>















</div>















<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="date_time.terminology"></a>术语</h3>














</div>














</div>














</div>















<p>以下是一些与日期时间领域相关的术语。 
  </p>















<p>时间类型的分类：
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;">时间点Timepoint -- 指定在时间连续统中的某个位置。类似于尺子上的一个数字。</li>















  <li style="list-style-type: disc;">时长Timelength -- 一段时间的跨度，不与时间连续统上某个点相关联。</li>















  <li style="list-style-type: disc;">时间间隔Timeinterval -- 一段时间的跨度，与时间连续统中某个特定点相关联。</li>















</ul>














</div>















<p>
  </p>















<p>其它术语： 
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;">准确度Accuracy -- 对误差的一种量度，时钟读数与真实时间间的差距。</li>















  <li style="list-style-type: disc;">历法系统Calendar System -- 一种采用天级解析度来标记时间点的系统。</li>















  <li style="list-style-type: disc;">时钟设备Clock Device -- 一个软件组件(与某个硬件绑定)，根据某个历法系统或时钟系统提供当时的日期或时间。</li>















  <li style="list-style-type: disc;">精确度Precision -- 对时钟的可重复性的量度。</li>















  <li style="list-style-type: disc;">解析度Resolution -- 时钟/历法系统或时间类型中可表示的最小时长(如：1秒，1个世纪)的规格说明。</li>















  <li style="list-style-type: disc;">稳定性Stability -- 类的特性，说明底层的表示(或实现)被关联到一个不会改变的特定(抽象)值。</li>















  <li style="list-style-type: disc;">时间系统Time System -- 一种采用比天级解析度更高的解析度来标记时间点的系统。 </li>















</ul>














</div>















<p>
  </p>















<p>一些标准的日期-时间术语： 
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;">纪元Epoch -- 某个历法系统或时钟系统的开始时间点。</li>















  <li style="list-style-type: disc;">DST -- 夏时制Daylight savings time - 某些地区采用的一种本地时间，在夏天的时候对时钟时间进行偏移。</li>















  <li style="list-style-type: disc;">时区Time zone -- 地球上的某个区域，提供由 DST 规则和 UT 位移共同定义的‘本地时间’。</li>















  <li style="list-style-type: disc;">UTC 时间 -- 坐标世界时间Coordinated Universal
Time - 在零经度位置进行测量的民用时间系统。通过闰秒的调整来适应地球的自转。也被称为 Zulu 时间。类似的系统有格林威治标准时间。更多详情请见 <a href="http://aa.usno.navy.mil/faq/docs/UT.html" target="_top">http://aa.usno.navy.mil/faq/docs/UT.html</a>
  </li>















  <li style="list-style-type: disc;">TAI 时间 -- 一种高精度的恒定时间系统，通过世界各地的原子钟来测量 .1 微秒的解析度。不与地球的自转相适应。更多详情请见 <a href="http://www.bipm.fr/enus/5_Scientific/c_time/time_server.html" target="_top">http://www.bipm.fr/enus/5_Scientific/c_time/time_server.html</a>
  </li>















</ul>














</div>















<p>
  </p>















<p>一些更实验性的术语： 
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;">本地时间Local Time -- 在世界某地测量得到的时间。</li>















  <li style="list-style-type: disc;">时间标识Time Label -- 一个元组，完整或部分给出与一个历法系统或时钟系统相关的特定日期-时间。以年-月-日的方式表示。</li>















  <li style="list-style-type: disc;">调整的时间长度Adjusting Time Length -- 一段时间长度，依据不同时期表示不同的实际时长。例如，1个月的时长不能代表固定的天数，它根据量度时的日期来确定实际的长度。 </li>















</ul>














</div>















<p>
  </p>















<p>以下是设计类的术语： 
    </p>















<div class="itemizedlist">
<ul type="bullet">














  <li style="list-style-type: disc;">生成函数Generation function -- 根据一个或多个参数，生成特定的时间点、时间长度或时间间隔集合的函数。 </li>














</ul>














</div>















<p>
  </p>















</div>















<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="date_time.references"></a>参考</h3>














</div>














</div>














</div>















<p>本库的设计当前正在通过 Wiki 和邮件讨论不断改进。你可以在 <a href="http://www.crystalclearsoftware.com/cgi-bin/boost_wiki/wiki.pl?GDTL" target="_top">Boost Wiki GDTL Start Page</a> 上找到更多的信息。
  </p>















<p>
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;"><a href="details.html#date_ref">日期参考</a></li>















  <li style="list-style-type: disc;"><a href="details.html#time_ref">时间参考</a></li>















  <li style="list-style-type: disc;"><a href="details.html#other_c_libs">其它 C/C++ 库</a></li>















  <li style="list-style-type: disc;"><a href="details.html#java_libs">JAVA 日期-时间库</a></li>















  <li style="list-style-type: disc;"><a href="details.html#script_libs">脚本语言程序库</a></li>















  <li style="list-style-type: disc;"><a href="details.html#related">相关的商业和奇特的网页</a></li>















  <li style="list-style-type: disc;"><a href="details.html#resolution">解析度，精度和准确度</a></li>















</ul>














</div>















<p>
  </p>















<a name="date_ref"></a>
<h3>
<a name="id1007706"></a>日期和历法参考</h3>















<p>
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;">ISO 8601 日期时间标准 -- <a href="http://www.cl.cam.ac.uk/%7Emgk25/iso-time.html" target="_top">由 Markus Kuhn 总结</a>
  </li>















  <li style="list-style-type: disc;">
    <a href="http://emr.cs.iit.edu/home/reingold/calendar-book/second-edition/" target="_top">Calendrical Calculations</a> 一书，作者是 Reingold &amp; Dershowitz</li>















  <li style="list-style-type: disc;"><a href="http://www.tondering.dk/claus/calendar.html" target="_top">Calendar FAQ 来自于 Claus Tøndering</a></li>















  <li style="list-style-type: disc;">Calendar zone <a href="http://www.calendarzone.com" target="_top">http://www.calendarzone.com</a>
  </li>















  <li style="list-style-type: disc;"><a href="http://www.w3.org/TR/xmlschema-2/#dateTime" target="_top">XML schema for date time</a></li>















  <li style="list-style-type: disc;">Will Linden 的 <a href="http://www.ecben.net/calendar.shtml" target="_top">Calendar Links</a>
  </li>















  <li style="list-style-type: disc;"><a href="http://www21.brinkster.com/lonwolve/melt/index.htm" target="_top">XMAS calendar melt</a></li>















</ul>














</div>















<p>
  </p>















<a name="time_ref"></a>
<h3>
<a name="id1007790"></a>时间</h3>















<p>
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;">Martin Folwer 的时间模式 time patterns
	
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <div class="itemizedlist">
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <ul type="opencircle">















      <li><a href="http://www.aw.com/cseng/titles/0-201-89542-0/apsupp/events2-1.html" target="_top">有关日历的重复事件</a></li>















      <li>关于 <a href="http://martinfowler.com/ap2/timeNarrative.html" target="_top">根据时间而变化</a> 的事件的模式<a href="http://martinfowler.com/ap2/timeNarrative.html" target="_top"></a>
      </li>















    
    
    
    
    
    
    
    
    
    
    
    
    
    
    </ul>














    </div>















  </li>















  <li style="list-style-type: disc;">美国国家标准与技术研究所 <a href="http://nist.time.gov/exhibits.html" target="_top">Time Exhibits</a>
  </li>















  <li style="list-style-type: disc;">网络时间协议 <a href="http://www.ntp.org/" target="_top">NTP.org</a>
  </li>















  <li style="list-style-type: disc;">美国海军的 <a href="http://tycho.usno.navy.mil/systime.html" target="_top">时间系统</a>
  </li>















  <li style="list-style-type: disc;"><a href="http://www.bipm.fr/enus/5_Scientific/c_time/time_1.html" target="_top">国际原子时间</a></li>















  <li style="list-style-type: disc;">
    <a href="http://beta.zyprexia.com/docs/pgsql/user/datatype1130.htm" target="_top">日期-时间类型 PostgreSQL</a> 的用户指南 </li>















</ul>














</div>















<p>
  </p>















<a name="other_c_libs"></a>
<h3>
<a name="id1007885"></a>其它 C/C++ 程序库</h3>















<p>
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;">
    在 cplusplus.com 上的 <a href="http://www.cplusplus.com/ref/ctime/index.html" target="_top">ctime</a> C标准库参考</li>















  <li style="list-style-type: disc;">
    <a href="http://www.cl.cam.ac.uk/%7Emgk25/c-time/" target="_top">XTime</a> C扩展建议</li>















  <li style="list-style-type: disc;">
    <a href="http://david.tribble.com/text/c0xcalendar.html#author-info" target="_top">另一个 C 程序库扩展建议</a>，来自于 David Tribble</li>















  <li style="list-style-type: disc;">
    <a href="http://cr.yp.to/libtai.html" target="_top">libTAI</a>，一个基于C的时间库</li>















  <li style="list-style-type: disc;">
    <a href="http://www.twinsun.com/tz/tz-link.htm" target="_top">Time Zone Database</a>，管理时区/地区的C库</li>















  <li style="list-style-type: disc;">用于 Unicode 的国际组件，由 IBM 提供(开源)
	
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <div class="itemizedlist">
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <ul type="opencircle">















      <li><a href="http://icu.sourceforge.net/userguide/dateCalendar.html" target="_top">Calendar 类</a></li>















      <li><a href="http://icu.sourceforge.net/userguide/dateTime.html" target="_top">Date Time 服务</a></li>















      <li><a href="http://oss.software.ibm.com/userguide/dateTimezone.html" target="_top">Time Zone 类</a></li>















      <li><a href="http://oss.software.ibm.com/userguide/formatDateTime.html" target="_top">Date-Time 格式化</a></li>















    
    
    
    
    
    
    
    
    
    
    
    
    
    
    </ul>














    </div>















  </li>















  <li style="list-style-type: disc;"><a href="http://pds-rings.seti.org/toolkits/julian_133_html/aareadme.html" target="_top">C的 Julian 库，来自 Mark Showalter -- NASA</a></li>















</ul>














</div>















<p>
  </p>















<a name="java_libs"></a>
<h3>
<a name="id1007999"></a>JAVA 日期时间库速查</h3>















<p>
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;"><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Calendar.html" target="_top">Calendar 类</a></li>















  <li style="list-style-type: disc;"><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/GregorianCalendar.html" target="_top">格里历</a></li>















  <li style="list-style-type: disc;"><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Date.html" target="_top">Date 类</a></li>















  <li style="list-style-type: disc;"><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Time.html" target="_top">sql.time 类</a></li>















  <li style="list-style-type: disc;"><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/DateFormatSymbols.html#_top_" target="_top">Date 格式化符号</a></li>















  <li style="list-style-type: disc;"><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/DateFormat.html" target="_top">Date 格式化</a></li>















  <li style="list-style-type: disc;"><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/SimpleDateFormat.html" target="_top">简单的 Date 格式化</a></li>















  <li style="list-style-type: disc;"><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/SimpleTimeZone.html" target="_top">简单的 Time Zone</a></li>















</ul>














</div>















<p>
  </p>















<a name="script_libs"></a>
<h3>
<a name="id1008082"></a>脚本语言的程序库</h3>















<p>
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;">python 日期库 <a href="http://www.lemburg.com/files/python/mxDateTime.html" target="_top">MX Date Time</a>
  </li>















  <li style="list-style-type: disc;">Perl date-time
	
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <div class="itemizedlist">
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <ul type="opencircle">















      <li><a href="http://search-dev.develooper.com/search?m=module&amp;q=date&amp;s=11" target="_top">Date-Time 包，位于 CPAN</a></li>















      <li>
        <a href="http://search-dev.develooper.com/%7Estbey/Date-Calc-5.4/Calc.pod" target="_top">Date::Calc</a>，位于 CPAN</li>















      <li>
        <a href="http://search.cpan.org/doc/MORTY/DateConvert-0.16/Convert.pm" target="_top">Date::Convert</a> 历法转换，位于 CPAN</li>















    
    
    
    
    
    
    
    
    
    
    
    
    
    
    </ul>














    </div>















  </li>















</ul>














</div>















<p>
  </p>















<a name="related"></a>
<h3>
<a name="id1008147"></a>相关的商业和奇特的网页</h3>















<p>
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;">
    <a href="http://www.craphound.com/est/" target="_top">Eastern Standard Tribe</a> -- Cory Doctorow 有关时间主题的科幻小说</li>















  <li style="list-style-type: disc;">
    <a href="http://www.leapsecond.com/java/gpsclock.htm" target="_top">Leapsecond.com time</a> 页</li>















  <li style="list-style-type: disc;"><a href="http://www.worldtimeserver.com" target="_top">世界时间服务器 / TZ 数据库</a></li>















  <li style="list-style-type: disc;">
    <a href="http://www.longnow.org/10kclock/clock.htm" target="_top">10000 年时钟</a>，位于 Long Now 基金会</li>















  <li style="list-style-type: disc;"><a href="http://www.timezonesforpcs.com" target="_top">Timezones for PCs</a></li>















</ul>














</div>















<p>
  </p>















<a name="resolution"></a>
<h3>
<a name="id1008208"></a>解析度，精度和准确度</h3>















<p>
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;">带有图示的定义，来自 <a href="http://metrologyforum.tm.agilent.com/specs.shtml" target="_top">Agilent Technologies</a>
  </li>















  <li style="list-style-type: disc;">来自的 <a href="http://www.solent.ac.uk/hydrography/notes/errorthe/accuracy.htm" target="_top">Southampton Institute</a> 定义<a href="http://www.solent.ac.uk/hydrography/notes/errorthe/accuracy.htm" target="_top"></a>
  </li>















</ul>














</div>















<p>
  </p>















</div>















<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="date_time.buildinfo"></a>构建和编译器信息</h3>














</div>














</div>














</div>















<p>
    <a href="details.html#overview">简介</a> --
    <a href="details.html#compile_options">编译选项</a> --
    <a href="details.html#portability">编译器/可移植性说明</a> --
    <a href="details.html#dir_structure">目录结构</a> --
    <a href="details.html#other_boost_libs">所需的 Boost 库</a>
  </p>















<a name="overview"></a>
<h3>
<a name="id1008302"></a>简介</h3>















<p>本库中有少量函数需要创建库文件(主要是 to_string, from_string
函数)。大多数库用户无需构建库文件就可以正确地使用本库，只需要包含所需的头文件即可。如果需要库文件，位于 build 目录下的 Jamfile
将生成一个"静态"库(libboost_date_time)以及一个"动态/共享"库(boost_date_time)，其中包含了这些函数。 </p>















<a name="compile_options"></a>
<h3>
<a name="id1008324"></a>编译选项</h3>















<p>缺省情况下，posix_time 系统内部使用一个64位整数来提供微秒级的解析度。作为另一个选择，使用一个64位整数加一个32位整数(共96位精度)，可以提供纳秒级的解析度。缺省实现可以提供更好的性能和最小的内存占用，多数应用程序并不需要纳秒级的解析度。 </p>















<p>要使用更高的解析度(96位纳秒级别)，必须在库用户的工程文件(如 Makefile,
Jamfile, 等等)中定义变量 <code class="computeroutput">BOOST_DATE_TIME_POSIX_TIME_STD_CONFIG</code>. 该宏并不被格里历系统使用，因此在构建本库时没有作用。 </p>















<p>和版本1.33一样，date_time 库引入了一个新的IO流系统。有些编译器不能使用这个新系统。对于这些编译器，早期的("遗留")IO系统仍然可用。不被支持的编译器将自动选择遗留系统，但用户也可以通过定义 <code class="computeroutput">USE_DATE_TIME_PRE_1_33_FACET_IO</code> 来强制使用遗留系统。</p>















<p>为方便使用，<code class="computeroutput">date_time</code> 提供了一些 <a href="gregorian.html#additional_duration_types">额外的时间长度类型</a>。使用这些类型可能会由于“保持为月末”的行为而导致意外结果(完整细节和例子请见 <a href="gregorian.html#snap_to_details">操作可逆性的缺陷</a>)。缺省情况下，这些类型都是可用的。要禁止这些类型，只需在你的工程文件中去定义 <code class="computeroutput">BOOST_DATE_TIME_OPTIONAL_GREGORIAN_TYPES</code> 即可。</p>















<p>另一个方便的用法是 <code class="computeroutput"><a href="gregorian.html#date_time.gregorian.date_class" title="Date">date</a></code> 和 <code class="computeroutput"><a href="posix_time.html#date_time.posix_time.ptime_class" title="Ptime">ptime</a></code> 的缺省构造函数。缺省情况下这些构造函数是可用的。要禁止它们，只需在你的工程文件中定义 <code class="computeroutput">DATE_TIME_NO_DEFAULT_CONSTRUCTOR</code> 即可。</p>















<a name="portability"></a>
<h3>
<a name="id1008443"></a>编译器/可移植性说明</h3>















<p>Boost Date-Time 库已经在多个编译器和平台上进行了构建和测试。但是，有些编译器和标准库存在问题。而这些问题中有些可以绕过，其它一些则很难绕过。以下编译器已知完全支持本库： </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;">Codewarrior 9.4 Windows</li>















  <li style="list-style-type: disc;">GCC 3.2 - 3.4, 4.x on Linux</li>















  <li style="list-style-type: disc;">GCC 3.3, 4.x on Darwin</li>















  <li style="list-style-type: disc;">GCC 3.3 - 3.4, 4.x on Solaris</li>















  <li style="list-style-type: disc;">GCC 3.3, 4.x  on HP-UX</li>















  <li style="list-style-type: disc;">QCC 3.3.5 on QNX</li>















  <li style="list-style-type: disc;">MSVC 7.1 Windows </li>















  <li style="list-style-type: disc;">Intel 8.1-9.x Linux and Windows</li>















</ul>














</div>















<p>
  </p>















<p>不幸的是，VC8 编译器对于 date-time 代码有些问题。其中最严重的问题是，在引入VC8标准库的 basic_stream
代码时存在内存泄漏。Date-time
的代码已经尽可能作出修改以避免这一问题，但如果你使用遗留IO选项(这不是VC8的缺省选项)，那么问题仍会出现。更多细节请见 <a href="http://lists.boost.org/Archives/boost/2006/02/101122.php" target="_top">邮件列表存档</a>。
  </p>















<p>除了以上问题，有些版本的VC8库限制了 <code class="computeroutput">std::tm</code> 结构中的值为正值。这是VC8中新增的限制。产生的影响是，1900年以前的日期将引发异常。不幸的是，这一问题没有替代方案。注意，新的64位版本VC8编译器不再存在这一限制。  
  </p>















<p>以下编译器支持本库除 <code class="computeroutput">wstring/wstream</code> 
    输出以外的所有功能。
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;">MinGW 3.2, 3.4, 3.5 *</li>















  <li style="list-style-type: disc;">GCC 3.2 (cygwin) *</li>















</ul>














</div>















<p>
  </p>















<p>特别地，缺乏标准 locales 支持将会限制本库的能力，无法支持基于 iostream 的输入输出。对于这些编译器，我们提供一组更为有限的基于字符串的输入输出。具有这种限制的编译器/标准库包括： </p>















<div class="itemizedlist">
<ul type="bullet">














  <li style="list-style-type: disc;">Borland 5.6</li>














</ul>














</div>















<p>
  </p>















<p>对一些较老的编译器的官方支持现在已被停止。它们包括：
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;">GCC 2.9x</li>















  <li style="list-style-type: disc;">Borland 5.1.1</li>















  <li style="list-style-type: disc;">MSVC 7.0 and 6 SP5 </li>















</ul>














</div>















<p>
  </p>















<h5>
<a name="id1008587"></a>Visual Studio &amp; STLPort</h5>















<p>对于 Visual Studio (7.0 &amp; 7.1) 和
STLPort，有一个著名的问题。构建错误通常会指向一个类型问题或
'no acceptable conversion' 以及试图以 <code class="computeroutput">wchar_t</code> 实例化一个模板。STLPort 的缺省构建并不支持 <code class="computeroutput">wchar_t</code>.
这个问题有两个解决方法。最简单的方法是，用法可以构建不带宽字符流/宽字符串的 date_time. 另一个方法是，重建 STLPort 以支持 wchar_t. </p>















<p>要构建不带宽字符流/宽字符串的 date_time, 在 <code class="computeroutput">$BOOST_ROOT</code> 下执行以下命令：
    </p>















<pre class="screen">bjam -a "-sTOOLS=vc-7_1-stlport" "-sSTLPORT_PATH=..." \<br>     "-sBUILD=&lt;define&gt;BOOST_NO_STD_WSTRING"           \<br>     --stagedir=... --with-date_time stage</pre>















<p>
    (将省略号换为构建系统的正确路径，有需要时将 <code class="computeroutput">TOOLS</code> 调整为正确的工具集)
  </p>















<p>要重建 STLPort 以支持 <code class="computeroutput">wchar_t</code>，只需在 STLPort 的 makefile中指定 <code class="computeroutput">/Zc:wchar_t</code>. 然后从 <code class="computeroutput">$BOOST_ROOT</code> 执行以下命令以构建 Date_time:
    </p>















<pre class="screen">bjam -a "-sTOOLS=vc-7_1-stlport" "-sSTLPORT_PATH=..." \<br>     "-sBUILD=&amp;native-wchar_t&gt;on"                     \<br>     --stagedir=... --with-date_time stage</pre>















<p>
    (将省略号换为构建系统的正确路径，有需要时将 <code class="computeroutput">TOOLS</code> 调整为正确的工具集)
  </p>















<a name="dir_structure"></a>
<h3>
<a name="id1008630"></a>目录结构</h3>















<p>目录树结构如下：
    </p>















<pre class="programlisting">/boost/date_time                    -- 公用头文件和模板代码<br>/boost/date_time/gregorian          -- 格里历系统头文件<br>/boost/date_time/posix_time         -- Posix 时间系统头文件<br>/boost/date_time/local_time         -- 本地时间系统头文件<br>/libs/date_time/build               -- 构建文件和输入目录<br>/libs/date_time/test                -- 泛型代码的测试程序<br>/libs/date_time/test/gregorian      -- 格里历系统的测试程序<br>/libs/date_time/test/posix_time     -- posix_time 系统的测试程序<br>/libs/date_time/test/local_time     -- local_time 系统的测试程序<br>/libs/date_time/examples/gregorian  -- dates 的例子程序<br>/libs/date_time/examples/posix_time -- time 的例子程序<br>/libs/date_time/examples/local_time -- nifty 的例子程序<br>/libs/date_time/src/gregorian       -- libboost_date_time 的 cpp 文件<br>/libs/date_time/src/posix_time      -- 空 (有一个文件，但无源代码...)</pre>















<p>
  </p>















<a name="other_boost_libs"></a>
<h3>
<a name="id1008714"></a>所需的 Boost 库</h3>















<p>date-time 的各个部分依赖于某些 boost 库。它们包括：
    </p>















<div class="itemizedlist">
<ul type="bullet">















  <li style="list-style-type: disc;"><a href="../../../libs/tokenizer/index.html" target="_top">boost.tokenizer</a></li>















  <li style="list-style-type: disc;"><a href="../../../libs/integer/cstdint.htm" target="_top">boost.integer(cstdint)</a></li>















  <li style="list-style-type: disc;"><a href="../../../libs/utility/operators.htm" target="_top">boost.operators</a></li>















  <li style="list-style-type: disc;"><a href="../../../libs/conversion/lexical_cast.htm" target="_top">boost.lexical_cast </a></li>















  <li style="list-style-type: disc;"><a href="../../../libs/smart_ptr/smart_ptr.htm" target="_top">boost.smart_ptr (仅用于本地时间)</a></li>















  <li style="list-style-type: disc;"><a href="../../../libs/algorithm/string/" target="_top">boost::string_algorithms </a></li>















  <li style="list-style-type: disc;"><a href="../../../libs/serialization/index.html" target="_top">boost::serialize (仅用于序列化代码) </a></li>















</ul>














</div>















<p>所以这些库必须被安装。 
  </p>















</div>















<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="date_time.tests"></a>测试</h3>














</div>














</div>














</div>















<p>本库提供了大量测试程序，它们位于： 
    </p>















<pre class="programlisting">      libs/date_time/test<br>      libs/date_time/test/gregorian<br>      libs/date_time/test/posix_time<br>      libs/date_time/test/local_time<br>    </pre>















<p> 目录中。构建并执行这些测试，以确认库的安装是正确的且功能正常。此外，这些测试有利于将库移植到新的编译器。最后，这些测试提供了很多在用法举例一节中没有明确描述的函数的例子。 </p>















</div>















<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="date_time.changes"></a>变更历史</h3>














</div>














</div>














</div>















<h3>
<a name="id1008829"></a>从 Boost 1.33 到 1.34 (date_time 1.04 到 1.05)的变更</h3>















<div class="informaltable">
<table class="table">















  <colgroup><col><col></colgroup>
  <thead><tr>















    <th>类型</th>















    <th>说明</th>















  </tr>














  </thead>
  <tbody>















    <tr>















      <td>特性</td>















      <td>更新了 date_time_zonespec.csv
文件中的数据，以反映美国/加拿大2007年新的夏时制规则。如果你升级到了新的文件，那么要清楚本库只有对于当前或以后的日期转换才能得到正确的答案。
所以，如果你要对以前的年份进行日期转换，那么得到的答案将反映当前的时区规则而不是旧的规则。当前本库不能支持历史时区。 </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>还更新了另外两个 dst 计算特性，以反映新的美国/加拿大时区规则。它们是
boost::date_time::us_dst_rules 和 dst_calc_engine.&nbsp;us_dst_rules
已经被官方反对使用，Graham Bennett 提供的一个补丁可以让这个类正确用于历史和未来的日期。而 dst_calc_engine
也被更新，可以正确用于历史和未来的时间。这样，各个 local_adjustor 类均可以正确工作。对于使用 dst_calc_engine
的类，其接口有些变化，变化是关于定制的 dst traits 类的。该 traits 类的签名变为接受一个象 end_month 那样的 'year' 参数。此外，该 traits 类需要2个新的函数：<code class="computeroutput">static date_type local_dst_start_day(year_type year)</code> 和
                   <code class="computeroutput">static date_type local_dst_end_day(year_type year)</code>.
              实现请见 <code class="computeroutput">date_time/local_timezone_defs.hpp</code> 中的例子。
          </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>修复澳大利亚的 DST traits (sf# 1672139)，将DST的结束时间设为 3:00 am，替代原来的 2:00 am.
                
          </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>修复因I/O代码所引起的多重定义链接错误。
          </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>修改 greg_serialize.hpp 和 time_serialize.hpp
                 中的序列化代码，消除因未使用变量 version 和 file_version 引起的告警。感谢 Caleb Epstein 的建议。
          </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>修复在 FreeBSD 的 GCC 下将 LANG 环境变量设为 russian 时出现的退化错误&nbsp; -- 将分析器改为使用 classic 
                 locale 而不是 blank locale.
          </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>修改 tracker 问题 1178092 -- 修改 convert_to_lower，将 local 改为 const static 以加快分析的速度。
          </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>来自 Ulrich Eckhardt 的补丁，修复对 EVC++ 4 的支持。
          </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>尽量减少对 basic_stringstream 的使用，以避开 VC8 标准库中的缺陷。更多信息请见 
                 <a href="http://lists.boost.org/Archives/boost/2006/02/101122.php" target="_top">邮件列表存档</a>。&nbsp;
          </td>















    </tr>















    









  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>














</div>















<h3>
<a name="id1009008"></a>从 Boost 1.32 到 1.33 的变更(date_time 1.03 到 1.04)</h3>















<div class="informaltable">
<table class="table">















  <colgroup><col><col></colgroup>
  <thead><tr>















    <th>类型</th>















    <th>说明</th>















  </tr>














  </thead>
  <tbody>















    <tr>















      <td>缺陷修复</td>















      <td>如果时间段的开始点和结束点相同或相连，则时间段长度的计算会有错。在修正后，当开始点和结束点相同时，或者时间段以零时长创建时，现在将返回长度0。对于开始点和结束点相连的时间段，则返回长度1。 </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>Time_input_facet 缺少设为ISO格式的函数。而且在不使用分隔符时(%H%M%S)，将不能进行分析。这两个缺陷均已修正。 </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>将 ptime_facet 和 ptime_input_facet
的名字改为 time_facet 和 time_input_facet. 同时删除所有 ptime_* 版本。 </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>函数 from_iso_string function 不能分析小数。我们增加了代码以正确地按已编译库的精度进行过多或过少数位的分析。带小数的 Ptimes 也可以正确分析。 </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>新IO中的分析机制在进一次匹配后会吃掉下一个字符。在试图分析以特殊值作为开始点的时间段时就会出现这个缺陷。 </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>新的IO系统无法为用户提供“打开”流操作的异常机制的功能。即使分析失败，failbit 位也不会置位。现在这些问题都已得到修正。 </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>以 from_*_string
函数分析特殊值的问题已修正。这使得本库可以对特殊值进行序列化。Time_duration 现在可以序列化为字符串或单独的字段(取决于 is_special())。 </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>以前，<code class="computeroutput">partial_date</code>
的流输出会以一位或两位数字的方式来显示天数(即
'1', 或 '12')。现在已更正为只使用两位数字(即 '01')。 </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>主要的新特性都与本地时间的管理有关。包括引入了一系列新类，用于表示时区和本地时间(完整的细节请见 <a href="local_time.html" title="Local Time">日期与时间的本地时间</a>)。
          </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>输入和输出 facets 已被重写以支持基于格式的格式重定义(完整的细节请见 <a href="date_time_io.html" title="Date Time Input/Output">日期和时间的IO</a>)。
          </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>增加一些函数，以方便在 <code class="computeroutput">tm</code> 结构与 <code class="computeroutput">date</code>, <code class="computeroutput">ptime</code>, <code class="computeroutput">time_duration</code>, 和 <code class="computeroutput">local_date_time</code> 之间的转换。还提供了将 <code class="computeroutput">FILETIME</code> 和 <code class="computeroutput">time_t</code> 转换为 <code class="computeroutput">ptime</code> 的函数。详情请见单独的章节。
          </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>在 <code class="computeroutput">microsec_time_clock</code> 中增加了一个 <code class="computeroutput">universal_time</code> 函数<code class="computeroutput"></code>(有关该函数的完整细节请见 <a href="posix_time.html#ptime_from_clock">这里</a>)。
          </td>















    </tr>















    











    











    <tr>















      <td>特性</td>















      <td>Date-time 现在在可支持的平台上将使用重入的 POSIX 函数，如果定义了 BOOST_HAS_THREADS。 
          </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>修正了在序列化代码中不能从存档中正确读回 ptime,
time_duration 的特殊值(not-a-date-time, infinities,
等等)的缺陷。输出用的序列化代码为特殊值和未定义值的无效 time_duration.seconds()
写出子字段。这样当读回这些值时，可以引发奇特的行为，包括在构造时抛出异常。 </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>修正了由不同平台/编译器产生的多个告警。
          </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>以一个超过从 00:00 到 23:59:59.9... 范围的 time_duration 来构造 ptime，现在会对日期和时间进行调整，以使得
time_duration 落在这一范围内(即 <code class="computeroutput">ptime(date(2005,2,1), hours(-5))</code> -&gt; "2005-Jan-31 19:00:00"，而 <code class="computeroutput">ptime(date(2005,2,1), hours(35))</code> -&gt; "2005-Feb-02 11:00:00")。
          </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>时间分析现在可以正确处理过多位的小数秒。前导的0将被扔掉("000100" -&gt; 100
frac_sec)，而过多的数位将在正确的位置被截断("123456789876" -&gt; 123456 或 123456789，取决于编译本库时的精度)。 </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>改为 <code class="computeroutput">boost::serialization</code> 的接口破坏了 <code class="computeroutput">date_time</code> 的序列化兼容怀。用户必须提供函数来在序列化之前确保 <code class="computeroutput">date_time</code> 对象是 <code class="computeroutput">const</code> 的。该函数类似于：
            
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <pre class="screen">template&lt;class archive_type, class temporal_type&gt;<br>void save_to(archive_type&amp; ar,<br>             const temporal_type&amp; tt)<br>{<br>  ar &lt;&lt; tt;<br>}</pre>















          </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>对于已不使用的 <code class="computeroutput">boost::tokenizer</code> 接口，已升级为当前的接口。修正了在某些旧编译器上的编译错误。
          </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>在遗留IO系统中的模板化格式化器接受 char 类型。同时删掉了对 <code class="computeroutput">boost::lexical_cast</code> 的调用。
          </td>















    </tr>















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>














</div>















<h3>
<a name="id1009529"></a>从 Boost 1.31 到 1.32 的变更(date_time 1.02 到 1.03)</h3>















<div class="informaltable">
<table class="table">















  <colgroup><col><col></colgroup>
  <thead><tr>















    <th>类型</th>















    <th>说明</th>















  </tr>














  </thead>
  <tbody>















    <tr>















      <td>缺陷修复</td>















      <td>修正了 year_functor
的“保持为月末”的行为。以前，从 2000-Feb-28 (闰年的非月末日期)开始迭代到下一个闰年，会得到
2004-Feb-29 而不是 2004-Feb-28. 这一行为已得到改正，以生成正确结果 2004-Feb-28. 感谢 Bart
Garst 所做的修正。 </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>从 FILETIME 结构创建 ptime 对象的自由函数。该函数只在定义了 BOOST_HAS_FTIME 的平台上可用。
          </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>微秒时钟现在在多数 windows 和 Unix 编译器上都可以用了。
          </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>现在 boost::serialization 库可以和多数
date_time 类一起使用。具有序列化能力的类有：date_generator 类, date, days, date_period,
greg_month, greg_weekday, greg_day, ptime, time_duration, 和
time_period. 感谢 Bart Garst 所做的修正。 </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>新增了将 date 和 time 类转换为 wstring 的函数。本库现在提供 to_*_wstring，和 to_*_string 函数一样，simple, iso, 
                 iso_extended, 和 sql for dates 以及编译器均支持 wstrings. 感谢 Bart Garst 所做的修正。
          </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>时间段类现在可以正确处理零时长和 NULL 时间段。NULL 时间段是具有负长度的时间段。感谢 Frank Wolf 和 Bart Garst 所做的修改。
          </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>在 gregorian::date 中增加了 end_of_month 函数，以日期表示法返回当前月的最后一天。对于 not_a_date_time 或无限日期，结果未定义。
          </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>删掉整个库中对 BOOST_NO_CWCHAR 宏的不正确使用。
          </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>为一些日期类增加了新的名字。原来的名字仍然可用，但以后可能会不再使用。改变如下：
            
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <table class="simplelist" summary="Simple list" border="0">















        <tbody>














          <tr>















            <td>date_duration</td>















            <td>现在是</td>















            <td>days</td>















          </tr>















          <tr>















            <td>nth_kday_of_month</td>















            <td>现在是</td>















            <td>nth_day_of_the_week_in_month</td>















          </tr>















          <tr>















            <td>first_kday_of_month</td>















            <td>现在是</td>















            <td>first_day_of_the_week_in_month</td>















          </tr>















          <tr>















            <td>last_kday_of_month</td>















            <td>现在是</td>















            <td>last_day_of_the_week_in_month</td>















          </tr>















          <tr>















            <td>first_kday_after</td>















            <td>现在是</td>















            <td>first_day_of_the_week_after</td>















          </tr>















          <tr>















            <td>first_kday_before</td>















            <td>现在是</td>















            <td>first_day_of_the_week_before</td>















          </tr>















        
        
        
        
        
        
        
        
        
        
        
        
        
        
        </tbody>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      </table>















          </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>增加了日期生成器的自由函数。新增的函数是：days_until_weekday, days_before_weekday, next_weekday, 和
previous_weekday.
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <pre class="screen">days days_until_weekday(date, greg_weekday);<br>days days_before_weekday(date, greg_weekday);<br>date next_weekday(date, greg_weekday);<br>date previous_weekday(date, greg_weekday);</pre>

感谢 Bart Garst 所做的修改。
          </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>为月数、年数和周数增加新的试验用时长类型。这些类还提供了与日期和时间类的数学操作符。一个28日之后的时间或日期加上一定的月数或年数，可能会出现不正常的数学特性。这是由于这一运算采用了'月末'保持。以下例子示范了这一问题。  
           
            
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <pre class="screen">months m(12);<br>years y(1);<br>m == y; // true<br>days d(7);<br>weeks w(1);<br>d == w; // true<br>ptime t(...);<br>t += months(3);<br>date d(2004,Jan,30);<br>d += months(1); //2004-Feb-29<br>d -= months(1); //2004-Jan-29</pre>

这些类型的流输入尚未实现。感谢 Bart Garst 所做的修改。
          </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>统一 date_generators 的基类并带入到 gregorian 名字空间中。请见 <a href="examples.html#date_time.examples.print_holidays" title="Print Holidays">打印假日的例子</a>。
          </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>增加了 date 和 ptime 的缺省构造函数(两者都有)以及特殊值的构造函数(ptime, 现在两者均支持)。缺省构造函数将对象初始化为 not_a_date_time (NADT).
                 
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <pre class="screen">ptime p_nadt(not_a_date_time);<br>ptime p_posinf(pos_infin);<br>ptime p; // p == NADT<br>date d;  // d == NADT</pre>

感谢 Bart Garst 所做的修改。
          </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>流输出现在已可以在支持宽字符流的编译器/标准库组合上支持宽字符流。如以下代码：
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <pre class="screen">std::wstringstream wss;<br>date d(2003,Aug,21);<br>wss &lt;&lt; d;</pre>

感谢 Bart Garst 所做的修改。
	  </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>date 和 time 类型的流输入现在已可以支持宽字符和窄字符流：
	    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <pre class="screen">date d(not_a_date_time);<br>std::stringstream ss("2000-FEB-29");<br>ss &gt;&gt; d; //Feb 29th, 2000<br>std::wstringstream ws("2000-FEB-29");<br>ws &gt;&gt; d; //Feb 29th, 2000</pre>

感谢 Bart Garst 所做的修改。
	  </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>修正了以下缺陷：duration_from_string() 当字符串的格式中的小数位不足时会创建一个不正确的
                  time_duration.  在微秒解析度下，字符串 "1:01:01.010" 会创建时长 
                  01:01:01.000010 而不是 01:01:01.010000
          </td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>修正了 gregorian::date 和 posix_time::ptime 
                 的特殊值构造函数以 min_date_time 或 max_date_time 进行构造的问题。这些情形下会构造出错误的值。
          </td>















    </tr>















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>














</div>















<h3>
<a name="id1009919"></a>从 Boost 1.30 到 1.31 的变更(date_time 1.01 到 1.02)</h3>















<div class="informaltable">
<table class="table">















  <colgroup><col><col></colgroup>
  <thead><tr>















    <th>类型</th>















    <th>说明</th>















  </tr>














  </thead>
  <tbody>















    <tr>















      <td>缺陷修复</td>















      <td>更新了构建配置文件，现在可以用MSVC编译器生成 dll, 静态和动态链接的库文件。更多细节请见 <a href="details.html#date_time.buildinfo" title="Build-Compiler Information">构建/编译器信息</a>。</td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>Time_duration from_string 现在可以正确地从负值进行构造(如 "-0:39:00.000")。代码由 Bart Garst 提供。</td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>修正了在MSVC编译器下以4级告警级别编译时的多个告警。</td>















    </tr>















    <tr>















      <td>特性</td>















      <td>为 date 和 time 迭代器增加了前缀递减操作符。更多细节请见 <a href="posix_time.html#date_time.posix_time.time_iterators" title="Time Iterators">Time 迭代器</a> 和 <a href="gregorian.html#date_time.gregorian.date_iterators" title="Date Iterators">Date 迭代器</a>。代码由 Bart Garst 提供。</td>















    </tr>















    <tr>















      <td>特性</td>















      <td>Special_values 功能被增加到 date_duration, time_duration 和 time 类。代码由 Bart Garst 提供。</td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>修正了 time_duration_traits 运算中的以下缺陷：尽管有64位环境可用，时长还是被限制在32位的范围内。感谢 Joe de Guzman 对此缺陷的跟踪。</td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>为时间长度类型(如：date_duration, time_duration)提供了其它操作符。这些操作包括：与整数相除以及 +=, -= 操作符。感谢 Bart Garst 编写了这些代码。另外，相关的 <a href="details.html#date_time.calculations" title="Calculations">运算</a> 文档也有了改进。</td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>为 boost::gregorian gregorian_types.hpp 中多个 date_generator 函数类增加了 typedef.</td>















    </tr>















    <tr>















      <td>特性</td>















      <td>增加了 from_time_t function 将 time_t 转换为 ptime.</td>















    </tr>















    <tr>















      <td>特性</td>















      <td>增加了对时间段进行合并的 span 函数。请见 <a href="gregorian.html#date_time.gregorian.date_period" title="Date Period">日期段</a> 和 <a href="posix_time.html#date_time.posix_time.time_period" title="Time Period">时间段</a> 的文档。</td>















    </tr>















    <tr>















      <td>特性</td>















      <td>为 time_duration 增加了一个函数，以取出在时长内的总秒数，截断小数部分。另外，还增加了其它解析度以方便转换。例如：
	    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <pre class="screen">seconds(1).total_milliseconds() == 1000<br>seconds(1).total_microseconds() == 1000000<br>hours(1).total_milliseconds() == 3600*1000 //3600 秒/小时<br>seconds(1).total_nanoseconds() == 1000000000</pre>
















           </td>















    </tr>















    <tr>















      <td>特性</td>















      <td>为 <a href="gregorian.html#date_time.gregorian.date_algorithms" title="Date Generators/Algorithms">日期生成器</a>  类 - partial_date, first_kday_after, first_kday_before, 等等 -&nbsp;增加了流输出操作符。感谢 Bart Garst 的工作。</td>















    </tr>















    <tr>















      <td>特性</td>















      <td>为时长类型增加了单参数的 - 操作符，将时长的符号反转。例如：
	    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <pre class="screen">time_duration td(5,0,0); //5 小时<br>td = -td; //-5 小时</pre>
感谢 Bart Garst 的工作。</td>















    </tr>















    <tr>















      <td>特性</td>















      <td>增加了对‘月份名’字符串的分析支持。现在可以从字符串创建 date 对象，可以接受多种格式
("2003-10-31","2003-Oct-31", 和 "2003-October-31")。因此，现在可以写 date d =
from_simple_string("2003-Feb-27"). 错误的月份名字符串 ( from_simple_string("2003-SomeBogusMonthName-27")) 将引发一个
bad_month 异常。在多数编译器上，字符串的比较是大小写敏感的。感谢 Bart Garst 的工作。</td>















    </tr>















    <tr>















      <td>特性</td>















      <td>增加了对月份名或月份数的支持，加入了从多顺序日期字符串创建 date 对象的函数。如： "January-21-2002", "2002-Jan-21", 和 "21-Jan-2003". 更多详情请见 <a href="gregorian.html#date_time.gregorian.date_class" title="Date">Date 类</a>。</td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>多个文档上的修正。感谢 Bart Garst 所做的更新。</td>















    </tr>















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>














</div>















<h3>
<a name="id1010228"></a>从 Boost 1.29 到 1.30 的变更(date_time 1.00 到 1.01)</h3>















<p>
    说明：partial_date 类的接口(见 <a href="gregorian.html#date_time.gregorian.date_algorithms" title="Date Generators/Algorithms">日期算法</a>) 有所改变。 构造函数的参数顺序有所变化，这会导致某些代码执行失败。这个改变是为了便于提供更多的本地时间调整泛型代码。因此，要将使用 partial_date pd(Dec,25) 的代码改为
partial_date pd(25, Dec); </p>















<div class="informaltable">
<table class="table">















  <colgroup><col><col></colgroup>
  <thead><tr>















    <th>类型</th>















    <th>说明</th>















  </tr>














  </thead>
  <tbody>















    <tr>















      <td>缺陷修复</td>















      <td>增加了新的试验特性：夏时制计算。基于 traits 来指定 dst 规则。</td>















    </tr>















    <tr>















      <td>特性</td>















      <td>增加了新的接口，以计算儒略日以及将儒略日修改为 gregorian date 类。请见 <a href="gregorian.html#date_time.gregorian.date_class" title="Date">boost::gregorian::date</a>.</td>















    </tr>















    <tr>















      <td>特性</td>















      <td>增加了新的接口，计算某个日期的 iso 8601 周数。请见 <a href="gregorian.html#date_time.gregorian.date_class" title="Date">boost::gregorian::date</a>.</td>















    </tr>















    <tr>















      <td>特性</td>















      <td>增加了一个 iso 8601 时间的 date-time 格式 (如：YYYYMMDDTHHHMMSS) 分析函数。更多信息请见 <a href="posix_time.html#date_time.posix_time.ptime_class" title="Ptime">类 ptime</a>。</td>















    </tr>















    <tr>















      <td>特性</td>















      <td>为 period 模板增加一个 length 函数，date_periods 和 time_periods 现在都将支持这个函数。</td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>对 Jamfiles 进行分离，libs/date_time/build/Jamfile 仅构建库文件，而 /libs/date_time/libs/test/Jamfile 则运行测试。</td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>修正多个不重要的文档问题。</td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>去掉了引起链接错误的 DATE_TIME_INLINE 宏。该宏在使用本库的工程中不再需要。</td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>为 gregorian_types.hpp 中的 year_iterator 增加了缺少的 typedef.</td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>修正了格里历 ostream 操作符，以避免使用宽字符流。</td>















    </tr>















    <tr>















      <td>缺陷修复</td>















      <td>对日期的错误处理更为严格，如 date(2002, 2, 29)
将抛出 bad_day_of_month 异常。以前这样的日期会错误构造。由 sourceforge bug 报告： 628054 及其它。</td>















    </tr>















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>














</div>















</div>















<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="date_time.acknowledgements"></a>鸣谢</h3>














</div>














</div>














</div>















<p> Many people have contributed to the development of this library. In
particular Hugo Duncan and Joel de Guzman for help with porting to
various compilers. For initial development of concepts and design
Corwin Joy and Michael Kenniston deserve special thanks. Also extra
thanks to Michael for writing up the theory and tradeoffs part of the
documentation. Dave Zumbro for initial inspiration and sage thoughts.
Many thanks to boost reviewers and users including: William Seymour,
Kjell Elster, Beman Dawes, Gary Powell, Andrew Maclean, William Kempf,
Peter Dimov, Chris Little, David Moore, Darin Adler, Gennadiy Rozental,
Joachim Achtzehnter, Paul Bristow, Jan Langer, Mark Rodgers, Glen
Knowles, Matthew Denman, and George Heintzelman. </p>















</div>















</div>















<table width="100%">














  <tbody>














    <tr>















      <td align="left"></td>















      <td align="right"><small>Copyright © 2001-2005 CrystalClear Software, Inc</small></td>















    </tr>














  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>















<hr>
<div class="spirit-nav">
<a accesskey="p" href="serialization.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../date_time.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="examples.html"><img src="../images/next.png" alt="Next"></a>
</div>















</body></html>
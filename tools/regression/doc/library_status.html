<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <meta http-equiv="Content-Language" content="en-us" />
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" type="text/css" href="../../../doc/html/boostbook.css" />

  
  <title>Libary Status</title><style type="text/css">
/*<![CDATA[*/
  span.c3 {color: #FF0000; font-style: italic}
  a.c2 {font-style: italic}
  td.c1 {font-style: italic}
  /*]]>*/
  </style></head>


<body>
  <table border="0">
    <tbody><tr>
      <td><img src="../../../boost.png" alt="boost.png (6897 bytes)" border="0" height="86" width="277" /></td>

      <td>
        <h1>Generating Library Status Tables</h1>
      </td>
    </tr>
  </tbody></table>

  <h3>Purpose 目的</h3>Any time one considers using a library as large and complex
  as the Boost libraries, he must have a way of validating the the library
  functions in his environment. This should be done when the library is
  installed and anytime questions are raised regarding its applicabililty
  and/or its usage.<br />任何时候，如果一个人想使用象 Boost 库如此巨大而复杂的库时，他都必须有办法在他的运行环境中验证这些库函数。当库安装好以后，或者在使用时出现问题时，这些验证工作都是要做的。

  <p>The procedures described here permit a user to run any combination of
  tests on any or all libraries and generate a set of convenient tables which
  show which libraries pass which tests under what conditions.<br />这里所讲述的过程，允许一个用户对任一个或所有库运行任意的测试组合，并生成一组简明的表格，来展示哪些库在何种条件上通过了测试。</p>

  <h3>Preliminaries 准备工作</h3>Generating these tables requires a couple of utility
  programs: <code>process_jam_log</code> and <code>library_status</code>.
  These can be built by moving to the directory
  <code>tools/regression/build</code> and invoking bjam. If all goes well
  these utility programs will be found in the directory
  <code>dist/bin</code>. From there they should be moved to a place in the
  current path.<br />生成这些表格需要两个工具程序：<code>process_jam_log</code> 和 <code>library_status</code>。可以通过进入目录 <code>tools/regression/build</code> 并运行 bjam 来构建它们。如果一切正常，这两个工具程序可以在目录
  <code>dist/bin</code> 下找到。它们应该被从那个目录移至当前 path 中的某处。

  <h3>Running Tests for One Library 对一个库运行测试</h3>

  <ol>
    <li>Start from your command line environment.<br />从你的命令行环境开始。</li>

    <li>set the current directory to:../libs/&lt;library name&gt;/test<br />将当前目录设为：../libs/&lt;library name&gt;/test</li>

    <li>Invoke one of the following:<br />执行以下之一：

      <ul>
        <li><code>../../../tools/regression/library_test (*nix)</code></li>

        <li><code>..\..\..\tools\regression\library_test
        (windows)</code>.</li>
      </ul>
    </li>

    <li>This will display short help message describing the how to set the
    command line arguments for the compilers and variants you want to appear
    in the final table.<br />这时将显示简短的帮助信息，描述如何针对编译器以及你希望出现在最终的表格中的不同版本设置命令行参数。</li>

    <li>Setting these arguments requires rudimentary knowledge of bjam usage.
    Hopefully, if you've arrived at this page you've gained the required
    knowledge during the installation and library build process.<br />设置这些参数需要有使用 bjam 的基本知识。我们希望，如果你能来到这一页，你应该已经具备了库安装和构建所需的知识。</li>

    <li>Rerun the abve command with the argument set accordingly.<br />以相应的参数重新运行上述命令。</li>

    <li>When the command terminates, there should be a file named
    "library_status.html" in the current directory.<br />当命令运行结束，在当前目录会生成一个名为
    "library_status.html" 的文件。</li>

    <li>Display this file with any web browser.<br />用任意的web浏览器显示该文件。</li>
  </ol>There should appear a table similar to the following for the regex
  library.<br />这时将出现一个类似以下的表格，以下是针对 regex 库的。

  <table border="1" cellpadding="5" cellspacing="0">
    <tbody><tr>
      <td rowspan="4">Test Name</td>

      <td colspan="4" align="center">msvc-7.1</td>
    </tr>

    <tr>
      <td colspan="2" align="center">debug</td>

      <td colspan="2" align="center">release</td>
    </tr>

    <tr>
      <td align="center">link-static</td>

      <td rowspan="2" align="center">threading-multi</td>

      <td align="center">link-static</td>

      <td rowspan="2" align="center">threading-multi</td>
    </tr>

    <tr>
      <td align="center">threading-multi</td>

      <td align="center">threading-multi</td>
    </tr>

    <tr>
      <td>bad_expression_test</td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-bad_expression_test.test-msvc-7.1-debug-threading-multi">
      Warn</a></td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-bad_expression_test.test-msvc-7.1-release-threading-multi">
      Warn</a></td>
    </tr>

    <tr>
      <td>captures</td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a href="links.html#C:-Boost134-bin.v2-libs-regex-test-captures-msvc-7.1-debug-threading-multi">
      <span class="c3">Fail</span></a></td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a href="links.html#C:-Boost134-bin.v2-libs-regex-test-captures-msvc-7.1-release-threading-multi">
      <span class="c3">Fail</span></a></td>
    </tr>

    <tr>
      <td>captures_test</td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-captures_test.test-msvc-7.1-debug-threading-multi">
      Warn</a></td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-captures_test.test-msvc-7.1-release-threading-multi">
      Warn</a></td>
    </tr>

    <tr>
      <td>concept_check</td>

      <td class="c1" align="right">Missing</td>

      <td align="right">Pass</td>

      <td class="c1" align="right">Missing</td>

      <td align="right">Pass</td>
    </tr>

    <tr>
      <td>icu_concept_check</td>

      <td class="c1" align="right">Missing</td>

      <td align="right">Pass</td>

      <td class="c1" align="right">Missing</td>

      <td align="right">Pass</td>
    </tr>

    <tr>
      <td>object_cache_test</td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-object_cache_test.test-msvc-7.1-debug-threading-multi">
      Warn</a></td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-object_cache_test.test-msvc-7.1-release-threading-multi">
      Warn</a></td>
    </tr>

    <tr>
      <td>posix_api_check</td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-posix_api_check.test-msvc-7.1-debug-threading-multi">
      Warn</a></td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-posix_api_check.test-msvc-7.1-release-threading-multi">
      Warn</a></td>
    </tr>

    <tr>
      <td>posix_api_check_cpp</td>

      <td class="c1" align="right">Missing</td>

      <td align="right">Pass</td>

      <td class="c1" align="right">Missing</td>

      <td align="right">Pass</td>
    </tr>

    <tr>
      <td>recursion_test</td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-recursion_test.test-msvc-7.1-debug-threading-multi">
      Warn</a></td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-recursion_test.test-msvc-7.1-release-threading-multi">
      Warn</a></td>
    </tr>

    <tr>
      <td>regex_config_info</td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a href="links.html#C:-Boost134-bin.v2-libs-regex-test-regex_config_info.test-msvc-7.1-debug-threading-multi">
      Pass</a></td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a href="links.html#C:-Boost134-bin.v2-libs-regex-test-regex_config_info.test-msvc-7.1-release-threading-multi">
      Pass</a></td>
    </tr>

    <tr>
      <td>regex_dll_config_info</td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a href="links.html#C:-Boost134-bin.v2-libs-regex-test-regex_dll_config_info.test-msvc-7.1-debug-threading-multi">
      Pass</a></td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a href="links.html#C:-Boost134-bin.v2-libs-regex-test-regex_dll_config_info.test-msvc-7.1-release-threading-multi">
      Pass</a></td>
    </tr>

    <tr>
      <td>regex_regress</td>

      <td align="right"><a href="links.html#C:-Boost134-bin.v2-libs-regex-test-regex_regress.test-msvc-7.1-debug-link-static-threading-multi">
      Pass</a><sup>*</sup></td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a href="links.html#C:-Boost134-bin.v2-libs-regex-test-regex_regress.test-msvc-7.1-release-link-static-threading-multi">
      Pass</a><sup>*</sup></td>

      <td class="c1" align="right">Missing</td>
    </tr>

    <tr>
      <td>regex_regress_dll</td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a href="links.html#C:-Boost134-bin.v2-libs-regex-test-regex_regress_dll.test-msvc-7.1-debug-threading-multi">
      Pass</a><sup>*</sup></td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a href="links.html#C:-Boost134-bin.v2-libs-regex-test-regex_regress_dll.test-msvc-7.1-release-threading-multi">
      Pass</a><sup>*</sup></td>
    </tr>

    <tr>
      <td>regex_regress_threaded</td>

      <td class="c1" align="right">Missing</td>

      <td align="right">Pass</td>

      <td class="c1" align="right">Missing</td>

      <td align="right">Pass</td>
    </tr>

    <tr>
      <td>static_mutex_test</td>

      <td class="c1" align="right">Missing</td>

      <td align="right">Pass</td>

      <td class="c1" align="right">Missing</td>

      <td align="right">Pass</td>
    </tr>

    <tr>
      <td>test_collate_info</td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-test_collate_info.test-msvc-7.1-debug-threading-multi">
      Warn</a></td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-test_collate_info.test-msvc-7.1-release-threading-multi">
      Warn</a></td>
    </tr>

    <tr>
      <td>unicode_iterator_test</td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-unicode_iterator_test.test-msvc-7.1-debug-threading-multi">
      Warn</a></td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-unicode_iterator_test.test-msvc-7.1-release-threading-multi">
      Warn</a></td>
    </tr>

    <tr>
      <td>wide_posix_api_check_c</td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-wide_posix_api_check_c.test-msvc-7.1-debug-threading-multi">
      Warn</a></td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-wide_posix_api_check_c.test-msvc-7.1-release-threading-multi">
      Warn</a></td>
    </tr>

    <tr>
      <td>wide_posix_api_check_cpp</td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-wide_posix_api_check_cpp.test-msvc-7.1-debug-threading-multi">
      Warn</a></td>

      <td class="c1" align="right">Missing</td>

      <td align="right"><a class="c2" href="links.html#C:-Boost134-bin.v2-libs-regex-test-wide_posix_api_check_cpp.test-msvc-7.1-release-threading-multi">
      Warn</a></td>
    </tr>
  </tbody></table>

  <p>This table was generated by invoking the following command line:<br />这个表格是通过执行以下命令行生成的：</p>

  <p><code>../../../tools/regression/library_test --toolset=msvc-7.1
  variant=debug,release</code></p>

  <p>from within the .../libs/regex/test directory.<br />运行的目录是 .../libs/regex/test.</p>

  <p>This table shows the regex test results for both debug and release
  versions of the library. Also it displays the fact that one of the tests is
  run specifically with the static linking/multi-threading versions of the
  runtime libraries. The cells marked "Missing" correspond to tests that were
  not run for some reason or another. This is usually because the
  corresponding <code>Jamfile.v2</code> excludes this test for the given
  combination of compiler and build attributes. In this example, all tests
  were run with the same compiler. If additional compilers were used, they
  would appear as more columns in the table.<br />这个表格展示了对 regex 库的调试版本和发布版本的测试结果。同时，它还显示了其中一个测试是特定以运行库的静态链接/多线程版本来运行的。标记为 "Missing" 的单元格对应于因某种原因未运行的测试。这是很有用的，因为对应的 <code>Jamfile.v2</code> 针对给定的编译器和构建属性组合排除了这些测试。在这个例子中，所有测试都是在相同的编译器下运行的。如果使用了其它编译器，则会在表格中增加一列来表示。</p>

  <p>The table above is just an illustration so the links don't actually
  point to anything. In the table you generated, the links will display a
  page describing any errors, warnings or other available information about
  the tests. If the test passes, usually, there is no additional information
  and hence no link.<br />以上表格只是一个示例，所以其中的链接实际上并没有指向任何东西。在你生成的表格中，这些链接会显示一个描述错误、警告或其它有关该项测试的可用信息的网页。通常，如果测试通过，则没有额外的信息，也就没有链接。</p>

  <p>The tables are cumulative. That is, if you run one set of tests now and
  tests with different attributes later, the table will contain all the
  results to date. The test results are stored in
  <code>../bin.v2/libs/test/&lt;library%gt;/...</code>. To reinitialize the
  test results to empty, delete the corresponding files in this
  directory.<br />表格是叠加的。即，如果你现在运行了一组测试，稍后再以不同属性进行测试，则表格中会包含所有结果。测试结果保存在
  <code>../bin.v2/libs/test/&lt;library%gt;/...</code>. 要把测试结果重新清空，请删除该目录下的相应文件。</p>

  <p>The procedure above assumes that the table are generated within the
  directory <code>../libs/&lt;library&gt;/test</code>. This is the most
  common case since this directory contains the <code>Jamfile.v2</code> as
  well as the source code that is used by official boost testers. However,
  this is just a convention. The table can be generated for other directories
  within the libary. One possiblity would be to generate the table for all
  the examples in <code>../libs/%lt;library%gt;/example</code>. Or one might
  have a special directory of performance tests which take a long time to run
  and hence are not suitable for running by official boost testers. Just
  remember that library status table is generated in the directory from which
  the <code>library_test</code> command is invoked.<br />以上过程假定了该表格是在目录 <code>../libs/&lt;library&gt;/test</code> 中生成的。这是最为常见的情形，因为这个目录包含了 <code>Jamfile.v2</code> 以及被正式的boost测试者所使用的源代码。但是，这只是为了方便。这个表格可以在库中的其它目录生成。一种可能性是，为 <code>../libs/%lt;library%gt;/example</code> 中的所有例子。或者你可能有一个专门用于性能测试的目录，性能测试需要较长的运行时间，不适合由正式的boost测试者运行。你只要记住，库的状态表格是在执行 <code>library_test</code> 命令的目录中生成的。</p>

  <h3>Running Tests for All Libraries 为所有库运行测试</h3>For those with *nix or cygwin
  command line shells, there is shell script that can be run from the boost
  root directory:<br />对于 *nix 或 cygwin
  命令行 shells，有一个shell脚本可以从boost根目录直接运行：

  <p><code>tools/regression/library_test_all</code></p>

  <p>The command line arguments are the same as for running the test for one
  library. This script creates all the html files in all the test directories
  as well as an html page in the <code>status</code> directory named
  <code>library_status_summary.html</code>. This can be used to browse
  through all test results for all test in all libraries.<br />命令行参数与针对一个库进行测试是一样的。这个脚本在所有测试目录中生成html文件，并在 status 目录中生成一个名为
  <code>library_status_summary.html</code> 的html页面。它可以用来浏览整个库的所有测试结果。</p>
  <hr />

  <p>Copyright 2007 Robert Ramey. Distributed under the Boost Software
  License, Version 1.0. (See accompanying file LICENSE_1_0.txt or
  http://www.boost.org/LICENSE_1_0.txt)</p>

  <p>Revised $Date: 2007-11-23 12:03:14 -0500 (Fri, 23 Nov 2007) $</p>
</body></html>